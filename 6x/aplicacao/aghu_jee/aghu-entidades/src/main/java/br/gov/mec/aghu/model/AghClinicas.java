package br.gov.mec.aghu.model;

// Generated 18/01/2010 16:28:03 by Hibernate Tools 3.2.5.Beta

import java.util.Set;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.EnumType;
import javax.persistence.Enumerated;
import javax.persistence.FetchType;
import javax.persistence.Id;
import javax.persistence.OneToMany;
import javax.persistence.PrePersist;
import javax.persistence.PreUpdate;
import javax.persistence.Table;
import javax.persistence.Version;


import org.apache.commons.lang3.builder.EqualsBuilder;
import org.apache.commons.lang3.builder.HashCodeBuilder;
import org.hibernate.validator.constraints.Length;

import br.gov.mec.aghu.dominio.DominioSituacao;
import br.gov.mec.aghu.core.exception.BaseRuntimeException;
import br.gov.mec.aghu.core.persistence.BaseEntityCodigo;

/**
 * AghClinicas generated by hbm2java
 */
@Entity
@Table(name = "AGH_CLINICAS", schema = "AGH")

public class AghClinicas extends BaseEntityCodigo<Integer> implements java.io.Serializable {

	/**
	 * 
	 */
	private static final long serialVersionUID = -2310364261687272015L;
	/**
	 * Chave primária na base de dados.
	 */
	private Integer codigo;
	/**
	 * Descrição
	 */
	private String descricao;
	/**
	 * 
	 */
	private Integer capacReferencial;
	/**
	 * 
	 */
	private Integer idadeMinPacAmbulatorio;
	/**
	 * 
	 */
	private Integer idadeMaxPacAmbulatorio;
	/**
	 * 
	 */
	private Integer idadeMinPacInternacao;
	/**
	 * 
	 */
	private Integer idadeMaxPacInternacao;
	/**
	 * 
	 */
	private DominioSituacao indSituacao;
	/**
	 * 
	 */
	private Integer codigoSus;

	private Set<AinIndicadoresHospitalares> indicadoresHospitalares;
	
	private Set<AacNivelBusca> nivelBusca;
	
	private Integer version;
	
	private Set<FatMotivoDesdobrClinica> motivosDesdobrClinicas;
	
	public AghClinicas() {
	}

	public AghClinicas(Integer codigo, String descricao,
			Integer capacReferencial, Integer idadeMinPacAmbulatorio,
			Integer idadeMaxPacAmbulatorio, Integer idadeMinPacInternacao,
			Integer idadeMaxPacInternacao, DominioSituacao indSituacao) {
		this.codigo = codigo;
		this.descricao = descricao;
		this.capacReferencial = capacReferencial;
		this.idadeMinPacAmbulatorio = idadeMinPacAmbulatorio;
		this.idadeMaxPacAmbulatorio = idadeMaxPacAmbulatorio;
		this.idadeMinPacInternacao = idadeMinPacInternacao;
		this.idadeMaxPacInternacao = idadeMaxPacInternacao;
		this.indSituacao = indSituacao;
	}

	public AghClinicas(Integer codigo, String descricao,
			Integer capacReferencial, Integer idadeMinPacAmbulatorio,
			Integer idadeMaxPacAmbulatorio, Integer idadeMinPacInternacao,
			Integer idadeMaxPacInternacao, DominioSituacao indSituacao,
			Integer codigoSus) {
		this.codigo = codigo;
		this.descricao = descricao;
		this.capacReferencial = capacReferencial;
		this.idadeMinPacAmbulatorio = idadeMinPacAmbulatorio;
		this.idadeMaxPacAmbulatorio = idadeMaxPacAmbulatorio;
		this.idadeMinPacInternacao = idadeMinPacInternacao;
		this.idadeMaxPacInternacao = idadeMaxPacInternacao;
		this.indSituacao = indSituacao;
		this.codigoSus = codigoSus;
	}
	
	@PrePersist
	@PreUpdate
	@SuppressWarnings("unused")
	private void validarClinica() {
		if (this.getIdadeMinPacAmbulatorio()>this.getIdadeMaxPacAmbulatorio()) {
			throw new BaseRuntimeException();
		}
		
		if (this.getIdadeMinPacInternacao()>this.getIdadeMaxPacInternacao()) {
			throw new BaseRuntimeException();
		}
		
		if (this.getCapacReferencial()<=0) {
			throw new BaseRuntimeException();
		}
		
		if (this.getIdadeMinPacAmbulatorio() < 0
				|| this.getIdadeMinPacAmbulatorio() < 0
				|| this.getIdadeMinPacInternacao() < 0
				|| this.getIdadeMinPacInternacao() < 0) {
			throw new BaseRuntimeException();
		}
	}

	@Id
	@Column(name = "CODIGO", nullable = false, precision = 2, scale = 0)
	public Integer getCodigo() {
		return this.codigo;
	}

	public void setCodigo(Integer codigo) {
		this.codigo = codigo;
	}

	@Column(name = "DESCRICAO", nullable = false, length = 60)
	@Length(max = 60)
	public String getDescricao() {
		return this.descricao;
	}

	public void setDescricao(String descricao) {
		this.descricao = descricao;
	}

	@Column(name = "CAPAC_REFERENCIAL", nullable = false, precision = 3, scale = 0)
	public Integer getCapacReferencial() {
		return this.capacReferencial;
	}

	public void setCapacReferencial(Integer capacReferencial) {
		this.capacReferencial = capacReferencial;
	}

	@Column(name = "IDADE_MIN_PAC_AMBULATORIO", nullable = false, precision = 3, scale = 0)
	public Integer getIdadeMinPacAmbulatorio() {
		return this.idadeMinPacAmbulatorio;
	}

	public void setIdadeMinPacAmbulatorio(Integer idadeMinPacAmbulatorio) {
		this.idadeMinPacAmbulatorio = idadeMinPacAmbulatorio;
	}

	@Column(name = "IDADE_MAX_PAC_AMBULATORIO", nullable = false, precision = 3, scale = 0)
	public Integer getIdadeMaxPacAmbulatorio() {
		return this.idadeMaxPacAmbulatorio;
	}

	public void setIdadeMaxPacAmbulatorio(Integer idadeMaxPacAmbulatorio) {
		this.idadeMaxPacAmbulatorio = idadeMaxPacAmbulatorio;
	}

	@Column(name = "IDADE_MIN_PAC_INTERNACAO", nullable = false, precision = 3, scale = 0)
	public Integer getIdadeMinPacInternacao() {
		return this.idadeMinPacInternacao;
	}

	public void setIdadeMinPacInternacao(Integer idadeMinPacInternacao) {
		this.idadeMinPacInternacao = idadeMinPacInternacao;
	}

	@Column(name = "IDADE_MAX_PAC_INTERNACAO", nullable = false, precision = 3, scale = 0)
	public Integer getIdadeMaxPacInternacao() {
		return this.idadeMaxPacInternacao;
	}

	public void setIdadeMaxPacInternacao(Integer idadeMaxPacInternacao) {
		this.idadeMaxPacInternacao = idadeMaxPacInternacao;
	}

	@Column(name = "IND_SITUACAO", nullable = false, length = 1)
	@Enumerated(EnumType.STRING)
	public DominioSituacao getIndSituacao() {
		return this.indSituacao;
	}

	public void setIndSituacao(DominioSituacao indSituacao) {
		this.indSituacao = indSituacao;
	}

	@Column(name = "COD_SUS", precision = 2, scale = 0)
	public Integer getCodigoSus() {
		return this.codigoSus;
	}

	public void setCodigoSus(Integer codigoSus) {
		this.codigoSus = codigoSus;
	}

	@OneToMany(fetch = FetchType.LAZY, mappedBy = "clinica")
	public Set<AinIndicadoresHospitalares> getIndicadoresHospitalares() {
		return this.indicadoresHospitalares;
	}

	public void setIndicadoresHospitalares(Set<AinIndicadoresHospitalares> indicadoresHospitalares) {
		this.indicadoresHospitalares = indicadoresHospitalares;
	}
	
	@OneToMany(fetch = FetchType.LAZY, mappedBy = "clinica")
	public Set<AacNivelBusca> getNivelBusca() {
		return this.nivelBusca;
	}

	public void setNivelBusca(Set<AacNivelBusca> nivelBusca) {
		this.nivelBusca = nivelBusca;
	}
	
	
	@OneToMany(fetch = FetchType.LAZY, mappedBy = "aghClinicas")
	public Set<FatMotivoDesdobrClinica> getMotivosDesdobrClinicas() {
		return motivosDesdobrClinicas;
	}

	public void setMotivosDesdobrClinicas(Set<FatMotivoDesdobrClinica> motivosDesdobrClinicas) {
		this.motivosDesdobrClinicas = motivosDesdobrClinicas;
	}
	
	@Override
	public int hashCode() {
		HashCodeBuilder umHashCodeBuilder = new HashCodeBuilder();
		umHashCodeBuilder.append(this.getCodigo());
		umHashCodeBuilder.append(this.getDescricao());
		umHashCodeBuilder.append(this.getIndSituacao());
		return umHashCodeBuilder.toHashCode();
	}	
	
	@Override
	public boolean equals(Object obj) {
		if (this == obj) {
			return true;
		}
		if (obj == null) {
			return false;
		}
		if (!(obj instanceof AghClinicas)) {
			return false;
		}
		AghClinicas other = (AghClinicas) obj;
		EqualsBuilder umEqualsBuilder = new EqualsBuilder();
		umEqualsBuilder.append(this.getCodigo(), other.getCodigo());
		umEqualsBuilder.append(this.getDescricao(), other.getDescricao());
		umEqualsBuilder.append(this.getIndSituacao(), other.getIndSituacao());
		return umEqualsBuilder.isEquals();
	}
	
	@Version
	@Column(name = "VERSION", nullable = false)
	public Integer getVersion() {
		return this.version;
	}

	public void setVersion(Integer version) {
		this.version = version;
	}

	public enum Fields {
		DESCRICAO("descricao"), CODIGO("codigo"), CODIGO_SUS("codigoSus"), SITUACAO(
				"indSituacao"), CAPACIDADE_REFERENCIAL("capacReferencial"), MOTIVO_DESDOBRAMENTO_CLINICA(
				"motivosDesdobrClinicas");

		private String fields;

		private Fields(String fields) {
			this.fields = fields;
		}

		@Override
		public String toString() {
			return this.fields;
		}
	}

}
