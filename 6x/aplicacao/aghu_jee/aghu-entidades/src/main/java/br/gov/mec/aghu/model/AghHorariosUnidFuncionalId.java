package br.gov.mec.aghu.model;

// Generated 28/04/2011 11:03:55 by Hibernate Tools 3.4.0.CR1

import java.util.Date;

import javax.persistence.Column;
import javax.persistence.Embeddable;
import javax.persistence.EnumType;
import javax.persistence.Enumerated;
import javax.persistence.JoinColumn;
import javax.persistence.ManyToOne;
import javax.persistence.Temporal;
import javax.persistence.TemporalType;
import javax.persistence.Transient;


import br.gov.mec.aghu.dominio.DominioTipoDia;
import br.gov.mec.aghu.core.persistence.EntityCompositeId;

/**
 * AghHorariosUnidFuncionalId generated by hbm2java
 */

@Embeddable
public class AghHorariosUnidFuncionalId implements EntityCompositeId {

	/**
	 * 
	 */
	private static final long serialVersionUID = -7996183478343153115L;
	private AghUnidadesFuncionais unidadeFuncional;
	private DominioTipoDia tipoDia;
	private Date hrInicial;

	public AghHorariosUnidFuncionalId() {
	}

	public AghHorariosUnidFuncionalId(AghUnidadesFuncionais unidadeFuncional,
			DominioTipoDia tipoDia, Date hrInicial) {
		super();
		this.unidadeFuncional = unidadeFuncional;
		this.tipoDia = tipoDia;
		this.hrInicial = hrInicial;
	}

	@Column(name = "TIPO_DIA", nullable = false, length = 3)
	@Enumerated(EnumType.STRING)
	public DominioTipoDia getTipoDia() {
		return this.tipoDia;
	}

	public void setTipoDia(DominioTipoDia tipoDia) {
		this.tipoDia = tipoDia;
	}

	@Temporal(TemporalType.TIMESTAMP)
	@Column(name = "HR_INICIAL", nullable = false, length = 29)
	public Date getHrInicial() {
		return this.hrInicial;
	}

	public void setHrInicial(Date hrInicial) {
		this.hrInicial = hrInicial;
	}
	
	@ManyToOne
	@JoinColumn(name = "UNF_SEQ", nullable = false)
	public AghUnidadesFuncionais getUnidadeFuncional() {
		return unidadeFuncional;
	}

	public void setUnidadeFuncional(AghUnidadesFuncionais unidadeFuncional) {
		this.unidadeFuncional = unidadeFuncional;
	}

	@Transient
	public Long getHorarioTransformado(){
		return this.hrInicial.getTime();
	}

	@Override
	public int hashCode() {
		final int prime = 31;
		int result = 1;
		result = prime * result
				+ ((hrInicial == null) ? 0 : hrInicial.hashCode());
		result = prime * result + ((tipoDia == null) ? 0 : tipoDia.hashCode());
		result = prime
				* result
				+ ((unidadeFuncional == null) ? 0 : unidadeFuncional.hashCode());
		return result;
	}



	@Override
	public boolean equals(Object obj) {
		if (this == obj) {
			return true;
		}
		if (obj == null) {
			return false;
		}
		if (getClass() != obj.getClass()) {
			return false;
		}
		AghHorariosUnidFuncionalId other = (AghHorariosUnidFuncionalId) obj;
		if (hrInicial == null) {
			if (other.hrInicial != null) {
				return false;
			}
		} else if (!hrInicial.equals(other.hrInicial)) {
			return false;
		}
		if (tipoDia == null) {
			if (other.tipoDia != null) {
				return false;
			}
		} else if (!tipoDia.equals(other.tipoDia)) {
			return false;
		}
		if (unidadeFuncional == null) {
			if (other.unidadeFuncional != null) {
				return false;
			}
		} else if (!unidadeFuncional.equals(other.unidadeFuncional)) {
			return false;
		}
		return true;
	}

}
