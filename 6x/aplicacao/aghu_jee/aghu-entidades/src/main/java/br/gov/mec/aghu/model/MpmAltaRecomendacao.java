package br.gov.mec.aghu.model;

// Generated 14/09/2010 17:49:55 by Hibernate Tools 3.2.5.Beta

import javax.persistence.AttributeOverride;
import javax.persistence.AttributeOverrides;
import javax.persistence.Column;
import javax.persistence.EmbeddedId;
import javax.persistence.Entity;
import javax.persistence.EnumType;
import javax.persistence.Enumerated;
import javax.persistence.FetchType;
import javax.persistence.JoinColumn;
import javax.persistence.JoinColumns;
import javax.persistence.ManyToOne;
import javax.persistence.PrePersist;
import javax.persistence.PreUpdate;
import javax.persistence.Table;
import javax.persistence.Version;


import org.hibernate.validator.constraints.Length;

import br.gov.mec.aghu.dominio.DominioSituacao;
import br.gov.mec.aghu.core.exception.BaseRuntimeException;
import br.gov.mec.aghu.core.exception.BusinessExceptionCode;
import br.gov.mec.aghu.core.persistence.BaseEntityId;

/**
 * MpmAltaRecomendacoes generated by hbm2java
 */

@Entity
@Table(name = "MPM_ALTA_RECOMENDACOES", schema = "AGH")
public class MpmAltaRecomendacao extends BaseEntityId<MpmAltaRecomendacaoId> implements java.io.Serializable {

	/**
	 * 
	 */
	private static final long serialVersionUID = -7757753617969606056L;
	private MpmAltaRecomendacaoId id;
	private MpmServRecomendacaoAlta servidorRecomendacaoAlta;
	private MpmAltaSumario altaSumario;
	private String descricao;
	private String descricaoSistema;
	private Integer pdtAtdSeq;
	private Integer pdtSeq;
	private Integer pcuAtdSeq;
	private Integer pcuSeq;
	private Integer pmdSeq;
	private Integer pmdAtdSeq;
	private DominioSituacao indSituacao;
	private Integer version;

	public MpmAltaRecomendacao() {
	}

	public MpmAltaRecomendacao(MpmAltaRecomendacaoId id,
			MpmAltaSumario altaSumario, String descricao,
			DominioSituacao indSituacao) {
		this.id = id;
		this.altaSumario = altaSumario;
		this.descricao = descricao;
		this.indSituacao = indSituacao;
	}

	public MpmAltaRecomendacao(MpmAltaRecomendacaoId id,
			MpmServRecomendacaoAlta servidorRecomendacaoAlta,
			MpmAltaSumario altaSumario, String descricao,
			String descricaoSistema, Integer pdtAtdSeq, Integer pdtSeq,
			Integer pcuAtdSeq, Integer pcuSeq, Integer pmdSeq,
			Integer pmdAtdSeq, DominioSituacao indSituacao) {
		this.id = id;
		this.servidorRecomendacaoAlta = servidorRecomendacaoAlta;
		this.altaSumario = altaSumario;
		this.descricao = descricao;
		this.descricaoSistema = descricaoSistema;
		this.pdtAtdSeq = pdtAtdSeq;
		this.pdtSeq = pdtSeq;
		this.pcuAtdSeq = pcuAtdSeq;
		this.pcuSeq = pcuSeq;
		this.pmdSeq = pmdSeq;
		this.pmdAtdSeq = pmdAtdSeq;
		this.indSituacao = indSituacao;
	}

	@EmbeddedId
	@AttributeOverrides( {
			@AttributeOverride(name = "asuApaAtdSeq", column = @Column(name = "ASU_APA_ATD_SEQ", nullable = false, precision = 7, scale = 0)),
			@AttributeOverride(name = "asuApaSeq", column = @Column(name = "ASU_APA_SEQ", nullable = false, precision = 8, scale = 0)),
			@AttributeOverride(name = "asuSeqp", column = @Column(name = "ASU_SEQP", nullable = false, precision = 3, scale = 0)),
			@AttributeOverride(name = "seqp", column = @Column(name = "SEQP", nullable = false, precision = 3, scale = 0)) })
	public MpmAltaRecomendacaoId getId() {
		return this.id;
	}

	public void setId(MpmAltaRecomendacaoId id) {
		this.id = id;
	}

	@ManyToOne(fetch = FetchType.LAZY)
	@JoinColumns( {
			@JoinColumn(name = "SRA_SER_MATRICULA", referencedColumnName = "SER_MATRICULA"),
			@JoinColumn(name = "SRA_SER_VIN_CODIGO", referencedColumnName = "SER_VIN_CODIGO"),
			@JoinColumn(name = "SRA_SEQP", referencedColumnName = "SEQP") })
	public MpmServRecomendacaoAlta getServidorRecomendacaoAlta() {
		return this.servidorRecomendacaoAlta;
	}

	public void setServidorRecomendacaoAlta(
			MpmServRecomendacaoAlta servidorRecomendacaoAlta) {
		this.servidorRecomendacaoAlta = servidorRecomendacaoAlta;
	}

	@ManyToOne(fetch = FetchType.LAZY)
	@JoinColumns( {
			@JoinColumn(name = "ASU_APA_ATD_SEQ", referencedColumnName = "APA_ATD_SEQ", insertable = false, updatable = false),
			@JoinColumn(name = "ASU_APA_SEQ", referencedColumnName = "APA_SEQ", insertable = false, updatable = false),
			@JoinColumn(name = "ASU_SEQP", referencedColumnName = "SEQP", insertable = false, updatable = false) })
	public MpmAltaSumario getAltaSumario() {
		return this.altaSumario;
	}

	public void setAltaSumario(MpmAltaSumario altaSumario) {
		this.altaSumario = altaSumario;
	}

	@Column(name = "DESCRICAO", nullable = false, length = 1000)
	@Length(max = 1000)
	public String getDescricao() {
		return this.descricao;
	}

	public void setDescricao(String descricao) {
		this.descricao = descricao;
	}

	@Column(name = "DESCRICAO_SISTEMA", length = 1000)
	@Length(max = 1000)
	public String getDescricaoSistema() {
		return this.descricaoSistema;
	}

	public void setDescricaoSistema(String descricaoSistema) {
		this.descricaoSistema = descricaoSistema;
	}

	@Column(name = "PDT_ATD_SEQ", precision = 7, scale = 0)
	public Integer getPdtAtdSeq() {
		return this.pdtAtdSeq;
	}

	public void setPdtAtdSeq(Integer pdtAtdSeq) {
		this.pdtAtdSeq = pdtAtdSeq;
	}

	@Column(name = "PDT_SEQ", precision = 8, scale = 0)
	public Integer getPdtSeq() {
		return this.pdtSeq;
	}

	public void setPdtSeq(Integer pdtSeq) {
		this.pdtSeq = pdtSeq;
	}

	@Column(name = "PCU_ATD_SEQ", precision = 7, scale = 0)
	public Integer getPcuAtdSeq() {
		return this.pcuAtdSeq;
	}

	public void setPcuAtdSeq(Integer pcuAtdSeq) {
		this.pcuAtdSeq = pcuAtdSeq;
	}

	@Column(name = "PCU_SEQ", precision = 8, scale = 0)
	public Integer getPcuSeq() {
		return this.pcuSeq;
	}

	public void setPcuSeq(Integer pcuSeq) {
		this.pcuSeq = pcuSeq;
	}

	@Column(name = "PMD_SEQ", precision = 8, scale = 0)
	public Integer getPmdSeq() {
		return this.pmdSeq;
	}

	public void setPmdSeq(Integer pmdSeq) {
		this.pmdSeq = pmdSeq;
	}

	@Column(name = "PMD_ATD_SEQ", precision = 7, scale = 0)
	public Integer getPmdAtdSeq() {
		return this.pmdAtdSeq;
	}

	public void setPmdAtdSeq(Integer pmdAtdSeq) {
		this.pmdAtdSeq = pmdAtdSeq;
	}

	@Column(name = "IND_SITUACAO", nullable = false, length = 1)
	@Enumerated(EnumType.STRING)
	public DominioSituacao getIndSituacao() {
		return this.indSituacao;
	}

	public void setIndSituacao(DominioSituacao indSituacao) {
		this.indSituacao = indSituacao;
	}

	@Version
	@Column(name = "VERSION", nullable = false)
	public Integer getVersion() {
		return this.version;
	}

	public void setVersion(Integer version) {
		this.version = version;
	}

	/* (non-Javadoc)
	 * @see java.lang.Object#hashCode()
	 */
	@Override
	public int hashCode() {
		final int prime = 31;
		int result = 1;
		result = prime * result + ((this.id == null) ? 0 : this.id.hashCode());
		return result;
	}

	/* (non-Javadoc)
	 * @see java.lang.Object#equals(java.lang.Object)
	 */
	@Override
	public boolean equals(Object obj) {
		if (this == obj) {
			return true;
		}
		if (obj == null) {
			return false;
		}
		if (getClass() != obj.getClass()) {
			return false;
		}
		MpmAltaRecomendacao other = (MpmAltaRecomendacao) obj;
		if (this.id == null) {
			if (other.id != null) {
				return false;
			}
		} else if (!this.id.equals(other.id)) {
			return false;
		}
		return true;
	}
	
	
	@PrePersist
	@PreUpdate
	@SuppressWarnings("unused")
	private void validarConstraints() {

		/* MPM_ARC_CK1 */
		boolean condicao1 = (this.servidorRecomendacaoAlta != null && servidorRecomendacaoAlta.getId() != null)
				&& this.pdtAtdSeq == null
				&& this.pdtSeq == null
				&& this.pcuAtdSeq == null
				&& this.pcuSeq == null
				&& this.pmdSeq == null
				&& this.pmdAtdSeq ==  null;
		boolean condicao2 = this.servidorRecomendacaoAlta == null
				&& this.pdtAtdSeq != null 
				&& this.pdtSeq != null
				&& this.pcuAtdSeq == null
				&& this.pcuSeq == null
				&& this.pmdSeq == null
				&& this.pmdAtdSeq == null;
		boolean condicao3 = this.servidorRecomendacaoAlta == null
				&& this.pdtAtdSeq == null
				&& this.pdtSeq == null
				&& this.pcuAtdSeq != null
				&& this.pcuSeq != null
				&& this.pmdSeq == null
				&& this.pmdAtdSeq ==  null;
		boolean condicao4 = this.servidorRecomendacaoAlta == null
				&& this.pdtAtdSeq == null
				&& this.pdtSeq == null
				&& this.pcuAtdSeq == null
				&& this.pcuSeq == null
				&& this.pmdSeq != null
				&& this.pmdAtdSeq !=  null;
		boolean condicao5 = this.servidorRecomendacaoAlta == null
				&& this.pdtAtdSeq == null
				&& this.pdtSeq == null
				&& this.pcuAtdSeq == null
				&& this.pcuSeq == null
				&& this.pmdSeq == null
				&& this.pmdAtdSeq ==  null;
						
		if (!(condicao1 || condicao2 || condicao3 || condicao4 || condicao5)) {
			throw new BaseRuntimeException(AltaRecomendacoesExceptionCode.MPM_ARC_CK1);
		}
	}
	
	private enum AltaRecomendacoesExceptionCode implements BusinessExceptionCode {
		MPM_ARC_CK1
	}
	
	public enum Fields {
		ID("id"),
		ASU_APA_ATD_SEQ("id.asuApaAtdSeq"),
		ASU_APA_SEQ("id.asuApaSeq"),
		ASU_SEQP("id.asuSeqp"),
		SEQP("id.seqp"),
		IND_SITUACAO("indSituacao"),
		DESCRICAO_SISTEMA("descricaoSistema"),
		DESCRICAO("descricao")
		, ALTA_SUMARIO_ID("altaSumario.id")
		, PDT_ATD_SEQ("pdtAtdSeq")
		, PCU_ATD_SEQ("pcuAtdSeq")
		, PMD_ATD_SEQ("pmdAtdSeq")
		, PCU_SEQ("pcuSeq")
		, PDT_SEQ("pdtSeq")
		, PMD_SEQ("pmdSeq") 
		,SERVIDOR_RECOMENDACAO("servidorRecomendacaoAlta")
		,REC_ALTA_SERV_MAT("servidorRecomendacaoAlta.id.serMatricula")
		,REC_ALTA_SERV_VIN("servidorRecomendacaoAlta.id.serVinCodigo")
		,REC_ALTA_SERV_SEQ("servidorRecomendacaoAlta.id.seqp");
		
		private String fields;

		private Fields(String fields) {
			this.fields = fields;
		}

		@Override
		public String toString() {
			return this.fields;
		}
	}	
	

}
