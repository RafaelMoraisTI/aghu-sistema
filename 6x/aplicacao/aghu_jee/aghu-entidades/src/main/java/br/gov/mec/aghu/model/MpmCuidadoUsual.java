package br.gov.mec.aghu.model;

// Generated 14/09/2010 17:49:55 by Hibernate Tools 3.2.5.Beta

import java.util.Date;
import java.util.HashSet;
import java.util.Set;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.EnumType;
import javax.persistence.Enumerated;
import javax.persistence.FetchType;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.JoinColumn;
import javax.persistence.JoinColumns;
import javax.persistence.ManyToOne;
import javax.persistence.OneToMany;
import javax.persistence.PrePersist;
import javax.persistence.PreUpdate;
import javax.persistence.SequenceGenerator;
import javax.persistence.Table;
import javax.persistence.Temporal;
import javax.persistence.TemporalType;
import javax.persistence.Transient;


import org.apache.commons.lang3.StringUtils;
import org.hibernate.validator.constraints.Length;

import br.gov.mec.aghu.dominio.DominioSituacao;
import br.gov.mec.aghu.core.exception.BaseRuntimeException;
import br.gov.mec.aghu.core.persistence.BaseEntitySeq;

/**
 * MpmCuidadoUsual generated by hbm2java
 */

@Entity
@SequenceGenerator(name="mpmCduSq1", sequenceName="AGH.MPM_CDU_SQ1", allocationSize = 1)
@Table(name = "MPM_CUIDADO_USUAIS", schema = "AGH")
public class MpmCuidadoUsual extends BaseEntitySeq<Integer> implements java.io.Serializable {

	/**
	 * 
	 */
	private static final long serialVersionUID = -3644767518692370297L;

	private static final String SINTAXE_MARCADOR = "#";
	
	private Integer seq;
	private MpmTipoFrequenciaAprazamento mpmTipoFreqAprazamentos;
	private RapServidores rapServidores;
	private String descricao;
	private Boolean indImpMapaDietas;
	private Date criadoEm;
	private DominioSituacao indSituacao;
	private Short frequencia;
	private Boolean indDigitaComplemento;
	private Boolean indCci;
	private Boolean indOutros;
	private Boolean indUsoQuimioterapia;
	private Boolean indUsoDialise;
	private Date tempo;
	private Boolean indSondaVesical;
	private Boolean indCpa;
	private Date alteradoEm;
	private RapServidores rapServidorMovimentado;
	
	private Set<MpmMensPrcrCuidado> mpmMensPrcrCuidadoses = new HashSet<MpmMensPrcrCuidado>(
			0);
	private Set<MpmItemCuidadoSumario> mpmItemCuidadoSumarioses = new HashSet<MpmItemCuidadoSumario>(
			0);
	private Set<MpmModeloBasicoCuidado> mpmModBasicCuidadoses = new HashSet<MpmModeloBasicoCuidado>(
			0);
	private Set<MpmPrescricaoCuidado> mpmPrescricaoCuidadoses = new HashSet<MpmPrescricaoCuidado>(
			0);
	private Set<MpmCuidadoUsualClinica> mpmCuidadoUsualClinicases = new HashSet<MpmCuidadoUsualClinica>(
			0);
	private Set<MpmCuidadoUsualUnf> mpmCuidadoUsualUnfses = new HashSet<MpmCuidadoUsualUnf>(
			0);
	
	private Short tfqSeq;
	
//	private enum MpmCuidadoUsualExceptionCode implements BusinessExceptionCode {
//		MPM_00752, MENSAGEM_INFORMAR_TIPO_APRAZAMENTO;
//	}

	
	public MpmCuidadoUsual() {
	}

	public MpmCuidadoUsual(Integer seq, RapServidores rapServidores,
			String descricao, Boolean indImpMapaDietas, Date criadoEm,
			DominioSituacao indSituacao, Boolean indDigitaComplemento,
			Boolean indCci, Boolean indOutros, Boolean indUsoQuimioterapia,
			Boolean indUsoDialise, Boolean indCpa,
			Date alteradoEm, RapServidores rapServidorMovimentado) {
		this.seq = seq;
		this.rapServidores = rapServidores;
		this.descricao = descricao;
		this.indImpMapaDietas = indImpMapaDietas;
		this.criadoEm = criadoEm;
		this.indSituacao = indSituacao;
		this.indDigitaComplemento = indDigitaComplemento;
		this.indCci = indCci;
		this.indOutros = indOutros;
		this.indUsoQuimioterapia = indUsoQuimioterapia;
		this.indUsoDialise = indUsoDialise;
		this.indCpa = indCpa;
		this.alteradoEm = alteradoEm;
		this.rapServidorMovimentado = rapServidorMovimentado;
	}

	public MpmCuidadoUsual(Integer seq,
			MpmTipoFrequenciaAprazamento mpmTipoFreqAprazamentos,
			RapServidores rapServidores, String descricao,
			Boolean indImpMapaDietas, Date criadoEm,
			DominioSituacao indSituacao, Short frequencia,
			Boolean indDigitaComplemento, Boolean indCci, Boolean indOutros,
			Boolean indUsoQuimioterapia, Boolean indUsoDialise, Date tempo,
			Boolean indSondaVesical, Boolean indCpa,
			Date alteradoEm, RapServidores rapServidorMovimentado,
			Set<MpmMensPrcrCuidado> mpmMensPrcrCuidadoses,
			Set<MpmItemCuidadoSumario> mpmItemCuidadoSumarioses,
			Set<MpmModeloBasicoCuidado> mpmModBasicCuidadoses,
			Set<MpmPrescricaoCuidado> mpmPrescricaoCuidadoses,
			Set<MpmCuidadoUsualClinica> mpmCuidadoUsualClinicases,
			Set<MpmCuidadoUsualUnf> mpmCuidadoUsualUnfses) {
		this.seq = seq;
		this.mpmTipoFreqAprazamentos = mpmTipoFreqAprazamentos;
		this.rapServidores = rapServidores;
		this.descricao = descricao;
		this.indImpMapaDietas = indImpMapaDietas;
		this.criadoEm = criadoEm;
		this.indSituacao = indSituacao;
		this.frequencia = frequencia;
		this.indDigitaComplemento = indDigitaComplemento;
		this.indCci = indCci;
		this.indOutros = indOutros;
		this.indUsoQuimioterapia = indUsoQuimioterapia;
		this.indUsoDialise = indUsoDialise;
		this.tempo = tempo;
		this.indSondaVesical = indSondaVesical;
		this.indCpa = indCpa;
		this.alteradoEm = alteradoEm;
		this.rapServidorMovimentado = rapServidorMovimentado;
		this.mpmMensPrcrCuidadoses = mpmMensPrcrCuidadoses;
		this.mpmItemCuidadoSumarioses = mpmItemCuidadoSumarioses;
		this.mpmModBasicCuidadoses = mpmModBasicCuidadoses;
		this.mpmPrescricaoCuidadoses = mpmPrescricaoCuidadoses;
		this.mpmCuidadoUsualClinicases = mpmCuidadoUsualClinicases;
		this.mpmCuidadoUsualUnfses = mpmCuidadoUsualUnfses;
	}

	@Id
	@GeneratedValue(strategy = GenerationType.AUTO, generator = "mpmCduSq1")
	@Column(name = "SEQ", unique = true, nullable = false, precision = 6, scale = 0)
	public Integer getSeq() {
		return this.seq;
	}

	public void setSeq(Integer seq) {
		this.seq = seq;
	}

	@ManyToOne(fetch = FetchType.LAZY)
	@JoinColumn(name = "TFQ_SEQ")
	public MpmTipoFrequenciaAprazamento getMpmTipoFreqAprazamentos() {
		return this.mpmTipoFreqAprazamentos;
	}

	public void setMpmTipoFreqAprazamentos(
			MpmTipoFrequenciaAprazamento mpmTipoFreqAprazamentos) {
		this.mpmTipoFreqAprazamentos = mpmTipoFreqAprazamentos;
	}

	@ManyToOne(fetch = FetchType.LAZY)
	@JoinColumns( { @JoinColumn(name = "SER_MATRICULA", nullable = false),
			@JoinColumn(name = "SER_VIN_CODIGO", nullable = false) })
	public RapServidores getRapServidores() {
		return rapServidores;
	}

	public void setRapServidores(RapServidores rapServidores) {
		this.rapServidores = rapServidores;
	}

	@Column(name = "DESCRICAO", nullable = false, length = 120)
	@Length(max = 120)
	public String getDescricao() {
		return this.descricao;
	}

	public void setDescricao(String descricao) {
		this.descricao = descricao;
	}

	@Column(name = "IND_IMP_MAPA_DIETAS", nullable = false, length = 1)
	@org.hibernate.annotations.Type(type = "br.gov.mec.aghu.core.persistence.type.BooleanUserType")
	public Boolean getIndImpMapaDietas() {
		return this.indImpMapaDietas;
	}

	public void setIndImpMapaDietas(Boolean indImpMapaDietas) {
		this.indImpMapaDietas = indImpMapaDietas;
	}

	@Temporal(TemporalType.TIMESTAMP)
	@Column(name = "CRIADO_EM", nullable = false, length = 7)
	public Date getCriadoEm() {
		return this.criadoEm;
	}

	public void setCriadoEm(Date criadoEm) {
		this.criadoEm = criadoEm;
	}

	@Column(name = "IND_SITUACAO", nullable = false, length = 1)
	@Enumerated(EnumType.STRING)
	public DominioSituacao getIndSituacao() {
		return this.indSituacao;
	}

	public void setIndSituacao(DominioSituacao indSituacao) {
		this.indSituacao = indSituacao;
	}

	@Column(name = "FREQUENCIA", precision = 3, scale = 0)
	public Short getFrequencia() {
		return this.frequencia;
	}

	public void setFrequencia(Short frequencia) {
		this.frequencia = frequencia;
	}

	@Column(name = "IND_DIGITA_COMPLEMENTO", nullable = false, length = 1)
	@org.hibernate.annotations.Type(type = "br.gov.mec.aghu.core.persistence.type.BooleanUserType")
	public Boolean getIndDigitaComplemento() {
		return this.indDigitaComplemento;
	}

	public void setIndDigitaComplemento(Boolean indDigitaComplemento) {
		this.indDigitaComplemento = indDigitaComplemento;
	}

	@Column(name = "IND_CCI", nullable = false, length = 1)
	@org.hibernate.annotations.Type(type = "br.gov.mec.aghu.core.persistence.type.BooleanUserType")
	public Boolean getIndCci() {
		return this.indCci;
	}

	public void setIndCci(Boolean indCci) {
		this.indCci = indCci;
	}

	@Column(name = "IND_OUTROS", nullable = false, length = 1)
	@org.hibernate.annotations.Type(type = "br.gov.mec.aghu.core.persistence.type.BooleanUserType")
	public Boolean getIndOutros() {
		return this.indOutros;
	}

	public void setIndOutros(Boolean indOutros) {
		this.indOutros = indOutros;
	}

	@Column(name = "IND_USO_QUIMIOTERAPIA", nullable = false, length = 1)
	@org.hibernate.annotations.Type(type = "br.gov.mec.aghu.core.persistence.type.BooleanUserType")
	public Boolean getIndUsoQuimioterapia() {
		return this.indUsoQuimioterapia;
	}

	public void setIndUsoQuimioterapia(Boolean indUsoQuimioterapia) {
		this.indUsoQuimioterapia = indUsoQuimioterapia;
	}

	@Column(name = "IND_USO_DIALISE", nullable = false, length = 1)
	@org.hibernate.annotations.Type(type = "br.gov.mec.aghu.core.persistence.type.BooleanUserType")
	public Boolean getIndUsoDialise() {
		return this.indUsoDialise;
	}

	public void setIndUsoDialise(Boolean indUsoDialise) {
		this.indUsoDialise = indUsoDialise;
	}

	@Temporal(TemporalType.TIMESTAMP)
	@Column(name = "TEMPO", length = 7)
	public Date getTempo() {
		return this.tempo;
	}

	public void setTempo(Date tempo) {
		this.tempo = tempo;
	}

	@Column(name = "IND_SONDA_VESICAL", length = 1)
	@org.hibernate.annotations.Type(type = "br.gov.mec.aghu.core.persistence.type.BooleanUserType")
	public Boolean getIndSondaVesical() {
		return this.indSondaVesical;
	}

	public void setIndSondaVesical(Boolean indSondaVesical) {
		this.indSondaVesical = indSondaVesical;
	}

	@Column(name = "IND_CPA", nullable = false, length = 1)
	@org.hibernate.annotations.Type(type = "br.gov.mec.aghu.core.persistence.type.BooleanUserType")
	public Boolean getIndCpa() {
		return this.indCpa;
	}

	public void setIndCpa(Boolean indCpa) {
		this.indCpa = indCpa;
	}

	@Temporal(TemporalType.TIMESTAMP)
	@Column(name = "ALTERADO_EM", length = 7)
	public Date getAlteradoEm() {
		return alteradoEm;
	}

	public void setAlteradoEm(Date alteradoEm) {
		this.alteradoEm = alteradoEm;
	}

	@ManyToOne(fetch = FetchType.LAZY)
	@JoinColumns( { @JoinColumn(name = "SER_MATRICULA_MOVIMENTADO", referencedColumnName = "MATRICULA"),
			@JoinColumn(name = "SER_VIN_CODIGO_MOVIMENTADO", referencedColumnName = "VIN_CODIGO") })
	public RapServidores getRapServidorMovimentado() {
		return rapServidorMovimentado;
	}

	public void setRapServidorMovimentado(RapServidores rapServidorMovimentado) {
		this.rapServidorMovimentado = rapServidorMovimentado;
	}

	@OneToMany(fetch = FetchType.LAZY, mappedBy="cuidadoUsual")
	public Set<MpmMensPrcrCuidado> getMpmMensPrcrCuidadoes() {
		return this.mpmMensPrcrCuidadoses;
	}

	public void setMpmMensPrcrCuidadoes(
			Set<MpmMensPrcrCuidado> mpmMensPrcrCuidadoses) {
		this.mpmMensPrcrCuidadoses = mpmMensPrcrCuidadoses;
	}

	@OneToMany(fetch = FetchType.LAZY, mappedBy="cuidadoUsual")
	public Set<MpmItemCuidadoSumario> getMpmItemCuidadoSumarioses() {
		return this.mpmItemCuidadoSumarioses;
	}

	public void setMpmItemCuidadoSumarioses(
			Set<MpmItemCuidadoSumario> mpmItemCuidadoSumarioses) {
		this.mpmItemCuidadoSumarioses = mpmItemCuidadoSumarioses;
	}

	@OneToMany(fetch = FetchType.LAZY, mappedBy="cuidadoUsual")
	public Set<MpmModeloBasicoCuidado> getMpmModBasicCuidadoses() {
		return this.mpmModBasicCuidadoses;
	}

	public void setMpmModBasicCuidadoses(
			Set<MpmModeloBasicoCuidado> mpmModBasicCuidadoses) {
		this.mpmModBasicCuidadoses = mpmModBasicCuidadoses;
	}

	@OneToMany(fetch = FetchType.LAZY, mappedBy="mpmCuidadoUsuais")
	public Set<MpmPrescricaoCuidado> getMpmPrescricaoCuidadoses() {
		return this.mpmPrescricaoCuidadoses;
	}

	public void setMpmPrescricaoCuidadoses(
			Set<MpmPrescricaoCuidado> mpmPrescricaoCuidadoses) {
		this.mpmPrescricaoCuidadoses = mpmPrescricaoCuidadoses;
	}

	@OneToMany(fetch = FetchType.LAZY, mappedBy="mpmCuidadoUsuais")
	public Set<MpmCuidadoUsualClinica> getMpmCuidadoUsualClinicases() {
		return this.mpmCuidadoUsualClinicases;
	}

	public void setMpmCuidadoUsualClinicases(
			Set<MpmCuidadoUsualClinica> mpmCuidadoUsualClinicases) {
		this.mpmCuidadoUsualClinicases = mpmCuidadoUsualClinicases;
	}

	@OneToMany(fetch = FetchType.LAZY, mappedBy="mpmCuidadoUsuais")
	public Set<MpmCuidadoUsualUnf> getMpmCuidadoUsualUnfses() {
		return this.mpmCuidadoUsualUnfses;
	}

	public void setMpmCuidadoUsualUnfses(
			Set<MpmCuidadoUsualUnf> mpmCuidadoUsualUnfses) {
		this.mpmCuidadoUsualUnfses = mpmCuidadoUsualUnfses;
	}

	@Column(name = "TFQ_SEQ", insertable = false, updatable = false)
	public Short getTfqSeq() {
		return tfqSeq;
	}

	public void setTfqSeq(Short tfqSeq) {
		this.tfqSeq = tfqSeq;
	}

	public enum Fields {
		SEQ("seq"), TIPO_FREQ_APRAZAMENTOS("mpmTipoFreqAprazamentos"), RAP_SERVIDORES(
				"rapServidores"), DESCRICAO("descricao"), IND_IMP_MAPA_DIETAS(
				"indImpMapaDietas"), CRIADO_EM("criadoEm"), IND_SITUACAO(
				"indSituacao"), FREQUENCIA("frequencia"), IND_DIGITA_COMPLEMENTO(
				"indDigitaComplemento"), IND_CCI("indCci"), IND_OUTROS(
				"indOutros"), IND_USO_QUIMIOTERAPIA("indUsoQuimioterapia"), IND_USO_DIALISE(
				"indUsoDialise"), TEMPO("tempo"), IND_SONDA_VESICAL("indSondaVesical"), IND_CPA("indCpa"),
				UNIDADES("mpmCuidadoUsualUnfses"), TFQ_SEQ("tfqSeq");

		private String fields;

		private Fields(String fields) {
			this.fields = fields;
		}

		@Override
		public String toString() {
			return this.fields;
		}
	}
	
	@PrePersist
	@PreUpdate
	@SuppressWarnings("unused")
	private void validarCuidadoUsuais() {
		
		if ( !((frequencia != null && mpmTipoFreqAprazamentos != null) || (frequencia == null)) ) {
			throw new BaseRuntimeException();
		}
		
		if(this.frequencia != null && (this.mpmTipoFreqAprazamentos != null
				&& !this.mpmTipoFreqAprazamentos.getIndDigitaFrequencia())){
			throw new BaseRuntimeException();
		}
	}
	
	@Transient
	public String getSintaxeTipoFreqAprazamentoFormatada() {
		
		if (this.frequencia != null && this.mpmTipoFreqAprazamentos != null) {
			if (StringUtils.isNotBlank(this.mpmTipoFreqAprazamentos.getSintaxe())) {
				return this.mpmTipoFreqAprazamentos.getSintaxe().replaceAll(SINTAXE_MARCADOR, frequencia.toString());
			}
		}else{
			if(this.mpmTipoFreqAprazamentos != null && StringUtils.isNotBlank(this.mpmTipoFreqAprazamentos.getDescricao())){
				return this.mpmTipoFreqAprazamentos.getDescricao();
			}
		}
		
		return null;
	}


	// ##### GeradorEqualsHashCodeMain #####
	@Override
	public int hashCode() {
		final int prime = 31;
		int result = 1;
		result = prime * result + ((getSeq() == null) ? 0 : getSeq().hashCode());
		return result;
	}
	
	@Override
	public boolean equals(Object obj) {
		if (this == obj) {
			return true;
		}
		if (obj == null) {
			return false;
		}
		if (!(obj instanceof MpmCuidadoUsual)) {
			return false;
		}
		MpmCuidadoUsual other = (MpmCuidadoUsual) obj;
		if (getSeq() == null) {
			if (other.getSeq() != null) {
				return false;
			}
		} else if (!getSeq().equals(other.getSeq())) {
			return false;
		}
		return true;
	}
	// ##### GeradorEqualsHashCodeMain #####

}
