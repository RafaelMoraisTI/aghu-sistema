<!DOCTYPE html>
<html>
<title>API Document</title>

<xmp theme="united" style="display:none;">
#AGHU API Service


## HTTP | HTTPS://localhost:8080/aghu/rs/


AGHU Rest API


[**Contact the developer**](mailto:arquitetura-aghu@googlegroups.com)


**Version** v0.1

[**Terms of Service**](https://intranet.hcpa.ufrgs.br/content/view/8156/961/)

[**Apache 2.0**](http://www.apache.org/licenses/LICENSE-2.0.html)










# APIs


## /certificacaodigital/assinaturadigital/certificado/valida/{certificadoPEM}






### POST


<a id="validarCadeiaCertificado">Valida a cadeia de certificado.</a>









#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>certificadoPEM</th>
    <td>path</td>
    <td>yes</td>
    <td>Certificado que será validado</td>
    <td> - </td>

    
            <td>string </td>
    

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | Validação OK |  - |
| 406    | Validação NOK |  - |
| 503    | Erro realizar validacoes da cadeia de certificados |  - |















## /certificacaodigital/assinaturadigital/documento/{id}


### GET

<a id="obterArquivo">Retorna o documento a ser assinado.</a>









#### Request



##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>id</th>
    <td>path</td>
    <td>yes</td>
    <td>ID do documento</td>
    <td> - </td>

    
            <td>integer (int32)</td>
    

</tr>


</table>



#### Response

**Content-Type: ** application/octet-stream


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | Achou o arquivo |  - |
| 404    | Erro buscar AGH_VERSOES_DOCUMENTOS |  - |


















## /certificacaodigital/assinaturadigital/envelope/{id}/{envelopeFormatoBase64}






### POST


<a id="atualizarEnvelope">Atualiza a base de dados com o envelope criptográfico de assinatura.</a>









#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>envelopeFormatoBase64</th>
    <td>path</td>
    <td>yes</td>
    <td>Envelope criptográfico de assinatura</td>
    <td> - </td>

    
            <td>string </td>
    

</tr>

<tr>
    <th>id</th>
    <td>path</td>
    <td>yes</td>
    <td>ID</td>
    <td> - </td>

    
            <td>string </td>
    

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | Atualização OK |  - |
| 417    | Erro atualizar envelope |  - |















## /certificacaodigital/assinaturadigital/timestamp


### GET

<a id="obterDataHoraServidor">Retorna a data/hora do servidor</a>

Retorna a data/hora do servidor no formato ISO8601 (yyyyMMdd&#x27;T&#x27;HHmmss)







#### Request



##### Parameters






#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | Data/Hora do Servidor |  - |


















## /certificacaodigital/assinaturadigital/usuario/responsavel/permite/{cpf}/{usuario}/{vinculo}/{matricula}


### GET

<a id="validarCertificadoParaServidor">Valida se o usuário do cartão tem permissão para executar a assinatura, consistindo vínculo e matrícula, bem como valida se suas crendenciais são válidas.</a>









#### Request



##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>cpf</th>
    <td>path</td>
    <td>yes</td>
    <td>CPF do usuário</td>
    <td> - </td>

    
            <td>string </td>
    

</tr>

<tr>
    <th>usuario</th>
    <td>path</td>
    <td>yes</td>
    <td>Login do Usuário</td>
    <td> - </td>

    
            <td>string </td>
    

</tr>

<tr>
    <th>vinculo</th>
    <td>path</td>
    <td>yes</td>
    <td>Vínculo do Usuário</td>
    <td> - </td>

    
            <td>integer (int32)</td>
    

</tr>

<tr>
    <th>matricula</th>
    <td>path</td>
    <td>yes</td>
    <td>Matrícula do Usuário</td>
    <td> - </td>

    
            <td>integer (int32)</td>
    

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | Validação OK |  - |
| 406    | Validação NOK |  - |


















## /certificacaodigital/inativardocumentos






### POST


<a id="inativarVersaoDocumentos">Inativa versao de documentos</a>









#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>body</th>
    <td>body</td>
    <td>no</td>
    <td>Lista de Identificadores de Documentos</td>
    <td> - </td>

    <td>
    Array[<a href=""></a>]
    
    </td>

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | Operação Concluída |  - |















## /certificacaodigital/verificarhabilitacao


### GET

<a id="verificarHabilitacao">Verifica se servidor possui habilitacao para certificação digital</a>









#### Request



##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>body</th>
    <td>body</td>
    <td>no</td>
    <td>Vínculo do Usuário</td>
    <td> - </td>

    <td>
    
    
    </td>

</tr>

<tr>
    <th>body</th>
    <td>body</td>
    <td>no</td>
    <td>Matrícula do Usuário</td>
    <td> - </td>

    <td>
    
    
    </td>

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | Status da habilitacao (true/false) |  - |


















## /certificacaodigital/verificarpendencia


### GET

<a id="existePendenciaAssinaturaDigital">Verifica se servidor possui pendências de assinatura digital</a>









#### Request



##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>body</th>
    <td>body</td>
    <td>no</td>
    <td>Identificador do atendimento</td>
    <td> - </td>

    <td>
    
    
    </td>

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | Possui pendencia |  - |
| 406    | Não Possui habilitacao |  - |


















## /registrocolaborador/cadastrosbasicos/instituicoes


### GET

<a id="buscaInstQualificadora">Retorna as Instituições Qualificadoras com o filtro especificado.</a>









#### Request



##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>codigo</th>
    <td>query</td>
    <td>no</td>
    <td>Codigo</td>
    <td> - </td>

    
            <td>integer (int32)</td>
    

</tr>

<tr>
    <th>descricao</th>
    <td>query</td>
    <td>no</td>
    <td>Descrição</td>
    <td> - </td>

    
            <td>string </td>
    

</tr>

<tr>
    <th>interno</th>
    <td>query</td>
    <td>no</td>
    <td>Interno</td>
    <td> - </td>

    
            <td>string </td>
    

</tr>

<tr>
    <th>usogppg</th>
    <td>query</td>
    <td>no</td>
    <td>usoGPPG</td>
    <td> - </td>

    
            <td>string </td>
    

</tr>

<tr>
    <th>firstresult</th>
    <td>query</td>
    <td>yes</td>
    <td>Primeiro registro da página</td>
    <td> - </td>

    
            <td>integer (int32)</td>
    

</tr>

<tr>
    <th>maxresults</th>
    <td>query</td>
    <td>yes</td>
    <td>Número de registros na página</td>
    <td>10</td>

    
            <td>integer (int32)</td>
    

</tr>

<tr>
    <th>orderproperty</th>
    <td>query</td>
    <td>no</td>
    <td>Propriedade que será ordenada</td>
    <td> - </td>

    
            <td>string </td>
    

</tr>

<tr>
    <th>ordertype</th>
    <td>query</td>
    <td>no</td>
    <td>Ordem ascendente ou descendente</td>
    <td>asc</td>

    
            <td>string </td>
    

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | Lista de instituições qualificadoras |  - |


















## /registrocolaborador/usuario/{login}


### GET

<a id="buscaUsuario">Retorna o usuário a partir do seu login</a>









#### Request



##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



<tr>
    <th>login</th>
    <td>path</td>
    <td>yes</td>
    <td>Login do usuário</td>
    <td> - </td>

    
            <td>string </td>
    

</tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | Lista de instituições qualificadoras |  - |
| 404    | Registros não encontrados com o filtro informado |  - |



















# Definitions

## <a name="/definitions/Email">Email</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>email</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>ordem</td>
            <td>
                
                    
                    integer (int32)
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/Endereco">Endereco</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>logradouro</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>complLogradouro</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>nroLogradouro</td>
            <td>
                
                    
                    integer (int32)
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>cep</td>
            <td>
                
                    
                    integer (int32)
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>bairro</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>cidade</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>unidadeFederacao</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>pais</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/PaginatedResult">PaginatedResult</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>listaItens</td>
            <td>
                
                
                array[object]
                
            </td>
            <td>required</td>
            <td>Resultado da pesquisa</td>
            <td></td>
        </tr>
    
        <tr>
            <td>paginationInfo</td>
            <td>
                
                    <a href="#/definitions/PaginationInfo">PaginationInfo</a>
                    
                
            </td>
            <td>required</td>
            <td>Atributos da página atual</td>
            <td></td>
        </tr>
    
        <tr>
            <td>nextPageLink</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>Link para a próxima página</td>
            <td></td>
        </tr>
    
        <tr>
            <td>previousPageLink</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>Link para a página anterior</td>
            <td></td>
        </tr>
    
        <tr>
            <td>firstPageLink</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>Link para a primeira página</td>
            <td></td>
        </tr>
    
        <tr>
            <td>lastPageLink</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>Link para a última página</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/PaginationInfo">PaginationInfo</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>firstResult</td>
            <td>
                
                    
                    integer (int32)
                
            </td>
            <td>required</td>
            <td>Número do Registro do primeiro resultado da página</td>
            <td></td>
        </tr>
    
        <tr>
            <td>maxResults</td>
            <td>
                
                    
                    integer (int32)
                
            </td>
            <td>required</td>
            <td>Quantidade máxima de registros por página</td>
            <td></td>
        </tr>
    
        <tr>
            <td>orderProperty</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>Propriedade para ordenar a consulta</td>
            <td></td>
        </tr>
    
        <tr>
            <td>asc</td>
            <td>
                
                    
                    boolean
                
            </td>
            <td>optional</td>
            <td>Ordem (asc ou desc) da ordenção da consulta</td>
            <td></td>
        </tr>
    
        <tr>
            <td>totalCount</td>
            <td>
                
                    
                    integer (int64)
                
            </td>
            <td>optional</td>
            <td>Total de registros da pesquisa</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/Telefone">Telefone</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>ddi</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>ddd</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>number</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>ramal</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>qualificador</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/Usuario">Usuario</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>nome</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>cpf</td>
            <td>
                
                    
                    integer (int64)
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>numeroIdentidade</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>dtNascimento</td>
            <td>
                
                    
                    string (date-time)
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>emails</td>
            <td>
                
                
                    array[<a href="#/definitions/Email">Email</a>]
                
                
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>endereco</td>
            <td>
                
                    <a href="#/definitions/Endereco">Endereco</a>
                    
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>telefones</td>
            <td>
                
                
                    array[<a href="#/definitions/Telefone">Telefone</a>]
                
                
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>vinculo</td>
            <td>
                
                    
                    integer (int32)
                
            </td>
            <td>required</td>
            <td>Vínculo no HCPA</td>
            <td></td>
        </tr>
    
        <tr>
            <td>matricula</td>
            <td>
                
                    
                    integer (int32)
                
            </td>
            <td>required</td>
            <td>Matrícula no HCPA</td>
            <td></td>
        </tr>
    
        <tr>
            <td>login</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>Nome do usuário no HCPA</td>
            <td></td>
        </tr>
    
</table>



</xmp>

<script src="http://strapdownjs.com/v/0.2/strapdown.js"></script>
</html>