<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <ui:composition xmlns:fn="http://java.sun.com/jsp/jstl/functions" template="/WEB-INF/templates/form_template.xhtml">  
    <ui:define name="head"> 
      <title>#{messages.TITLE_AUTORIZACAO_CHEFIA_SOLSERVICO}</title>  
    </ui:define>  
    <ui:define name="body"> 
      <mec:pageConfig controller="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController}"/>  
      <p:outputPanel id="panelCorpoPagina" layout="inline"> 
        <h:form prependId="false" id="formDadosCabecalho"> 
          <aghu:panelGeral legend="#{messages.TITLE_AUTORIZACAO_CHEFIA_SOLSERVICO}"> 
            <p:outputPanel id="panelFiltros" layout="inline"> 
              <aghu:linha> 
                <mec:inputNumero id="numeroSs" label="#{messages.LABEL_SOL_NUMERO_SS}" size="12" title="#{messages.TITLE_SOL_NUMERO_SS}" maxlength="7" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.numeroSolicitacaoServico}"> 
                  <p:ajax event="change" eventsQueue="blurQueue" update="@(#panelFiltros)" process="@this" listener="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.desligarFiltros}"/> 
                </mec:inputNumero>  
                <mec:inputTextData label="#{messages.LABEL_DATA_SOLICITACAO_SERVICO}" id="dtSolicitacao" title="#{messages.TITLE_DATA_SOLICITACAO_SERVICO}" size="10" maxlength="10" onkeypress="Pesquisar(event);" readonly="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.desabilitaFiltros}" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.dataSolicitacaoServico}" required="false" tipo="data"/>  
                <mec:selectOneMenu enum="DominioSimNao" label="#{messages.LABEL_FILTRO_URGENTE_SS}" title="#{messages.TITLE_FILTRO_URGENTE_SS}" id="chkUrgente" required="false" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indUrgente}" readonly="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.desabilitaFiltros}"/>  
                <mec:selectOneMenu enum="DominioSimNao" label="#{messages.LABEL_FILTRO_PRIORITARIA_SS}" id="chkPrioritaria" title="#{messages.TITLE_FILTRO_PRIORITARIA_SS}" required="false" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indPrioritaria}" readonly="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.desabilitaFiltros}"/>
                  
                <p:outputPanel id="panelExibirSolic" layout="inline"> 
                  <mec:selectOneMenu enum="DominioSimNao" label="#{messages.LABEL_FILTRO_EXIBIR_SOLICITANTE_SS}" title="#{messages.TITLE_FILTRO_EXIBIR_SOLICITANTE_SS}" id="chkExibirSolic" required="false" noSelectionOption="false" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indExibirSolic}" readonly="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.desabilitaFiltros or autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indAutorizada eq 'S'}">
                  	<p:ajax event="change" process="@(#panelFiltros)" update="@(#panelFiltros)"/>
                  </mec:selectOneMenu>
                </p:outputPanel>  
                <p:outputPanel id="panelAut" layout="inline"> 
                  <mec:selectOneMenu enum="DominioSimNao" label="#{messages.LABEL_FILTRO_AUTORIZADA_SS}" required="false" noSelectionOption="false" title="#{messages.TITLE_FILTRO_AUTORIZADA_SS}" id="chkAutorizada" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indAutorizada}" readonly="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.desabilitaFiltros or autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indExibirSolic eq 'S'}" >
                  	 <p:ajax event="change" process="@(#panelFiltros)" update="@(#panelFiltros)"/>
                  </mec:selectOneMenu> 
                </p:outputPanel>  
				
                <p:outputPanel id="panelDataAut" layout="inline">
					<mec:inputTextData id="cdPeriodoInicioAut"
						label="#{messages.LABEL_PERIODO_AUTORIZACAO_SS}"
						title="#{messages.TITLE_PERIODO_AUTORIZACAO_SS}"
						disabled="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.desabilitaFiltros}"
						rendered="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indAutorizada eq 'S'}"
						value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.dataInicioAutorizacaoServico}">
					</mec:inputTextData>
					<div  class="aghu-boxinput" style="padding-top: 25px;">				
						<p:outputPanel styleClass="aghu-lineinput">
							<p:outputLabel styleClass="aghu-lineinput" value="AtÃ©" rendered="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indAutorizada eq 'S'}" />
						</p:outputPanel>			
					</div>	
					<mec:inputTextData id="cdPeriodoFimAut" rendered="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indAutorizada eq 'S'}" disabled="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.desabilitaFiltros}"
						value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.dataFimAutorizacaoServico}">
					</mec:inputTextData>
				</p:outputPanel>
              </aghu:linha>  
              <aghu:linha> 
                <mec:suggestionBox id="suggestionGrupoServico" label="#{messages.LABEL_FILTRO_GRUPO_SERVICO}" title="#{messages.TITLE_FILTRO_GRUPO_SERVICO}" suggestionAction="pesquisarGrupoServicoPorCodigoDescricao" descricaoInput="codigo" descricaoLabel="descricao" maxlength="60" required="false" readonly="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.desabilitaSuggestionGrupoServico or autorizacaoChefiaCcSolicitacaoServicoPaginatorController.desabilitaFiltros}" controller="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController}" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.grupoServico}"> 
                  <p:column>#{item.codigo}</p:column>  
                  <p:column>#{item.descricao}</p:column> 
                </mec:suggestionBox>  
                <mec:suggestionBox id="suggestionServico" label="#{messages.LABEL_FILTRO_SERVICO}" title="#{messages.TITLE_FILTRO_SERVICO}" suggestionAction="pesquisarServicoPorCodigoDescricao" descricaoInput="codigo" descricaoLabel="nome" maxlength="60" required="false" posSelectionAction="verificarGrupoServicoHabilitado" posDeleteAction="verificarGrupoServicoHabilitado" readonly="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.desabilitaFiltros}" controller="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController}" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.servico}" render="panelFiltros"> 
                  <p:column>#{item.codigo}</p:column>  
                  <p:column>#{item.nome}</p:column> 
                </mec:suggestionBox> 
              </aghu:linha>  
              <aghu:linha> 
                <mec:suggestionBox id="suggestionCcSolicitante" label="#{messages.LABEL_CCUSTO_SOLICITANTE_SS}" title="#{messages.TITLE_CCUSTO_SOLICITANTE_SS}" size="30" suggestionAction="pesquisarCentroCustoUsuarioGerarSCSuggestion" descricaoInput="codigo" descricaoLabel="descricao" maxlength="60" readonly="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.desabilitaFiltros}" required="false" controller="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController}" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.centroCustoSolicitante}"> 
                  <p:column>#{item.codigo}</p:column>  
                  <p:column>#{item.descricao}</p:column> 
                </mec:suggestionBox>  
                <mec:suggestionBox id="suggestionCcAplicacao" label="#{messages.LABEL_CCUSTO_APLICACAO_SS}" title="#{messages.TITLE_CCUSTO_APLICACAO_SS}" suggestionAction="pesquisarCentroCustoPorCodigoDescricao" descricaoInput="codigo" descricaoLabel="descricao" maxlength="60" readonly="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.desabilitaFiltros}" required="false" controller="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController}" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.centroCustoAplicacao}"> 
                  <p:column>#{item.codigo}</p:column>  
                  <p:column>#{item.descricao}</p:column> 
                </mec:suggestionBox> 
              </aghu:linha> 
            </p:outputPanel> 
          </aghu:panelGeral>  
          <aghu:acao> 
            <mec:commandButton id="bt_pesquisar" value="#{messages.LABEL_PESQUISAR}" action="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.pesquisar}" profile="ok"/>  
            <mec:commandButton id="bt_limpar" value="#{messages.LABEL_LIMPAR}" action="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.limparPesquisa}" render="panelFiltros, panelListaSolicitacoes" styleClass="bt_cinza"/>  
            <mec:commandButton id="bt_gerar_ss" value="#{messages.LABEL_GERAR_SS}" rendered="#{mf:hasPermission(securityController,'cadastrarSolicitacaoServico,gravar')}" action="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.gerarSS}" styleClass="bt_cinza"> 
              <f:setPropertyActionListener target="#{solicitacaoServicoController.gravarVoltarUrl}" value="autorizacaoChefiaCcSolicitacaoServico" for="command"/>  
              <f:setPropertyActionListener target="#{solicitacaoServicoController.voltarParaUrl}" value="autorizacaoChefiaCcSolicitacaoServico" for="command"/> 
            </mec:commandButton>  
            <mec:commandButton id="bt_autorizacaoSc" value="#{messages.LABEL_AUTORIZAR_SC}" rendered="#{mf:hasPermission(securityController,'autorizarSolicitacaoCompras,gravar')}" action="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.autorizarSc}" render="panelFiltros, panelListaSolicitacoes" styleClass="bt_cinza"/> 
          </aghu:acao> 
          
	        <p:outputPanel id="panelListaSolicitacoes" rendered="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.dataModel.pesquisaAtiva}" layout="inline"> 
	          <aghu:panelGeral legend="#{messages.LEGENDA_AUTORIZAR_SOLICITACOES_SERVICO}"> 
		          <aghu:column type="table"> 
	                 <mec:serverDataTableMultipleSelection render="qtdSelecionadas,panelBotoes" selection="listaChecked" updateCheckOnPage="atualizarAllChecked" rowCheckListener="selecionarLinha" rowUncheckListener="desmarcarLinha" toggleSelectListener="marcarTodos"  dataModel="dataModel" id="solcomprasTable" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController}" rendered="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.dataModel.pesquisaAtiva}" controller="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController}"> 
	                   <c:set var="_item" value="#{item}"/>  
	                   <p:column exportable="false" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)}"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_ACOES}"/> 
	                     </f:facet>  
	                     <mec:commandLink id="lnkVisualizar" title="#{messages.LABEL_VISUALIZAR_SS}" rendered="#{ not mf:hasPermission(securityController,'cadastrarSolicitacaoServico,gravar') and                    not mf:hasPermission(securityController,'cadastrarSSPlanejamento,gravar') and                    not mf:hasPermission(securityController,'cadastrarSSComprador,gravar') and                    not mf:hasPermission(securityController,'cadastrarSSEngenharia,gravar') and                    not mf:hasPermission(securityController,'cadastrarSSChefias,gravar') and                    mf:hasPermission(securityController,'consultarSolicitacaoServico,visualizar')}" action="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.visualizarSS}" styleClass=" silk-zoom silk-icon"> 
	                       <f:setPropertyActionListener target="#{solicitacaoServicoController.numero}" value="#{_item.numero}" for="command"/>  
	                       <f:setPropertyActionListener target="#{solicitacaoServicoController.voltarParaUrl}" value="autorizacaoChefiaCcSolicitacaoServico" for="command"/> 
	                     </mec:commandLink>  
	                     <mec:commandLink id="lnkEditar" title="#{messages.LABEL_EDITAR_SS}" rendered="#{mf:hasPermission(securityController,'cadastrarSolicitacaoServico,gravar')  or                   mf:hasPermission(securityController,'cadastrarSSPlanejamento,gravar') or                   mf:hasPermission(securityController,'cadastrarSSComprador,gravar') or                   mf:hasPermission(securityController,'cadastrarSSEngenharia,gravar') or                   mf:hasPermission(securityController,'cadastrarSSChefias,gravar')}" action="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.editarSS}" profile="edit"> 
	                       <f:setPropertyActionListener target="#{solicitacaoServicoController.numero}" value="#{_item.numero}" for="command"/>  
	                       <f:setPropertyActionListener target="#{solicitacaoServicoController.voltarParaUrl}" value="autorizacaoChefiaCcSolicitacaoServico" for="command"/> 
	                     </mec:commandLink>  
	                     <mec:commandLink id="lnkFases" title="#{messages.LABEL_ANDAMENTO_SS}" rendered="#{mf:hasPermission(securityController,'cadastrarSolicitacaoServico,gravar') or                   mf:hasPermission(securityController,'consultarSolicitacaoServico,visualizar')  or                   mf:hasPermission(securityController,'cadastrarSSPlanejamento,gravar') or                   mf:hasPermission(securityController,'cadastrarSSComprador,gravar') or                   mf:hasPermission(securityController,'cadastrarSSEngenharia,gravar') or                   mf:hasPermission(securityController,'cadastrarSSChefias,gravar')}" action="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.fasesSolicitacaoServico}" styleClass=" silk-lista-consultar silk-icon"> 
	                       <f:setPropertyActionListener target="#{fasesSolicitacaoServicoController.numero}" value="#{_item.numero}" for="command"/>  
	                       <f:setPropertyActionListener target="#{fasesSolicitacaoServicoController.mostrarBotaoVoltar}" value="true" for="command"/>  
	                       <f:setPropertyActionListener target="#{fasesSolicitacaoServicoController.voltarPara}" value="autorizacaoChefiaCcSolicitacaoServico" for="command"/> 
	                     </mec:commandLink>  
	                     <mec:commandLink id="lnkAnexos" title="#{messages.TITLE_CONTEM_ARQUIVO_ANEXO}" action="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.anexosSS}" styleClass="silk-icon silk-attach" rendered="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.possuiAnexo(_item.numero)}"> 
	                       <f:setPropertyActionListener target="#{anexarDocumentoController.origemSolicitacao}" value="SS" for="command"/>  
	                       <f:setPropertyActionListener target="#{anexarDocumentoController.numeroSolicitacao}" value="#{_item.numero}" for="command"/>  
	                       <f:setPropertyActionListener target="#{anexarDocumentoController.telaOrigem}" value="compras-autorizacaoChefiaCcSolicitacaoServico" for="command"/>
	                       <f:setPropertyActionListener target="#{anexarDocumentoController.modoEdit}" value="false" for="command"/> 
	                     </mec:commandLink>                
	                     <mec:commandLink id="arqAnexo" title="#{messages.TITLE_CONTEM_ARQUIVO_ANEXO}" rendered="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.possuiAnexo(_item.numero)}" styleClass="silk-icon silk-attach" action="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.anexarDocumentoSolicitacaoCompra}"> 
	                       <f:setPropertyActionListener target="#{anexarDocumentoController.numeroSolicitacao}" value="#{_item.numero}" for="command"/>  
	                       <f:setPropertyActionListener target="#{anexarDocumentoController.origemSolicitacao}" value="SS" for="command"/>
	                       <f:setPropertyActionListener target="#{anexarDocumentoController.modoEdit}" value="false" for="command"/>  
	                       <f:setPropertyActionListener target="#{anexarDocumentoController.telaOrigem}" value="autorizacaoChefiaCcSolicitacaoServico" for="command"/> 
	                     </mec:commandLink>
	                     <h:graphicImage title="#{messages.TITLE_SOLICITACAO_DEVOLVIDA}" value="/resources/img/icons/exclamation.png" rendered="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indExibirSolic eq 'N' and autorizacaoChefiaCcSolicitacaoServicoPaginatorController.verificarDevolvida(_item.numero)}"/> 
	                   </p:column>  
	                   <p:column exportable="false" selectionMode="multiple" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)}" />  
	                   <p:column exportable="false" sortBy="#{_item.numero}" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)}"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_GRID_SS}" title="#{messages.LABEL_GRID_SOLICITACAO_SERVICO}"/> 
	                     </f:facet>
	                     <p:outputPanel id="panelNumero">  
	                     	<h:outputText value="#{_item.numero}"/>
	                     </p:outputPanel>  
	                     <p:tooltip for="panelNumero" style="width:300px; word-wrap: break-word;" styleClass="tooltip" rendered="#{_item.modalidadeLicitacao != null}"> 
	                       <h:outputText value="#{messages.LABEL_HINT_FORMA_CONTRATACAO} #{_item.modalidadeLicitacao.descricao}"/> 
	                     </p:tooltip> 
	                   </p:column>  
	                   <p:column exportable="true" sortBy="#{_item.numero}" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)};display:none"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_GRID_SS}" title="#{messages.LABEL_GRID_SOLICITACAO_SERVICO}"/> 
	                     </f:facet>
	                     <h:outputText value="#{_item.numero}"/>
	                   </p:column>
	                   <p:column exportable="false" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)}" rendered="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indAutorizada eq 'S' or autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indExibirSolic eq 'S'}" title="#{messages.LABEL_PONTO_PARADA_ATUAL}"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_PP_ATU}"/> 
	                     </f:facet>
	                     <p:outputPanel id="panelPontoParada">  
	                     	<h:outputText value="#{_item.pontoParada.codigo}"/>
	                     </p:outputPanel>  
	                     <p:tooltip for="panelPontoParada" style="width:300px; word-wrap: break-word;" styleClass="tooltip"> 
	                       <h:outputText value="#{messages.LABEL_DESCRICAO}: #{_item.pontoParada.descricao}"/> 
	                     </p:tooltip> 
	                   </p:column>  
	                   <p:column exportable="true" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)};display:none" rendered="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indAutorizada eq 'S' or autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indExibirSolic eq 'S'}" title="#{messages.LABEL_PONTO_PARADA_ATUAL}"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_PP_ATU}"/> 
	                     </f:facet>
	                     <h:outputText value="#{_item.pontoParada.codigo}"/>
	                   </p:column>
	                   <p:column sortBy="#{_item.indUrgente}" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)}"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_GRID_URGENTE}" title="#{messages.LABEL_SOLICITACAO_SERVICO_URGENTE}"/> 
	                     </f:facet>  
	                     <h:outputText value="#{(_item.indUrgente == true ? 'S' : 'N')}"/> 
	                   </p:column>  
	                   <p:column sortBy="#{_item.indPrioridade}" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)}"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_GRID_PRIORITARIO}" title="#{messages.LABEL_SOLICITACAO_SERVICO_PRIORITARIA}"/> 
	                     </f:facet>  
	                     <h:outputText value="#{(_item.indPrioridade == true ? 'S' : 'N')}"/> 
	                   </p:column>  
	                   <p:column exportable="false" sortBy="#{_item.indDevolucao}" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)}"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_GRID_DEVOLVIDO}" title="#{messages.LABEL_SOLICITACAO_SERVICO_DEVOLVIDA}"/> 
	                     </f:facet>
	                     <p:outputPanel id="panelDev">  
	                     	<h:outputText value="#{(_item.indDevolucao == true ? 'S' : 'N')}"/>
	                     </p:outputPanel>  
	                     <p:tooltip for="panelDev" style="width:300px; word-wrap: break-word;" styleClass="tooltip" disabled="#{_item.indDevolucao == false}"> 
	                       <h:outputText value="#{_item.justificativaDevolucao}"/> 
	                     </p:tooltip> 
	                   </p:column>
	                   <p:column exportable="true" sortBy="#{_item.indDevolucao}" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)};display:none"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_GRID_DEVOLVIDO}" title="#{messages.LABEL_SOLICITACAO_SERVICO_DEVOLVIDA}"/> 
	                     </f:facet>
                     	<h:outputText value="#{(_item.indDevolucao == true ? 'S' : 'N')}"/>
	                   </p:column>  
	                   <p:column exportable="false" sortBy="#{_item.dtSolicitacao}" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)}"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_DATA_GRID_SOLICITACAO_SERVICO}" title="#{messages.LABEL_GRID_DATA_SOLICITACAO_SERVICO}"/> 
	                     </f:facet>
	                     <p:outputPanel id="panelDtSolic">  
		                     <h:outputText value="#{_item.dtSolicitacao}"> 
		                       <f:convertDateTime pattern="dd/MM/yyyy"/> 
		                     </h:outputText>
	                     </p:outputPanel>  
	                     <p:tooltip for="panelDtSolic" style="width:300px; word-wrap: break-word;" styleClass="tooltip"> 
	                       <h:outputText value="#{messages.HINT_SOLICITANTE} #{_item.servidor.pessoaFisica.nome}"/> 
	                     </p:tooltip> 
	                   </p:column>  
	                   <p:column exportable="true" sortBy="#{_item.dtSolicitacao}" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)};display:none"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_DATA_GRID_SOLICITACAO_SERVICO}" title="#{messages.LABEL_GRID_DATA_SOLICITACAO_SERVICO}"/> 
	                     </f:facet>
	                     <h:outputText value="#{_item.dtSolicitacao}"> 
	                       <f:convertDateTime pattern="dd/MM/yyyy"/> 
	                     </h:outputText>
	                   </p:column>
	                   <p:column exportable="false" sortBy="#{_item.servico}" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)}"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_SERVICO}"/> 
	                     </f:facet>
	                     <p:outputPanel id="panelServico">  
	                     	<h:outputText value="#{(_item.servico.getCodigoENome().length() &gt; 30) ? fn:substring(_item.servico.getCodigoENome(),0,30) : _item.servico.getCodigoENome()}#{(_item.servico.getCodigoENome().length() &gt; 30) ? '...' : '' }"/>
	                     </p:outputPanel>  
	                     <p:tooltip for="panelServico" style="width:300px; word-wrap: break-word;" styleClass="tooltip"> 
	                       <h:outputText value="#{messages.LABEL_NOME_SERVICO}: #{_item.servico.getCodigoENome()}"/>  
	                       <br clear="none"/>  
	                       <h:outputText value="#{messages.LABEL_DESCRICAO}: #{_item.servico.descricao}" rendered="#{_item.servico.descricao != null}"/>  
	                       <br clear="none"/>  
	                       <h:outputText value="#{messages.LABEL_DESCRICAO_SS} #{_item.descricao}" rendered="#{_item.descricao != null}"/> 
	                     </p:tooltip> 
	                   </p:column>  
	                   <p:column exportable="true" sortBy="#{_item.servico}" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)};display:none"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_SERVICO}"/> 
	                     </f:facet>
                     	<h:outputText value="#{(_item.servico.getCodigoENome().length() &gt; 30) ? fn:substring(_item.servico.getCodigoENome(),0,30) : _item.servico.getCodigoENome()}#{(_item.servico.getCodigoENome().length() &gt; 30) ? '...' : '' }"/>
	                   </p:column>
	                   <p:column style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)}"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_SS_QTD_SOLICITADA}" title="#{messages.LABEL_QUANTIDADE_SOLICITADA}"/> 
	                     </f:facet>  
	                     <h:outputText value="#{_item.qtdeSolicitada}" style="float:right; "/> 
	                   </p:column>  
	                   <p:column exportable="false" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)}"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_VALOR_TOTAL_GRID_SC}"/> 
	                     </f:facet>
	                     <p:outputPanel id="panelVlrUnit">  
		                     <h:outputText value="#{((_item.valorUnitPrevisto == null || _item.qtdeSolicitada == null) ? 0 : (_item.valorUnitPrevisto * _item.qtdeSolicitada))}" style="float:right; "> 
		                       <f:convertNumber minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="11" type="currency" currencySymbol=""/> 
		                     </h:outputText>
	                     </p:outputPanel>  
	                     <p:tooltip for="panelVlrUnit" styleClass="tooltip"> 
	                       <h:outputText value="#{messages.LABEL_VALOR_UNITARIO}: "/>  
	                       <h:outputText value="#{((_item.valorUnitPrevisto == null) ? 0 : _item.valorUnitPrevisto)}" style="float:right; "> 
	                         <f:convertNumber minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="11" type="currency" currencySymbol=""/> 
	                       </h:outputText> 
	                     </p:tooltip> 
	                   </p:column>  
	                   <p:column exportable="true" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)};display:none"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_VALOR_TOTAL_GRID_SC}"/> 
	                     </f:facet>
	                     <h:outputText value="#{((_item.valorUnitPrevisto == null || _item.qtdeSolicitada == null) ? 0 : (_item.valorUnitPrevisto * _item.qtdeSolicitada))}" style="float:right; "> 
	                       <f:convertNumber minFractionDigits="2" maxFractionDigits="2" maxIntegerDigits="11" type="currency" currencySymbol=""/> 
	                     </h:outputText>
	                   </p:column>
	                   <p:column exportable="false" sortBy="#{_item.centroCusto}" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)}"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_GRID_SS_LIB_CC_SOLICITANTE}" title="#{messages.LABEL_CCUSTO_SOLICITANTE}"/> 
	                     </f:facet>  
	                     <p:outputPanel id="panelCCSolic">
	                     	<h:outputText value="#{_item.centroCusto.getCodigo()}"/>
	                     </p:outputPanel>  
	                     <p:tooltip for="panelCCSolic" style="width:300px; word-wrap: break-word;" styleClass="tooltip"> 
	                       <h:outputText value="#{messages.LABEL_DESCRICAO}: #{_item.centroCusto.getDescricao()}"/> 
	                     </p:tooltip> 
	                   </p:column>  
	                   <p:column exportable="true" sortBy="#{_item.centroCusto}" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)};display:none"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_GRID_SS_LIB_CC_SOLICITANTE}" title="#{messages.LABEL_CCUSTO_SOLICITANTE}"/> 
	                     </f:facet>  
	                     <h:outputText value="#{_item.centroCusto.getCodigo()}"/>
	                   </p:column>
	                   <p:column exportable="false" sortBy="#{_item.centroCustoAplicada}" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)}"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_GRID_SS_LIB_CC_APLICACAO}" title="#{messages.LABEL_CCUSTO_APLICACAO}"/> 
	                     </f:facet>
	                     <p:outputPanel id="panelCcAplic">  
	                     	<h:outputText value="#{_item.centroCustoAplicada.getCodigo()}"/>
	                     </p:outputPanel>  
	                     <p:tooltip for="panelCcAplic" style="width:300px; word-wrap: break-word;" styleClass="tooltip"> 
	                       <h:outputText value="#{messages.LABEL_DESCRICAO}: #{_item.centroCustoAplicada.getDescricao()}"/> 
	                     </p:tooltip> 
	                   </p:column> 
	                   <p:column exportable="true" sortBy="#{_item.centroCustoAplicada}" style="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterCorLinha(_item)};display:none"> 
	                     <f:facet name="header"> 
	                       <h:outputText value="#{messages.LABEL_GRID_SS_LIB_CC_APLICACAO}" title="#{messages.LABEL_CCUSTO_APLICACAO}"/> 
	                     </f:facet>
	                     <h:outputText value="#{_item.centroCustoAplicada.getCodigo()}"/>
	                   </p:column>
	                 </mec:serverDataTableMultipleSelection>
	              </aghu:column>          
	              <aghu:column type="button" id="columnBotoes">          
	                    <p:outputPanel id="panelBotoes" rendered="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.desabilitaBotoes == false}" layout="inline">
	                    	  <p:outputPanel id="panelBtAut"> 
	                          	<mec:commandButton id="bt_autorizar" rendered="#{mf:hasPermission(securityController,'cadastrarSolicitacaoServico,gravar')  or                  mf:hasPermission(securityController,'cadastrarSSPlanejamento,gravar') or                  mf:hasPermission(securityController,'cadastrarSSComprador,gravar') or                  mf:hasPermission(securityController,'cadastrarSSEngenharia,gravar') or                  mf:hasPermission(securityController,'cadastrarSSChefias,gravar')}" action="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.autorizarItens}" name="bt_autorizar" disabled="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indAutorizada eq 'S' or (!autorizacaoChefiaCcSolicitacaoServicoPaginatorController.pontoParadaChefia and autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indExibirSolic eq 'N') or (empty autorizacaoChefiaCcSolicitacaoServicoPaginatorController.allChecked)}" value="#{messages.LABEL_BOTAO_AUTORIZAR}" ajax="true" render="panelListaSolicitacoes" styleClass="bt_cinza"/>
	                          </p:outputPanel>
	                          <p:tooltip for="panelBtAut" style="width:300px; word-wrap: break-word;" > 
		                          <h:outputText value="#{messages.TITLE_AUTORIZAR_SS_AUTOMATICO} #{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.obterTitleAutorizacao()}" rendered="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indAutorizada eq 'N' or (autorizacaoChefiaCcSolicitacaoServicoPaginatorController.pontoParadaChefia and autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indExibirSolic eq 'S') or (not empty autorizacaoChefiaCcSolicitacaoServicoPaginatorController.allChecked)}"  /> 
		                      </p:tooltip>
	                          <p:outputPanel id="panelAutEnc">	  
	                          	<mec:commandButton id="bt_autorizar_encaminhar" render="modalEncaminharSco" rendered="#{mf:hasPermission(securityController,'encaminharSolicitacaoServico,gravar')}" action="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.limparModalEncaminhamento(true)}" oncomplete="PF('modalEncaminharScoWG').show();" disabled="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indAutorizada eq 'S' or (!autorizacaoChefiaCcSolicitacaoServicoPaginatorController.pontoParadaChefia and autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indExibirSolic eq 'N') or (empty autorizacaoChefiaCcSolicitacaoServicoPaginatorController.allChecked)}" value="#{messages.LABEL_BOTAO_AUTORIZAR_ENCAMINHAR}" ajax="true" styleClass="bt_cinza"/>
	                          </p:outputPanel>
	                          <p:tooltip for="panelAutEnc" style="width:300px; word-wrap: break-word;" > 
		                          <h:outputText value="#{messages.TITLE_AUTORIZAR_ENCAMINHAR_SS}" rendered="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indAutorizada eq 'N' or (autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indExibirSolic eq 'S') or (not empty autorizacaoChefiaCcSolicitacaoServicoPaginatorController.allChecked)}"  />
		                      </p:tooltip>	  
	                          <mec:commandButton id="bt_devolver" render="modalDevolverSco" action="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.limparModalDevolucao()}" oncomplete="PF('modalDevolverScoWG').show();" value="#{messages.LABEL_BOTAO_DEVOLVER}" disabled="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indAutorizada eq 'S' or (!autorizacaoChefiaCcSolicitacaoServicoPaginatorController.pontoParadaChefia and autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indExibirSolic eq 'N') or (empty autorizacaoChefiaCcSolicitacaoServicoPaginatorController.allChecked)}" ajax="true" styleClass="bt_cinza"/>  
	                          <mec:commandButton id="bt_encaminhar" render="modalEncaminharSco" rendered="#{mf:hasPermission(securityController,'encaminharSolicitacaoServico,gravar')}" action="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.limparModalEncaminhamento(false)}" oncomplete="PF('modalEncaminharScoWG').show();" value="#{messages.LABEL_BOTAO_ENCAMINHAR}" disabled="#{(!autorizacaoChefiaCcSolicitacaoServicoPaginatorController.pontoParadaChefia and autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indExibirSolic eq 'N') or (empty autorizacaoChefiaCcSolicitacaoServicoPaginatorController.allChecked)}" ajax="true" styleClass="bt_cinza"/>  
	                          <mec:commandButton id="bt_exclusao" render="modalExclusaoSco" oncomplete="PF('modalExclusaoScoWG').show();" rendered="#{mf:hasPermission(securityController,'cadastrarSolicitacaoServico,gravar')  or                 mf:hasPermission(securityController,'cadastrarSSPlanejamento,gravar') or                 mf:hasPermission(securityController,'cadastrarSSComprador,gravar') or                 mf:hasPermission(securityController,'cadastrarSSEngenharia,gravar') or                 mf:hasPermission(securityController,'cadastrarSSChefias,gravar')}" action="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.limparModalExclusao()}" disabled="#{(!autorizacaoChefiaCcSolicitacaoServicoPaginatorController.pontoParadaChefia and autorizacaoChefiaCcSolicitacaoServicoPaginatorController.indExibirSolic eq 'N') or (empty autorizacaoChefiaCcSolicitacaoServicoPaginatorController.allChecked)}" value="#{messages.LABEL_BOTAO_EXCLUIR}" ajax="true" styleClass="bt_cinza"/> 
	                          <mec:commandButton id="bt_imprimirsol" rendered="#{mf:hasPermission(securityController,'cadastrarSolicitacaoServico,gravar') or                        mf:hasPermission(securityController,'consultarSolicitacaoServico,visualizar')  or                     mf:hasPermission(securityController,'cadastrarSSPlanejamento,gravar') or                     mf:hasPermission(securityController,'cadastrarSSComprador,gravar') or                     mf:hasPermission(securityController,'cadastrarSSEngenharia,gravar') or                     mf:hasPermission(securityController,'cadastrarSSChefias,gravar')}" action="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.imprimirItens}" disabled="#{fn:length(autorizacaoChefiaCcSolicitacaoServicoPaginatorController.allChecked)==0}" name="bt_imprimirsolicitacao" value="#{messages.LABEL_IMPRIMIR}" profile="print"> 
	                            <f:setPropertyActionListener target="#{imprimirSolicitacaoDeServicoController.voltarParaUrl}" value="compras-autorizacaoChefiaCcSolicitacaoServico" for="command"/> 
	                          </mec:commandButton> 
	                    </p:outputPanel>
         
	             <br clear="none"/>  
	             <p:outputPanel id="qtdSelecionadas" rendered="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.dataModel.rowCount gt 0}" layout="inline" style="float:right"> 
	               <h:outputText value="#{fn:length(autorizacaoChefiaCcSolicitacaoServicoPaginatorController.allChecked)} #{messages.TITLE_SOLICITACOES_SELECIONADAS}" /> 
	             </p:outputPanel>
	            </aghu:column> 
	          </aghu:panelGeral> 
	        </p:outputPanel>
	      </h:form> 
	    </p:outputPanel>  
	      
      <h:form prependId="false"> 
        <p:outputPanel layout="inline"> 
          <ui:decorate template="/pages/compras/solicitacaoCompra/modalExclusaoSolicitacaoScSsEmLote.xhtml"> 
            <ui:param name="controllerBean" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController}"/>  
            <ui:param name="obsTextArea" value="observacaoExclusao"/>  
            <ui:param name="deleteAction" value="excluirItens"/>  
            <ui:param name="clearModalAction" value="limparModalExclusao"/>  
            <ui:param name="goBack" value="voltarPanel"/>  
            <ui:param name="keepOnError" value="true"/>  
            <ui:param name="reRenderOnSuccess" value=":formDadosCabecalho:panelListaSolicitacoes"/>  
            <ui:param name="modalTitle" value="#{messages.LABEL_EXCLUIR_SOLICITACAO_SERVICO}"/> 
          </ui:decorate> 
        </p:outputPanel> 
      </h:form>  
      <h:form prependId="false"> 
        <p:outputPanel layout="inline"> 
          <ui:decorate template="/pages/compras/solicitacaoCompra/modalEncaminharSolicitacaoScSsEmLote.xhtml"> 
            <ui:param name="controllerBean" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController}"/>  
            <ui:param name="disableSuggestion" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.desabilitaSuggestionComprador}"/>  
            <ui:param name="forwardAction" value="encaminharItens"/>  
            <ui:param name="clearModalAction" value="limparModalEncaminhamento"/>  
            <ui:param name="goBack" value="voltarPanel"/>  
            <ui:param name="varPontoParada" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.proximoPontoParada}"/>  
            <ui:param name="varComprador" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController.funcionarioComprador}"/>  
            <ui:param name="reRenderOnSuccess" value=":formDadosCabecalho:panelListaSolicitacoes"/>  
            <ui:param name="modalTitle" value="#{messages.LABEL_ENCAMINHAR_SOLICITACAO_SERVICO}"/> 
          </ui:decorate> 
        </p:outputPanel> 
      </h:form>  
      <h:form prependId="false"> 
        <p:outputPanel layout="inline"> 
          <ui:decorate template="/pages/compras/solicitacaoCompra/modalDevolverSolicitacaoScSsEmLote.xhtml"> 
            <ui:param name="controllerBean" value="#{autorizacaoChefiaCcSolicitacaoServicoPaginatorController}"/>  
            <ui:param name="forwardAction" value="devolverItens"/>  
            <ui:param name="clearModalAction" value="limparModalDevolucao"/>  
            <ui:param name="goBack" value="voltarPanel"/>  
            <ui:param name="reRenderOnSuccess" value=":formDadosCabecalho:panelListaSolicitacoes"/>  
            <ui:param name="modalTitle" value="#{messages.LABEL_DEVOLVER_SOLICITACAO_SERVICO}"/> 
          </ui:decorate> 
        </p:outputPanel> 
      </h:form> 
    </ui:define> 
  </ui:composition> 
</html>