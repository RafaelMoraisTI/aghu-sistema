<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <ui:composition xmlns:fn="http://java.sun.com/jsp/jstl/functions" template="/WEB-INF/templates/form_template.xhtml">  
    <ui:define name="head"> 
      <title>#{messages.TITLE_CADASTRO_ACESSO_FORNECEDOR} :: #{messages.NOME_ABREVIADO_PROJETO}</title> 
    </ui:define>  
    <ui:define name="metadata"> 
      <f:metadata> 
        <f:viewAction action="#{cadastroAcessoFornecedorController.inicio}"/> 
      </f:metadata> 
    </ui:define>  
    <ui:define name="body"> 
      <mec:pageConfig controller="#{cadastroAcessoFornecedorController}"/>  
      <h:form id="formCadastro" prependId="false"> 
          <aghu:panelGeral legend="#{messages.LEGEND_CADASTRO_ACESSO_FORNECEDOR}"> 
			<aghu:column type="table">
               <aghu:linha> 
                 <mec:suggestionBox id="fornecedor" label="#{messages.LABEL_FORNECEDOR}" title="#{messages.TITLE_FORNECEDOR_LIST_ACESSO}" suggestionAction="pesquisarFornecedores" 
                 	descricaoInput="numero" descricaoLabel="razaoSocial" required="true" readonly="#{not empty cadastroAcessoFornecedorController.seq}" 
                 	controller="#{cadastroAcessoFornecedorController}" value="#{cadastroAcessoFornecedorController.fornecedor}"> 
                   <p:column> 
                     <f:facet name="header"> 
                       <b>#{messages.LABEL_FORNECEDOR_NUMERO}</b> 
                     </f:facet> #{item.numero}
                   </p:column>  
                   <p:column> 
                     <f:facet name="header"> 
                       <b>#{messages.LABEL_FORNECEDOR_CNPJ}</b> 
                     </f:facet> #{item.cgc}
                   </p:column>  
                   <p:column> 
                     <f:facet name="header"> 
                       <b>#{messages.LABEL_FORNECEDOR_RAZAO_SOCIAL}</b> 
                     </f:facet> #{item.razaoSocial}
                   </p:column> 
                 </mec:suggestionBox> 
               </aghu:linha>  
               <aghu:linha> 
                 <mec:inputText id="situacao" size="80" label="#{messages.LABEL_SITUACAO_CRUD}" title="#{messages.LABEL_SITUACAO_CRUD}" value="#{cadastroAcessoFornecedorController.situacao}" 
                 	style="text-transform:uppercase; background-color:#{cadastroAcessoFornecedorController.colorSituacao}" readonly="true"/> 
               </aghu:linha>  
               <aghu:linha>Â  
			<mec:field id="codAcesso" required="false" label="#{messages.LABEL_SENHA_ACESSO_FORNECEDOR}" title="#{messages.TITLE_SENHA_ACESSO_FORNECEDOR}">
				<p:password id="inputId" value="#{cadastroAcessoFornecedorController.acessoFornecedor.codAcesso}" size="10"	maxlength="10" />
			</mec:field>                       
               </aghu:linha>  
               <aghu:linha> 
                 <mec:inputTextData id="dtGeracao" label="#{messages.LABEL_DATA_GERACAO_CRUD}" title="#{messages.LABEL_DATA_GERACAO_CRUD}" 
                 	value="#{cadastroAcessoFornecedorController.acessoFornecedor.dtGeracao}" readonly="true" size="15" tipo="data"/>  
                 <mec:inputText id="usuarioCriacao" size="50" label="#{messages.LABEL_USUARIO_CRUD}" title="#{messages.LABEL_USUARIO_CRUD}" 
                 	value="#{cadastroAcessoFornecedorController.acessoFornecedor.rapServidoresByScoCafSerFk1.pessoaFisica.nome}" style="text-transform:uppercase" readonly="true"/>  
                 <mec:inputTextData id="dtAlteracao" label="#{messages.LABEL_DATA_ALTERACAO_CRUD}" title="#{messages.LABEL_DATA_ALTERACAO_CRUD}" 
                 	value="#{cadastroAcessoFornecedorController.acessoFornecedor.dtAlteracao}" readonly="true" size="15" tipo="data"/>  
                 <mec:inputText id="usuarioAlteracao" size="50" label="#{messages.LABEL_USUARIO_CRUD}" title="#{messages.LABEL_USUARIO_CRUD}" 
                 	value="#{cadastroAcessoFornecedorController.acessoFornecedor.rapServidoresByScoCafSerAlteracaoFk1.pessoaFisica.nome}" style="text-transform:uppercase" readonly="true"/> 
               </aghu:linha>  
               <aghu:linha> 
                 <mec:inputTextData id="dtEnvioSenha" label="#{messages.LABEL_DATA_ENVIO_SENHA_CRUD}" title="#{messages.TITLE_DATA_ENVIO_SENHA_CRUD}" 
                 	value="#{cadastroAcessoFornecedorController.acessoFornecedor.dtEnvioFornecedor}" readonly="true" size="15" tipo="data"/>  
                 <mec:inputTextData id="dtEnvioContato" label="#{messages.LABEL_DATA_ENVIO_CONTATO_CRUD}" title="#{messages.TITLE_DATA_ENVIO_CONTATO_CRUD}" 
                 	value="#{cadastroAcessoFornecedorController.acessoFornecedor.dtEnvioContato}" readonly="true" size="15" tipo="data"/>  
                 <mec:inputTextData id="dtImpressao" label="#{messages.LABEL_DATA_IMPRESSAO_SENHA_CRUD}" title="#{messages.TITLE_DATA_IMPRESSAO_SENHA_CRUD}" 
                 	value="#{cadastroAcessoFornecedorController.acessoFornecedor.dtImpressao}" readonly="true" size="15" tipo="data"/> 
               </aghu:linha>  
               <aghu:linha> 
                 <mec:inputText id="pendencia" size="70" label="#{messages.LABEL_PENDENCIA}" title="#{messages.LABEL_PENDENCIA}" value="#{cadastroAcessoFornecedorController.pendencia}" 
                 	style="text-transform:uppercase" readonly="true"/> 
               </aghu:linha> 

             <aghu:acao> 
               <mec:commandButton id="bt_ok" value="#{messages.LABEL_GRAVAR}"  rendered="#{empty cadastroAcessoFornecedorController.acessoFornecedor.codAcesso}" action="#{cadastroAcessoFornecedorController.gravar}" 
               	profile="ok"/>  
               <mec:commandButton id="bt_edit" value="#{messages.LABEL_GRAVAR}" rendered="#{not empty cadastroAcessoFornecedorController.acessoFornecedor.codAcesso}" 
               	action="#{cadastroAcessoFornecedorController.editar}" profile="ok"/>  
               <mec:backButton id="bt_voltar" value="#{messages.LABEL_VOLTAR}" action="#{cadastroAcessoFornecedorController.voltar}" profile="back"/> 
             </aghu:acao> 
            </aghu:column>
          	<aghu:column type="button">
            <p:outputPanel id="tabelaAcao" rendered="#{not empty cadastroAcessoFornecedorController.seq and !cadastroAcessoFornecedorController.visualizar}" layout="inline"> 
              <mec:commandButton id="bt_contato" value="#{messages.LABEL_CONTATOS}" action="#{cadastroAcessoFornecedorController.cadastrarContato}" 
              	disabled="#{empty cadastroAcessoFornecedorController.seq or (mf:hasPermission(securityController,'consultarAcessoFornecedor,consultarAcessoFornecedor') and !mf:hasPermission(securityController,'cadastrarAcessoFornecedor,manterAcessoFornecedor'))}" 
              	styleClass="bt_cinza"> 
                <f:setPropertyActionListener target="#{cadastroContatoFornecedorController.voltarParaUrl}" value="compras-cadastrarAcessoFornecedorCRUD" for="command"/>  
                <f:setPropertyActionListener target="#{cadastroContatoFornecedorController.numeroFrn}" value="#{cadastroAcessoFornecedorController.acessoFornecedor.scoFornecedor.numero}" for="command"/> 
              </mec:commandButton>  
              <mec:commandButton id="bt_enviar_emails" value="#{messages.LABEL_ENVIAR_EMAIL_CONTATOS}" 
              	action="#{cadastroAcessoFornecedorController.enviarEmailContatos}" 
              	disabled="#{empty cadastroAcessoFornecedorController.seq or (mf:hasPermission(securityController,'consultarAcessoFornecedor,consultarAcessoFornecedor') and !mf:hasPermission(securityController,'cadastrarAcessoFornecedor,manterAcessoFornecedor'))}" 
              	styleClass="bt_cinza"/>  
              <mec:commandButton id="bt_enviar_senha" value="#{messages.LABEL_ENVIAR_EMAIL_SENHA}" 
              	action="#{cadastroAcessoFornecedorController.enviarEmailSenha}" 
              	disabled="#{empty cadastroAcessoFornecedorController.seq or (mf:hasPermission(securityController,'consultarAcessoFornecedor,consultarAcessoFornecedor') and !mf:hasPermission(securityController,'cadastrarAcessoFornecedor,manterAcessoFornecedor'))}" 
              		styleClass="bt_cinza"/>  
              <mec:commandButton id="bt_imprimir_senha" value="#{messages.LABEL_IMPRIMIR_SENHA}" action="#{cadastroAcessoFornecedorController.imprimir}" 
              	disabled="#{empty cadastroAcessoFornecedorController.seq or !mf:hasPermission(securityController,'imprimirSenhaFornecProgEntregas,imprimirSenhaFornecProgEntregas')}" styleClass="bt_cinza"> 
                <f:setPropertyActionListener target="#{imprimirAcessoFornecedorController.voltarPara}" value="cadastrarAcessoFornecedorCRUD" for="command"/> 
              </mec:commandButton> 
            </p:outputPanel> 
		 </aghu:column>
          </aghu:panelGeral>  
      </h:form> 
    </ui:define> 
  </ui:composition> 
</html>
