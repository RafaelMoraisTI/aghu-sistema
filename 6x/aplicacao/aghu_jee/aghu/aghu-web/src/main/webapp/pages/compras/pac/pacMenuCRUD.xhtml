<?xml version="1.0" encoding="UTF-8"?>

<ui:fragment xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <div class="menu-direita" style="margin-top: 3px; width: 90%;"> 
    <p:outputPanel id="tabelaAcao"> 
      <mec:commandButton id="bt_itens" styleClass="bt_secund bt_cinza" immediate="true" action="#{processoAdmComprasController.redirecionaAssociarScSsPac}" value="#{messages.LABEL_ITENS}" rendered="#{!processoAdmComprasController.redirecionaItensPac}" disabled="#{processoAdmComprasController.licitacao.numero==null or           processoAdmComprasController.bloquearItens()}"> 
        <f:setPropertyActionListener target="#{associaScSsPacController.numeroPac}" value="#{processoAdmComprasController.numeroPac}" for="command" />  
        <f:setPropertyActionListener target="#{associaScSsPacController.voltarPara}" value="compras-processoAdmCompraCRUD" for="command" /> 
      </mec:commandButton>  
      <mec:commandButton id="bt_itens_2" styleClass="bt_secund bt_cinza" immediate="true" action="#{processoAdmComprasController.redirecionaItemPacList}" value="#{messages.LABEL_ITENS}" rendered="#{processoAdmComprasController.redirecionaItensPac}" disabled="#{processoAdmComprasController.licitacao.numero==null || processoAdmComprasController.desabilitaItensPac}"> 
        <f:setPropertyActionListener target="#{itemPacPaginatorController.numeroPac}" value="#{processoAdmComprasController.numeroPac}" for="command" />  
        <f:setPropertyActionListener target="#{itemPacPaginatorController.voltarParaUrl}" value="compras-processoAdmCompraCRUD" for="command" /> 
      </mec:commandButton>  
      <mec:commandButton id="bt_condicoesPagamentoPAC" styleClass="bt_secund bt_cinza" value="#{messages.CONDICOES_PAGTO}" immediate="true" action="#{processoAdmComprasController.redirecionaCondicoesPagamentoPAC}" disabled="#{processoAdmComprasController.licitacao.numero==null}"> 
        <f:setPropertyActionListener target="#{condicoesPagamentoPaginatorController.numeroPac}" value="#{processoAdmComprasController.numeroPac}" for="command" />  
        <f:setPropertyActionListener target="#{condicoesPagamentoPaginatorController.urlRetorno}" value="compras-processoAdmCompraCRUD" for="command" /> 
      </mec:commandButton>  
      <mec:commandButton id="bt_imprime" value="#{messages.LABEL_TERMO_ABERTURA}" styleClass="bt_secund bt_cinza" onclick="PF('impressaoTermoAberturaModalWG').show();" ajax="true" disabled="#{processoAdmComprasController.licitacao.numero==null}" immediate="true"/> 
       
      <mec:commandButton id="bt_gerarlotes" value="#{messages.LABEL_GERAR_LOTES}" immediate="true" action="#{processoAdmComprasController.redirecionaGerarLotes}" styleClass="bt_secund bt_cinza">
         <f:setPropertyActionListener target="#{gerarLotesDoPACController.nroPac}" value="#{processoAdmComprasController.numeroPac}" for="command" />  
        <f:setPropertyActionListener target="#{gerarLotesDoPACController.voltarParaUrl}" value="compras-processoAdmCompraCRUD" for="command" /> 
      </mec:commandButton>
       <mec:commandButton id="bt_pregaoBB" value="#{messages.LABEL_REMESSAO_ARQUIVO_BB}" immediate="true" action="#{processoAdmComprasController.redirecionaPregaoBB}" styleClass="bt_secund bt_cinza">
         <f:setPropertyActionListener target="#{licitacoesPregaoEletronicoBBPaginatorController.nroPAC}" value="#{processoAdmComprasController.numeroPac}" for="command" />  
        <f:setPropertyActionListener target="#{licitacoesPregaoEletronicoBBPaginatorController.voltarParaUrl}" value="compras-processoAdmCompraCRUD" for="command" /> 
      </mec:commandButton>
      <mec:commandButton id="bt_imprimeEspelho" value="#{messages.LABEL_ESPELHO}" styleClass="bt_secund bt_cinza" action="#{processoAdmComprasController.relatorioEspelhoPAC}"  disabled="#{(mf:hasPermission(securityController,'cadastrarPAC,gravar') or mf:hasPermission(securityController,'consultarPAC,visualizar'))            and (processoAdmComprasController.licitacao.numero==null            or processoAdmComprasController.licitacao.itensLicitacao.size()==0)}" immediate="true"> 
         <f:setPropertyActionListener target="#{relatorioEspelhoPACController.numLicitacao}" value="#{processoAdmComprasController.licitacao.numero}" for="command" />                       
         <f:setPropertyActionListener target="#{relatorioEspelhoPACController.voltarPara}" value="compras-processoAdmCompraCRUD" for="command" />
      </mec:commandButton>
      <mec:commandButton styleClass="bt_secund bt_cinza" value="#{messages.LABEL_ANEXOS}" id="bt_anexos" immediate="true" action="#{processoAdmComprasController.redirecionaAnexosPAC}" disabled="#{processoAdmComprasController.licitacao.numero==null}"> 
        <f:setPropertyActionListener target="#{anexarDocumentoController.telaOrigem}" value="compras-processoAdmCompraCRUD" for="command" />  
        <f:setPropertyActionListener target="#{anexarDocumentoController.origemSolicitacao}" value="#{processoAdmComprasController.origem}" for="command"/>  
        <f:setPropertyActionListener target="#{anexarDocumentoController.numeroSolicitacao}" value="#{processoAdmComprasController.numeroPac}" for="command"/> 
      </mec:commandButton> 
      <mec:commandButton styleClass="bt_secund bt_cinza" value="#{messages.LABEL_PROPOSTAS}" id="bt_propostas" immediate="true" action="#{processoAdmComprasController.redirecionaCadastroProposta}" disabled="#{processoAdmComprasController.licitacao.numero==null or not processoAdmComprasController.hasItensLicitacao()}"> 
        <f:setPropertyActionListener target="#{encaminhaLicitacoesLiberarController.numeroPac}" value="#{processoAdmComprasController.numeroPac}" for="command" />  
        <f:setPropertyActionListener target="#{encaminhaLicitacoesLiberarController.voltarPara}" value="compras-processoAdmCompraCRUD" for="command" /> 
      </mec:commandButton>
      <mec:commandButton styleClass="bt_secund bt_cinza" id="bt_qdoProvisorio" value="#{messages.LABEL_QDO_PROVISORIO}" action="#{relatorioQuadroPropostasProvisorioController.printPac(processoAdmComprasController.licitacao.numero)}" disabled="#{processoAdmComprasController.licitacao.numero==null or !processoAdmComprasController.hasPropostas()}" immediate="true"> 
        <f:setPropertyActionListener target="#{relatorioQuadroPropostasProvisorioController.voltarParaUrl}" value="compras-processoAdmCompraCRUD" for="command" /> 
      </mec:commandButton> 
      <mec:commandButton id="impressaoQuadroAprovacaoBt" disabled="#{processoAdmComprasController.licitacao.numero==null or not mf:hasPermission(securityController,'consultarProposta,visualizar')}" value="#{messages.LABEL_QUADRO_APROVACAO}" onclick="PF('impressaoQuadroAprovacaoModalWG').show();" ajax="true"  immediate="true" styleClass="bt_cinza"/> 
      <mec:commandButton id="bt_julgarPac" value="#{messages.LABEL_JULGAMENTO_PAC}" immediate="true" action="#{processoAdmComprasController.redirecionaJulgamento}" styleClass="bt_secund bt_cinza">
         <f:setPropertyActionListener target="#{encaminhaPacAguardoJulgamentoPaginatorController.nroPac}" value="#{processoAdmComprasController.numeroPac}" for="command" />  
        <f:setPropertyActionListener target="#{encaminhaPacAguardoJulgamentoPaginatorController.voltarParaUrl}" value="compras-processoAdmCompraCRUD" for="command" /> 
      </mec:commandButton> 
      <mec:commandButton styleClass="bt_secund bt_cinza" value="#{messages.LABEL_ANDAMENTO}" id="bt_andamento" immediate="true"  action="#{processoAdmComprasController.redirecionaAndamentoPAC}" disabled="#{processoAdmComprasController.licitacao.numero==null}"> 
        <f:setPropertyActionListener target="#{andamentoPacPaginatorController.licitacaoId}" value="#{processoAdmComprasController.numeroPac}" for="command" />  
        <f:setPropertyActionListener target="#{andamentoPacPaginatorController.voltarPara}" value="compras-processoAdmCompraCRUD" for="command" /> 
      </mec:commandButton>      
      <mec:commandButton id="bt_duplicarPAC" styleClass="bt_secund bt_cinza" immediate="true" action="#{processoAdmComprasController.redirecionaDuplicarPAC}" value="#{messages.LABEL_BTN_DUPLICAR_PAC}" disabled="#{processoAdmComprasController.licitacao.numero==null or !mf:hasPermission(securityController,'cadastrarPAC,gravar')}"> 
        <f:setPropertyActionListener target="#{duplicaPACController.numeroPAC}" value="#{processoAdmComprasController.numeroPac}" for="command" /> 
      </mec:commandButton> 
      <mec:commandButton id="bt_gerarAF" value="#{messages.LABEL_GERAR_AF}" immediate="true" action="#{processoAdmComprasController.redirecionaGerarAF}" styleClass="bt_secund bt_cinza" disabled="#{processoAdmComprasController.licitacao.numero==null}">
         <f:setPropertyActionListener target="#{autorizacaoFornecimentoPaginatorController.numeroPac}" value="#{processoAdmComprasController.numeroPac}" for="command" />  
         <f:setPropertyActionListener target="#{autorizacaoFornecimentoPaginatorController.voltarPara}" value="compras-processoAdmCompraCRUD" for="command" />
      </mec:commandButton> 
    </p:outputPanel> 
  </div> 
</ui:fragment>
