<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <ui:composition xmlns:fn="http://java.sun.com/jsp/jstl/functions">  
  
<style>
	td.agd-escala {
		background-color: #2dff90 !important;
	}

	td.agd-realizada{
		background-color: #5cfff5 !important;
	}

	td.agd-cancelada{
		background-color: #bf6031 !important;
	}

	td.agd-planejada {
		background-color: #949494 !important;
	}

	.tbLegenda tr td {
		background: url('../../../resources/img/icons/bg_legenda.png') no-repeat
			left center;
		height: 21px;
		padding: 0 1px 0 22px !important;
	}

	.spaces tr td {
		padding-right: 10px !important;
	}

	div.div-alerta {
		width: 99%;
	}
</style>
  
    <p:outputPanel id="painelGeral" layout="inline"> 
      <p:outputPanel id="msgNaoEncontrado" styleClass="div-alerta" rendered="#{empty visualizarAgendaEscalaController.agendasEscalas.primeiroDia}">
        <aghu:linha> 
          <h:outputText value="#{mf:getDefaultValue(noResultMessage, 'Nenhum registro encontrado!')}"/> 
        </aghu:linha> 
        <aghu:linha/>
      </p:outputPanel>  
      <p:outputPanel id="painelEscala2" rendered="#{not empty visualizarAgendaEscalaController.agendasEscalas.primeiroDia}" style="width: 100%;" layout="inline"> 
        <table style="width: 100%;"> 
          <tr> 
            <td style="width: 33%;" rowspan="1" colspan="1"> 
              <p:outputPanel id="tbGrid1" style="width: 100%;" rendered="#{not empty visualizarAgendaEscalaController.agendasEscalas.primeiroDia}"> 
                <mec:serverDataTable id="tabelaEscalaPrimeiroDia" style="width: 100%;" scrollHeight="352px;" list="#{visualizarAgendaEscalaController.agendasEscalas.primeiroDia}" scrollable="true"> 
                  <c:set var="_dia1" value="#{item}"/>  
                  <p:column var="_column1" styleClass="#{visualizarAgendaEscalaController.colorirTabela(_dia1)}"> 
		            <f:facet name="header" id="header1"> 
		              <h:outputText style="font-weight: bold;" value="#{visualizarAgendaEscalaController.agendasEscalas.dataAgendaDate[0]}" rendered="#{not empty visualizarAgendaEscalaController.agendasEscalas.primeiroDia}"> 
		                <f:convertDateTime pattern="dd/MM/yyyy"/> 
		              </h:outputText> 
		            </f:facet> 
		            <p:outputPanel id="panelDia1">
	                    <h:outputText value="#{visualizarAgendaEscalaController.montarPacienteProntuario(_dia1)}"/>  
	                    <br clear="none"/>  
	                    <h:outputText value="#{visualizarAgendaEscalaController.montarProcedimentoUnidadeSala(_dia1)}"/>  
	                    <br clear="none"/>  
	                    <h:outputText value="#{visualizarAgendaEscalaController.montarEspecialidadeEquipeConvenio(_dia1)}"/>  
		            </p:outputPanel>
                    <p:tooltip for="panelDia1" direction="bottom-right" styleClass="tooltip" layout="block" rendered="#{visualizarAgendaEscalaController.montarToolTip(_dia1)}"> 
                      <h:outputText value="#{visualizarAgendaEscalaController.pacienteToolTip}"/>  
                      <br clear="none"/>  
                      <h:outputText value="#{visualizarAgendaEscalaController.procedimentoToolTip}"/>  
                      <br clear="none"/>  
                      <h:outputText value="#{visualizarAgendaEscalaController.especialidadeTooltip}"/> 
                    </p:tooltip> 
                  </p:column> 
                </mec:serverDataTable> 
              </p:outputPanel> 
            </td>  
            <td style="width: 33%;" rowspan="1" colspan="1"> 
              <p:outputPanel id="tbGrid2" style="width: 100%" rendered="#{not empty visualizarAgendaEscalaController.agendasEscalas.segundoDia}"> 
                <mec:serverDataTable id="tabelaEscalaSegundoDia" style="width: 100%;" scrollHeight="352px;" list="#{visualizarAgendaEscalaController.agendasEscalas.segundoDia}" scrollable="true"> 
                  <c:set var="_dia2" value="#{item}"/>  
                  <p:column styleClass="#{visualizarAgendaEscalaController.colorirTabela(_dia2)}"> 
	                <f:facet name="header" style="font-weight: bold;" id="header2"> 
	                  <h:outputText value="#{visualizarAgendaEscalaController.agendasEscalas.dataAgendaDate[1]}"> 
	                    <f:convertDateTime pattern="dd/MM/yyyy"/> 
	                  </h:outputText> 
	                </f:facet> 
		            <p:outputPanel id="panelDia2">
                      <h:outputText value="#{visualizarAgendaEscalaController.montarPacienteProntuario(_dia2)}"/>  
                      <br clear="none"/>  
                      <h:outputText value="#{visualizarAgendaEscalaController.montarProcedimentoUnidadeSala(_dia2)}"/>  
                      <br clear="none"/>  
                      <h:outputText value="#{visualizarAgendaEscalaController.montarEspecialidadeEquipeConvenio(_dia2)}"/>  
                    </p:outputPanel>
                    <p:tooltip for="panelDia2" direction="bottom-right" styleClass="tooltip" layout="block" rendered="#{visualizarAgendaEscalaController.montarToolTip(_dia2)}"> 
                      <h:outputText value="#{visualizarAgendaEscalaController.pacienteToolTip}"/>  
                      <br clear="none"/>  
                      <h:outputText value="#{visualizarAgendaEscalaController.procedimentoToolTip}"/>  
                      <br clear="none"/>  
                      <h:outputText value="#{visualizarAgendaEscalaController.especialidadeTooltip}"/> 
                    </p:tooltip> 
                  </p:column> 
                </mec:serverDataTable> 
              </p:outputPanel> 
            </td>  
            <td style="width: 33%;" rowspan="1" colspan="1"> 
              <p:outputPanel id="tbGrid3" style="width: 100%" rendered="#{not empty visualizarAgendaEscalaController.agendasEscalas.terceiroDia}"> 
                <mec:serverDataTable id="tabelaEscalaTerceiroDia" style="width: 100%;" scrollHeight="352px;" list="#{visualizarAgendaEscalaController.agendasEscalas.terceiroDia}" scrollable="true"> 
                  <c:set var="_dia3" value="#{item}"/>  
                  <p:column styleClass="#{visualizarAgendaEscalaController.colorirTabela(_dia3)}"> 
                    <f:facet name="header" style="font-weight: bold;" id="header3"> 
                      <h:outputText style="font-weight: bold;" value="#{visualizarAgendaEscalaController.agendasEscalas.dataAgendaDate[2]}"> 
                        <f:convertDateTime pattern="dd/MM/yyyy"/> 
                      </h:outputText> 
                    </f:facet> 
		            <p:outputPanel id="panelDia3">
                      <h:outputText value="#{visualizarAgendaEscalaController.montarPacienteProntuario(_dia3)}"/>  
                      <br clear="none"/>  
                      <h:outputText value="#{visualizarAgendaEscalaController.montarProcedimentoUnidadeSala(_dia3)}"/>  
                      <br clear="none"/>  
                      <h:outputText value="#{visualizarAgendaEscalaController.montarEspecialidadeEquipeConvenio(_dia3)}"/>  
		            </p:outputPanel>
                    <p:tooltip for="panelDia3" direction="bottom-right" styleClass="tooltip" layout="block" rendered="#{visualizarAgendaEscalaController.montarToolTip(_dia3)}"> 
                      <h:outputText value="#{visualizarAgendaEscalaController.pacienteToolTip}"/>  
                      <br clear="none"/>  
                      <h:outputText value="#{visualizarAgendaEscalaController.procedimentoToolTip}"/>  
                      <br clear="none"/>  
                      <h:outputText value="#{visualizarAgendaEscalaController.especialidadeTooltip}"/> 
                    </p:tooltip> 
                  </p:column> 
                </mec:serverDataTable> 
              </p:outputPanel> 
            </td> 
          </tr> 
        </table> 
      </p:outputPanel> 
      <h:form prependId="false" id="formLegenda" rendered="#{not empty visualizarAgendaEscalaController.agendasEscalas.primeiroDia}" style="height:176px;"> 
        <p:outputPanel rendered="true" layout="inline"> 
          <table style="width:100%"> 
            <tr>
				<td style="width: 33%" rowspan="1" colspan="1">
					<mec:commandButton
						id="anterior"
						disabled="#{visualizarAgendaEscalaController.readOnlyRetroceder}"
						action="#{visualizarAgendaEscalaController.retroceder}"
						render="painelEscala2"
						styleClass="silk-pag silk-pag-anterior bt_cinza" 
						style="float: left;background-image:url('../../../resources/img/icons/pag-anterior.png') !important; background-size: contain !important;"
						block="true"/>
				</td>
				<td style="width:33%;align-text:center;" rowspan="1" colspan="1"> 
                <aghu:panelGeral legend="#{messages.LABEL_VISUALIZAR_AGENDA_ESCALA_LEGENDA}">
                  <table class="tbLegenda spaces"> 
                    <tr> 
                      <td class="agd-planejada" rowspan="1" colspan="1"> 
                        <h:outputText value="#{messages.LABEL_VISUALIZAR_AGENDA_ESCALA_PLANEJADA}"/> 
                      </td>  
                      <td class="agd-escala" rowspan="1" colspan="1"> 
                        <h:outputText value="#{messages.LABEL_VISUALIZAR_AGENDA_ESCALA_ESCALA}"/> 
                      </td>  
                      <td class="agd-realizada" rowspan="1" colspan="1"> 
                        <h:outputText value="#{messages.LABEL_VISUALIZAR_AGENDA_ESCALA_REALIZADA}"/> 
                      </td>  
                      <td class="agd-cancelada" rowspan="1" colspan="1"> 
                        <h:outputText value="#{messages.LABEL_VISUALIZAR_AGENDA_ESCALA_CANCELADA}"/> 
                      </td> 
                    </tr> 
                  </table> 
                </aghu:panelGeral> 
              </td>
				<td style="width: 33%; text-align: right;" rowspan="1" colspan="1">
					<mec:commandButton 
						id="posterior2"
						disabled="#{visualizarAgendaEscalaController.readOnlyAvancar}"
						action="#{visualizarAgendaEscalaController.avancar}"
						render="painelEscala2"
						styleClass="silk-pag silk-pag-proxima bt_cinza" 
						style="background-image:url('../../../resources/img/icons/pag-proxima.png') !important; background-size: contain !important;"
						block="true"/>
				</td>
			  </tr> 
          </table> 
        </p:outputPanel> 
      </h:form> 
    </p:outputPanel>  
  </ui:composition> 
</html>
