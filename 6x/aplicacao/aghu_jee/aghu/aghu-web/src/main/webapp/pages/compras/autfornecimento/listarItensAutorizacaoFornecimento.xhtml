<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">
<ui:composition template="/WEB-INF/templates/form_template.xhtml">
  <ui:define name="head">
    <title>#{messages['TITLE_PROGRAMACAO_ENTREGA_ITEM']} :: #{messages['NOME_ABREVIADO_PROJETO']}</title>
  </ui:define>
  <ui:define name="metadata">
    <f:metadata>
      <f:viewAction action="#{listarItensAutorizacaoFornecimentoController.inicio}"/>
    </f:metadata>
  </ui:define>
  <ui:define name="body">
    <mec:pageConfig controller="#{listarItensAutorizacaoFornecimentoController}"/>
    <h:form prependId="false" id="formListaItensAutorizacaoFornecimento">
      <aghu:panelGeral legend="#{messages.TITLE_PROGRAMACAO_ENTREGA_ITEM}">
        <aghu:linha>
          <mec:serverDataTable id="listaItensAutorizacaoFornecimento" list="#{listarItensAutorizacaoFornecimentoController.lista}" scrollable="true"
                               controller="#{listarItensAutorizacaoFornecimentoController}"
                               value="#{listarItensAutorizacaoFornecimentoController}"
                               emptyMessage="#{mf:getDefaultValue(noResultMessage,messages.M01_PROGRAMACAO_ENTREGA_ITEM)}"
                               selection="selecionado">
            <c:set var="_consultaProgramacaoEntregaItemVO" value="#{item}"/>
            <p:ajax event="rowSelect" process="@this" partialSubmit="true" update="@(#camposPanel)" listener="#{listarItensAutorizacaoFornecimentoController.selecionarItem}"/>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_AF_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_AF_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.pfrLctNumero}"/>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_CP_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_CP_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.numeroComplemento}"/>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_ITEM_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_ITEM_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.itlNumero}"/>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_PARCELA_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_PARCELA_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.parcela}"/>
            </p:column>
            <p:column width="7%" style="background-color: #{_consultaProgramacaoEntregaItemVO.corDtPrevEntrega};">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_PREV_ENTREGA_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_PREV_ENTREGA_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.dtPrevEntrega}">
                <f:convertDateTime pattern="dd/MM/yyyy"/>
              </h:outputText>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_QUANTIDADE_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_QUANTIDADE_ENTREGA_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.qtde}"/>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_QUANTIDADE_ENTREGUE_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_QUANTIDADE_ENTREGUE_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.qtdeEntregue}"/>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_UNID_FORN_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_UNID_FORN_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.umdCodigo}"/>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_FC_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_FC_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.fatorConversao}"/>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_UNID_ESTOQ_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_UNID_ESTOQ_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.matUmdCodigo}"/>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_QTDE_ESTOQ_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_QTDE_ESTOQ_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.qtdEstoque}"/>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_GR_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_GR_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.gmtCodigo}"/>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_ABC_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_ABC_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.curvaAbc}"/>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_CONC_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_CONC_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.indCancelada? 'Sim' : 'Não'}"/>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_PLAN_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_PLAN_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.indPlanejada? 'Sim' : 'Não'}"/>
            </p:column>
            <p:column width="3%" style="#{_consultaProgramacaoEntregaItemVO.parcelasPrevisaoEntregaVencida eq true ? 'background-color:yellow;' : ''}">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_ASS_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_ASS_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.indAssinatura? 'Sim' : 'Não'}"/>
            </p:column>
            <p:column width="3%" style="#{_consultaProgramacaoEntregaItemVO.parcelasAssinadasNaoEmpenhada eq true ? 'background-color:yellow;' : ''}">
              <p:tooltip direction="bottom-right" styleClass="tooltip" layout="block">
                <h:outputText value="#{_consultaProgramacaoEntregaItemVO.indEmpenhada.descricao}"/>
              </p:tooltip>
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_EMP_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_EMP_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.indEmpenhada}"/>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_EF_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_EF_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.indEnvioFornecedor? 'Sim' : 'Não'}"/>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_RA_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_RA_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.indRecalculoAutomatico? 'Sim' : 'Não'}"/>
            </p:column>
            <p:column width="3%">
              <f:facet name="header">
                <h:outputText value="#{messages.LABEL_RM_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_RM_PROGRAMACAO_ENTREGA_ITEM}"/>
              </f:facet>
              <h:outputText value="#{_consultaProgramacaoEntregaItemVO.indRecalculoManual? 'Sim' : 'Não'}"/>
            </p:column>
          </mec:serverDataTable>
        </aghu:linha>
        <aghu:linha>
          <p:outputPanel id="camposPanel" layout="inline">
            <p:outputPanel layout="block" rendered="#{(listarItensAutorizacaoFornecimentoController.lista.size() &gt; 0)}">
              <br clear="none"/>
              <aghu:linha>
                <p:outputPanel id="panelDtEntregaOriginal" layout="block">
                  <mec:inputTextData readonly="true" maxlength="10" label="#{messages.LABEL_PREV_ENTG_ORIGINAL_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_PREV_ENTG_ORIGINAL_PROGRAMACAO_ENTREGA_ITEM}" size="13" value="#{listarItensAutorizacaoFornecimentoController.dtNecessidadeHCPA}" id="dtNecessidadeHCPA" tipo="data"/>
                </p:outputPanel>
                <p:tooltip for="panelDtEntregaOriginal" trackMouse="true" rendered="#{not empty listarItensAutorizacaoFornecimentoController.dtNecessidadeHCPA}">
                  <h:outputText value="#{messages.LABEL_HELP_PREV_ENTG_ORIGINAL_PROGRAMACAO_ENTREGA_ITEM}"/>
                </p:tooltip>

                <p:outputPanel id="panelDtLibPlanejamento" layout="block">
                  <mec:inputTextData readonly="true" maxlength="10" label="#{messages.LABEL_DT_LIB_PLANEJ_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_DT_LIB_PLANEJ_PROGRAMACAO_ENTREGA_ITEM}" size="13" value="#{listarItensAutorizacaoFornecimentoController.dtLibPlanejamento}" id="dtLibPlanejamento" tipo="data"/>
                </p:outputPanel>
                <p:tooltip for="panelDtLibPlanejamento" trackMouse="true" rendered="#{not empty listarItensAutorizacaoFornecimentoController.dtLibPlanejamento}">
                  <h:outputText value="#{messages.LABEL_HELP_DT_LIB_PLANEJ_PROGRAMACAO_ENTREGA_ITEM}"/>
                </p:tooltip>

                <p:outputPanel id="panelDtAssinatura" layout="block">
                  <mec:inputTextData readonly="true" maxlength="10" label="#{messages.LABEL_DT_ASSINATURA_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_DT_ASSINATURA_PROGRAMACAO_ENTREGA_ITEM}" size="13" value="#{listarItensAutorizacaoFornecimentoController.dtAssinatura}" id="dtAssinatura" tipo="data"/>
                </p:outputPanel>
                <p:tooltip for="panelDtAssinatura" trackMouse="true" rendered="#{not empty listarItensAutorizacaoFornecimentoController.dtAssinatura}">
                  <h:outputText value="#{messages.LABEL_HELP_DT_ASSINATURA_PROGRAMACAO_ENTREGA_ITEM}"/>
                </p:tooltip>

                <p:outputPanel id="panelDtProgEntrega" layout="block">
                  <mec:inputTextData readonly="true" maxlength="10" label="#{messages.LABEL_DT_ENVIO_FORN_PROGRAMACAO_ENTREGA_ITEM}" title="#{messages.LABEL_HELP_DT_ENVIO_FORN_PROGRAMACAO_ENTREGA_ITEM}" size="13" value="#{listarItensAutorizacaoFornecimentoController.dtEnvioForn}" id="dtProgEntrega" tipo="data"/>
                </p:outputPanel>
                <p:tooltip for="panelDtProgEntrega" trackMouse="true" rendered="#{not empty listarItensAutorizacaoFornecimentoController.dtEnvioForn}">
                  <h:outputText value="#{messages.LABEL_HELP_DT_ENVIO_FORN_PROGRAMACAO_ENTREGA_ITEM}"/>
                </p:tooltip>
              </aghu:linha>
              <aghu:linha>
                <mec:inputText id="tfMaterial" label="#{messages.LABEL_MATERIAL_PROGRAMACAO_ENTREGA_ITEM}" value="#{listarItensAutorizacaoFornecimentoController.material}" maxlength="60" size="60" style="text-transform: uppercase" readonly="true"/>
                <mec:inputText id="tfFornecedor" label="#{messages.LABEL_FORNECEDOR_PROGRAMACAO_ENTREGA_ITEM}" value="#{listarItensAutorizacaoFornecimentoController.fornecedor}" maxlength="60" size="60" style="text-transform: uppercase" readonly="true"/>
              </aghu:linha>
            </p:outputPanel>
          </p:outputPanel>
        </aghu:linha>
      </aghu:panelGeral>
      <aghu:acao>
        <mec:commandButton id="bt_voltar" value="#{messages.LABEL_VOLTAR}" block="true" title="#{messages.LABEL_VOLTAR}" action="#{listarItensAutorizacaoFornecimentoController.voltar}" styleClass=" alinha-direita bt_cinza" profile="back"/>
      </aghu:acao>
    </h:form>
  </ui:define>
</ui:composition>
</html>
