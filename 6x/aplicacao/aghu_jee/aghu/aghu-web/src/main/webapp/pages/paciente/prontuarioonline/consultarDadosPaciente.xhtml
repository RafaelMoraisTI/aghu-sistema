<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:p="http://primefaces.org/ui"
	xmlns:mec="http://xmlns.jcp.org/jsf/composite/components"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:aghu="http://xmlns.jcp.org/jsf/component"
	xmlns:mf="http://www.mec.gov.br/taglib">  
	
  <ui:composition template="/WEB-INF/templates/form_template.xhtml">
   
    <ui:define name="head"> 
      <title>#{messages.TITLE_PRONTUARIO_ONLINE_CONSULTAR_DADOS_PACIENTE} :: #{messages.NOME_ABREVIADO_PROJETO}</title> 
    </ui:define>  
    
    <ui:define name="body"> 
      <mec:pageConfig controller="#{consultaDadosPacientePOLController}"/>  
      <h:form prependId="false" id="formCadastro">
       
        <p:tabView id="tabPanelDadosPaciente" dynamic="true" prependId="false" style="background: #FFFFFF">
         
          <p:tab title="#{messages.LABEL_CADASTRO}" style="background: #FFFFFF"> 
            <aghu:panelGeral legend="#{messages.LABEL_DADOS_PESSOAIS}" style="border: 1px solid #888888"> 
            
              <aghu:linha> 
                <mec:inputText label="#{messages.LABEL_PRONTUARIO}" title="Prontuário do Paciente" size="12" readonly="true" value="#{consultaDadosPacientePOLController.paciente.prontuario}" id="prontuario"/>  
                <mec:inputText label="#{messages.LABEL_NOME}" title="Nome do Paciente" size="75" readonly="true" value="#{consultaDadosPacientePOLController.paciente.nome}" id="nome"/>  
              </aghu:linha>  
              <aghu:linha>
                <mec:inputText label="#{messages.LABEL_SEXO}" title="Sexo do Paciente" size="12" readonly="true" value="#{consultaDadosPacientePOLController.paciente.sexo.descricao}" id="sexo"/>               
                <mec:inputText label="#{messages.LABEL_NOME_MAE}" title="Nome da Mãe" size="75" readonly="true" value="#{consultaDadosPacientePOLController.paciente.nomeMae}" id="nome_mae"/>  
              </aghu:linha>  
              <aghu:linha>
                <mec:field name="nameFieldDataNascimento" id="idFieldDataNascimento" label="#{messages.LABEL_DATA_NASCIMENTO}"> 
                  <p:calendar inputSize="7" disabled="true" readonly="true" buttonIconDisabled="/resources/img/blank.gif" id="dataDataNascimento" size="12"
                  	value="#{consultaDadosPacientePOLController.paciente.dtNascimento}" mode="popup" showButtonPanel="true" pattern="dd/MM/yyyy" showOn="button"/> 
                </mec:field> 
                <mec:inputText label="#{messages.LABEL_NOME_PAI}" title="Nome do Pai" size="75" readonly="true" value="#{consultaDadosPacientePOLController.paciente.nomePai}" id="nome_pai"/>  
              </aghu:linha>
              <aghu:linha>              
                <mec:field name="nameFieldDataObito" id="idFieldDataObito" label="#{messages.LABEL_OBITO}" rendered="#{consultaDadosPacientePOLController.paciente.dtObito != null}"> 
                  <p:calendar inputSize="7" disabled="true" readonly="true" buttonIconDisabled="/resources/img/blank.gif" id="modalDataObito" size="12" 
                  	value="#{consultaDadosPacientePOLController.paciente.dtObito}" rendered="#{consultaDadosPacientePOLController.paciente.dtObito != null}" mode="popup" showButtonPanel="true" pattern="dd/MM/yyyy" showOn="button"/> 
                </mec:field> 
              </aghu:linha>  
              <aghu:linha> 
                <mec:inputText label="#{messages.LABEL_COR}" title="Cor do Paciente" size="10"  readonly="true" value="#{consultaDadosPacientePOLController.paciente.cor.descricao}" id="cor"/>  
                <mec:inputText label="#{messages.LABEL_NATURALIDADE}" title="Naturalidade do Paciente" size="55"  readonly="true" value="#{consultaDadosPacientePOLController.paciente.aipCidades.nome} - #{consultaDadosPacientePOLController.paciente.aipCidades.aipUf.sigla}" id="naturalidade"/>  
                <mec:inputText label="#{messages.LABEL_NACIONALIDADE}" title="Nacionalidade do Paciente" size="30" readonly="true" value="#{consultaDadosPacientePOLController.paciente.aipNacionalidades.descricao}" id="nacionalidade"/> 
              </aghu:linha>  
              <aghu:linha> 
                <mec:inputText label="#{messages.LABEL_ESTADO_CIVIL}" title="Estado Civil do Paciente" size="10" readonly="true" value="#{consultaDadosPacientePOLController.paciente.estadoCivil.descricao}" id="estadoCivil"/>  
                <mec:inputText label="#{messages.LABEL_PROFISSAO}" title="Profissão do Paciente" size="70" readonly="true" value="#{consultaDadosPacientePOLController.paciente.aipOcupacoes.descricao}" id="profissao"/>  
                <mec:inputText label="#{messages.LABEL_GRAU_INSTRUCAO}" title="Grau de Instrução do Paciente" size="30" readonly="true" value="#{consultaDadosPacientePOLController.paciente.grauInstrucao.descricao}" id="grauInstrucao"/> 
              </aghu:linha>  
              <aghu:linha> 
                <mec:inputText label="DDD" title="DDD do Telefone Residencial do Paciente" size="3" readonly="true" value="#{consultaDadosPacientePOLController.paciente.dddFoneResidencial}" id="ddd_fone_residencial"/>  
                <mec:inputText label="#{messages.LABEL_TELEFONE_RESIDENCIAL}" title="Telefone Residencial do Paciente" size="15" readonly="true" value="#{consultaDadosPacientePOLController.paciente.foneResidencial}" id="foneResidencial"/>  
                <mec:inputText label="DDD" title="DDD do Telefone de Recados do Paciente" size="3" readonly="true" value="#{consultaDadosPacientePOLController.paciente.dddFoneRecado}" id="ddd_fone_recado"/>  
                <mec:inputText label="#{messages.LABEL_TELEFONE_RECADO}" title="Telefone de Recados do Paciente" size="15" readonly="true" value="#{consultaDadosPacientePOLController.paciente.foneRecado}" id="foneRecado"/> 
              </aghu:linha> 
            </aghu:panelGeral>
              
            <aghu:panelGeral id="ffdl_enderecos" legend="#{messages.LABEL_ENDERECOS}"> 
              <aghu:linha> 
                <mec:inputText label="#{messages.LABEL_LOGRADOURO}" title="Logradouro do Endereço do Paciente" size="70" readonly="true" value="#{consultaDadosPacientePOLController.endereco.logradouroEndereco}" id="logradouro"/>  
                <mec:inputText label="#{messages.LABEL_NUMERO}" title="Número do Endereço do Paciente" size="5" readonly="true" value="#{consultaDadosPacientePOLController.endereco.nroLogradouro}" id="numero"/>  
                <mec:inputText label="#{messages.LABEL_COMPLEMENTO}" title="Complemento do Endereço do Paciente" size="22" readonly="true" value="#{consultaDadosPacientePOLController.endereco.complLogradouro}" id="complemento"/> 
              </aghu:linha>  
              <aghu:linha> 
                <mec:inputText label="#{messages.LABEL_BAIRRO}" title="Bairro do Endereço do Paciente" size="70" readonly="true" value="#{consultaDadosPacientePOLController.endereco.bairroEndereco}" id="bairro"/>  
                <mec:inputText label="#{messages.LABEL_CEP}" title="CEP do Endereço do Paciente" size="36" readonly="true" value="#{consultaDadosPacientePOLController.endereco.cepEndereco}" id="cep"/> 
              </aghu:linha>  
              <aghu:linha> 
                <mec:inputText label="#{messages.LABEL_CIDADE}" title="Município do Endereço do Paciente" size="60" readonly="true" value="#{consultaDadosPacientePOLController.endereco.cidadeEndereco}" id="cidade"/>  
                <mec:inputText label="#{messages.LABEL_UF}" title="UF do Endereço do Paciente" size="2" readonly="true" value="#{consultaDadosPacientePOLController.endereco.ufEndereco}" id="uf"/> 
              </aghu:linha> 
            </aghu:panelGeral>
             
          </p:tab>
            
          <p:tab rendered="#{mf:hasPermission(securityController,'convenioSaude,pesquisar')}" title="#{messages.LABEL_CONVENIOS}"> 
            <p:dataTable id="tabelaConvenios" value="#{consultaDadosPacientePOLController.convenios}" var="_convenioPaciente" styleClass="aghu-server-datatable"
            	emptyMessage="#{cc.attrs.emptyMessage}">  
              <p:column style="width:150px; padding-left: 2px !important;"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_CONVENIO}"/> 
                </f:facet>  
                <h:outputText value="#{_convenioPaciente.convenio.convenioSaude.codigo} - #{_convenioPaciente.convenio.convenioSaude.descricao}"
                		      rendered="#{(fn:length(_convenioPaciente.convenio.convenioSaude.descricao) le 15)}" />
                		      
                <h:outputText value="#{_convenioPaciente.convenio.convenioSaude.codigo} - #{fn:substring(_convenioPaciente.convenio.convenioSaude.descricao,0,13)}..." 
                			  rendered="#{(fn:length(_convenioPaciente.convenio.convenioSaude.descricao) gt 15)}"
                			  title="#{_convenioPaciente.convenio.convenioSaude.codigo} - #{_convenioPaciente.convenio.convenioSaude.descricao}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_PLANO}"/> 
                </f:facet>  
                <h:outputText value="#{_convenioPaciente.convenio.id.seq} - #{_convenioPaciente.convenio.descricao}"
                			  rendered="#{(fn:length(_convenioPaciente.convenio.descricao) le 23)}"/> 
                		      
                <h:outputText value="#{_convenioPaciente.convenio.id.seq} - #{fn:substring(_convenioPaciente.convenio.descricao,0,25)}..." 
                			  rendered="#{(fn:length(_convenioPaciente.convenio.descricao) gt 23)}"
                			  title="#{_convenioPaciente.convenio.id.seq} - #{_convenioPaciente.convenio.descricao}"/> 
              </p:column>  
              <p:column style="width:120px; text-align:center; padding-left: 2px !important;"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_MATRICULA}"/> 
                </f:facet>  
                <h:outputText value="#{_convenioPaciente.matricula}"/> 
              </p:column>  
              <p:column style="text-align:center;width:60px; padding-left: 2px !important;"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_CRIADO_EM}"/> 
                </f:facet>  
                <h:outputText value="#{_convenioPaciente.criadoEm}"> 
                  <f:convertDateTime pattern="dd/MM/yyyy"/> 
                </h:outputText> 
              </p:column>  
              <p:column style="text-align:center;width:80px; padding-left: 2px !important;"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_ENCERRADO_EM}"/> 
                </f:facet>  
                <h:outputText value="#{_convenioPaciente.encerradoEm}"> 
                  <f:convertDateTime pattern="dd/MM/yyyy"/> 
                </h:outputText> 
              </p:column>  
              <p:column style="text-align:center;width:30px; padding-left: 2px !important;"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_ATIVO}"/> 
                </f:facet>  
                <h:outputText value="#{_convenioPaciente.getDescricaoSituacao()}"/> 
              </p:column> 
            </p:dataTable> 
          </p:tab> 
        </p:tabView> 
      </h:form> 
    </ui:define> 
  </ui:composition> 
</html>