<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <ui:fragment> 
     <aghu:linha> 
       <p:outputPanel id="panel_excluido" layout="inline"> 
         <mec:selectBooleanCheckbox label="#{messages.LABEL_EXCLUIDO_SOL_COMPR}" title="#{messages.TITLE_EXCLUIDO_SOL_COMPR}" readonly="#{!mf:hasPermission(securityController,'cadastrarSolicitacaoCompras,gravar') or solicitacaoCompraController.rdEdicao}" value="#{solicitacaoCompraController.solicitacaoDeCompra.exclusao}" id="excluido"> 
           <p:ajax event="change" process="@this" listener="#{solicitacaoCompraController.validaExcluidoDevolvido}"/>  
           <p:ajax update="@(#motivoExclusaoPanel)" event="change"/> 
         </mec:selectBooleanCheckbox> 
       </p:outputPanel>  
       <p:outputPanel id="motivoExclusaoPanel" layout="inline"> 
         <mec:inputText id="motivoExclusao" value="#{solicitacaoCompraController.solicitacaoDeCompra.motivoExclusao}" label="#{messages.LABEL_MOTIVO_EXCLS_SOL_COMPR}" title="#{messages.TITLE_MOTIVO_EXCLS_SOL_COMPR}" readonly="#{!mf:hasPermission(securityController,'cadastrarSolicitacaoCompras,gravar') or !solicitacaoCompraController.solicitacaoDeCompra.exclusao or solicitacaoCompraController.rdEdicao}" required="#{solicitacaoCompraController.solicitacaoDeCompra.exclusao}" maxlength="240" size="80" removerCaratersEspeciais="false" panelView="true"> 
           <p:ajax event="change" eventsQueue="storeQueue" process="@this"/> 
         </mec:inputText> 
       </p:outputPanel>  
       <mec:inputTextData id="dtExc" label="#{messages.LABEL_DT_EXCLUSAO}" value="#{solicitacaoCompraController.solicitacaoDeCompra.dtExclusao}" readonly="true" tipo="data"/>  
       <mec:inputText id="servidorExc" label="#{messages.LABEL_SERVIDOR}" size="40" value="#{solicitacaoCompraController.obterNomePessoaFisicaServidorExclusao(solicitacaoCompraController.solicitacaoDeCompra)}" readonly="true"/> 
     </aghu:linha>  
     <aghu:linha> 
       <p:outputPanel id="panel_devolucao" layout="inline"> 
         <mec:selectBooleanCheckbox label="#{messages.LABEL_DEVOLVIDO_SOL_COMPR}" title="#{messages.TITLE_DEVOLVIDO_SOL_COMPR}" readonly="#{solicitacaoCompraController.rdDevolucao or !mf:hasPermission(securityController,'cadastrarSolicitacaoCompras,gravar') or mf:hasPermission(securityController,'devolvido,desabilitar')}" value="#{solicitacaoCompraController.solicitacaoDeCompra.devolucao}" id="devolvido"> 
           <p:ajax event="change" update="@(#panel_devolucao) @(#motivoDevolucaoPanel) @(#pontoParadaDevolucaoPanel)" process="@this" listener="#{solicitacaoCompraController.validaExcluidoDevolvido}"/>  
           <p:ajax update="@(#motivoDevolucaoPanel)" event="change"/> 
         </mec:selectBooleanCheckbox> 
       </p:outputPanel>  
       <p:outputPanel id="motivoDevolucaoPanel" layout="inline"> 
         <mec:inputText id="motivoDev" value="#{solicitacaoCompraController.solicitacaoDeCompra.justificativaDevolucao}" label="#{messages.LABEL_MOTIVO_DEV_SOL_COMPR}" title="#{messages.TITLE_MOTIVO_DEV_SOL_COMPR}" readonly="#{solicitacaoCompraController.rdDevolucao or !mf:hasPermission(securityController,'cadastrarSolicitacaoCompras,gravar') or !solicitacaoCompraController.solicitacaoDeCompra.devolucao or mf:hasPermission(securityController,'devolvido,desabilitar')}" required="#{solicitacaoCompraController.solicitacaoDeCompra.devolucao}" maxlength="240" size="60" removerCaratersEspeciais="false" panelView="true"> 
           <p:ajax event="change" eventsQueue="storeQueue" process="@this"/> 
         </mec:inputText> 
       </p:outputPanel> 
     </aghu:linha> 
  </ui:fragment> 
</html>
