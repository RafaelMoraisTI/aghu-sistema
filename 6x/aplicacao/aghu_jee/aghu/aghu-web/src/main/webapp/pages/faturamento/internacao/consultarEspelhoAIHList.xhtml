<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <ui:composition template="/WEB-INF/templates/form_template.xhtml"> 
    <ui:define name="head"> 
      <title>Pesquisa de Espelho AIH :: AGHU - MEC</title> 
    </ui:define>  
    <ui:define name="metadata"> 
      <f:metadata> 
        <f:viewAction action="#{consultarEspelhoAIHPaginatorController.inicio}"/> 
      </f:metadata> 
    </ui:define>  
    <ui:define name="body"> 
      <mec:pageConfig controller="#{consultarEspelhoAIHPaginatorController}"/>  
      <p:outputPanel id="panelTone" layout="inline"> 
        <h:form prependId="false" id="formPesquisa"> 
          <aghu:panelGeral legend="#{messages.TITLE_CONTA_HOSPITALAR}"> 
            <mec:inputText value="#{consultarEspelhoAIHPaginatorController.seq}" label="#{messages.LABEL_CONTA_HOSPITALAR_FAT_ESPELHO}" size="20" readonly="true" id="contaHospitalarEspelho" converter="#{javax.faces.Integer}"/>  
            <mec:inputText value="#{consultarEspelhoAIHPaginatorController.espelhoAih.dauSenha}" label="#{messages.LABEL_CERIH_FAT_ESPELHO}" size="20" readonly="true" id="CERIH"/>  
            <mec:inputText value="#{consultarEspelhoAIHPaginatorController.espelhoAih.conCodCentral}" label="#{messages.LABEL_CMCE_FAT_ESPELHO}" size="20" readonly="true" id="CMCE"/> 
          </aghu:panelGeral>  
          <aghu:linha> 
            <p:accordionPanel id="toggleValorTotal" style="margin: 5px 0px !important; min-width: 924px;" activeIndex="-1" prependId="false"> 
              <p:tab title="#{messages.LABEL_VALOR_TOTAL_FAT_ESPELHO} R$ #{consultarEspelhoAIHPaginatorController.vlTotalFormatado}"> 
                <h:panelGrid columns="6"> 
                  <mec:inputText value="#{consultarEspelhoAIHPaginatorController.fatContasHospitalares.valorSh}" label="#{messages.LABEL_VALOR_SERVICO_HOSPITALAR_FAT_ESPELHO}" size="20" converter="#{currencyConverter}" readonly="true" fieldStyle="width:150px" id="valorSh"/>  
                  <mec:inputText value="#{consultarEspelhoAIHPaginatorController.fatContasHospitalares.valorSp}" label="#{messages.LABEL_VALOR_SERVICO_PROFISSIONAL_FAT_ESPELHO}" size="20" converter="#{currencyConverter}" readonly="true" fieldStyle="width: 150px" id="valorSp"/>  
                  <mec:inputText value="#{consultarEspelhoAIHPaginatorController.fatContasHospitalares.valorUti}" label="#{messages.LABEL_VALOR_UTI_FAT_ESPELHO}" size="20" converter="#{currencyConverter}" readonly="true" fieldStyle="width: 150px" id="valorUti"/>  
                  <mec:inputText value="#{consultarEspelhoAIHPaginatorController.fatContasHospitalares.valorUtie}" label="#{messages.LABEL_VALOR_UTI_ESPECIAL_FAT_ESPELHO}" size="20" converter="#{currencyConverter}" readonly="true" fieldStyle="width: 150px" id="valorUtie"/>  
                  <mec:inputText value="#{consultarEspelhoAIHPaginatorController.fatContasHospitalares.valorAcomp}" label="#{messages.LABEL_VALOR_ACOMPANHANTE_FAT_ESPELHO}" size="20" converter="#{currencyConverter}" readonly="true" fieldStyle="width: 150px" id="valorAcomp"/>  
                  <h:panelGroup/>  
                  <mec:inputText value="#{consultarEspelhoAIHPaginatorController.fatContasHospitalares.valorRn}" label="#{messages.LABEL_VALOR_RN_FAT_ESPELHO}" size="20" converter="#{currencyConverter}" readonly="true" fieldStyle="width: 150px" id="valorRn"/>  
                  <mec:inputText value="#{consultarEspelhoAIHPaginatorController.fatContasHospitalares.valorTransp}" label="#{messages.LABEL_VALOR_TRANSPLANTE_FAT_ESPELHO}" size="20" converter="#{currencyConverter}" readonly="true" fieldStyle="width: 150px" id="valorTransp"/>  
                  <mec:inputText value="#{consultarEspelhoAIHPaginatorController.fatContasHospitalares.valorOpm}" label="#{messages.LABEL_VALOR_OROTOSE_PROTESE_MATERIAL_FAT_ESPELHO}" size="20" converter="#{currencyConverter}" readonly="true" fieldStyle="width: 150px" id="valorOpm"/>  
                  <mec:inputText value="#{consultarEspelhoAIHPaginatorController.fatContasHospitalares.valorHemat}" label="#{messages.LABEL_VALOR_HEMOTOLOGIA_FAT_ESPELHO}" size="20" converter="#{currencyConverter}" readonly="true" fieldStyle="width: 150px" id="valorHemat"/>  
                  <mec:inputText value="#{consultarEspelhoAIHPaginatorController.fatContasHospitalares.valorProcedimento}" label="#{messages.LABEL_VALOR_PROCEDIMENTO_FAT_ESPELHO}" size="20" converter="#{currencyConverter}" readonly="true" fieldStyle="width: 150px" id="valorProcedimento"/>  
                  <mec:inputText value="#{consultarEspelhoAIHPaginatorController.fatContasHospitalares.valorAnestesista}" label="#{messages.LABEL_VALOR_ANESTESISTA_FAT_ESPELHO}" size="20" converter="#{currencyConverter}" readonly="true" fieldStyle="width: 150px" id="valorAnestesista"/> 
                </h:panelGrid>  
                <div> 
                  <div style="float: left; width: 250px;"> 
                    <aghu:linha style="margin-left:4px !important; margin-right:4px !important;"> 
                      <legend>#{messages.TITLE_PONTOS_FAT_ESPELHO}</legend>  
                      <aghu:linha> 
                        <mec:inputNumero value="#{consultarEspelhoAIHPaginatorController.fatContasHospitalares.pontosCirurgiao}" label="#{messages.LABEL_PONTOS_CIRURGIAO_FAT_ESPELHO}" size="11" readonly="true" id="pontosCirurgiao"/>  
                        <mec:inputNumero value="#{consultarEspelhoAIHPaginatorController.fatContasHospitalares.pontosAnestesista}" label="#{messages.LABEL_PONTOS_ANESTESISTA_FAT_ESPELHO}" size="11" readonly="true" id="pontosAnestesista"/> 
                      </aghu:linha> 
                    </aghu:linha> 
                  </div> 
                </div> 
              </p:tab> 
            </p:accordionPanel> 
          </aghu:linha>  
          <aghu:panelGeral legend="#{messages.TITLE_ESPELHO_FAT_ESPELHO}"> 
            <aghu:linha> 
              <mec:inputText value="#{consultarEspelhoAIHPaginatorController.espelhoAih.id.seqp}" label="#{messages.LABEL_SEQ_FAT_ESPELHO}" size="8" readonly="true" fieldStyle="width: 140px;" id="seqp" converter="#{javax.faces.Integer}"/>  
              <mec:inputText value="#{consultarEspelhoAIHPaginatorController.espelhoAih.tahSeq}" label="#{messages.LABEL_TIPO_AIH_FAT_ESPELHO}" size="8" readonly="true" fieldStyle="width: 140px;" id="tahSeq" converter="#{javax.faces.Short}"/>  
              <mec:inputText value="#{consultarEspelhoAIHPaginatorController.espelhoAih.numeroAihPosterior}" label="#{messages.LABEL_AIH_POSTERIOR_FAT_ESPELHO}" size="13" readonly="true" fieldStyle="width: 140px;" id="numeroAihPosterior" converter="#{javax.faces.Long}"/>  
              <mec:inputText value="#{consultarEspelhoAIHPaginatorController.espelhoAih.numeroAihAnterior}" label="#{messages.LABEL_AIH_ANTERIOR_FAT_ESPELHO}" size="13" readonly="true" fieldStyle="width: 140px;" id="numeroAihAnterior" converter="#{javax.faces.Long}"/>  
              <mec:inputText value="#{consultarEspelhoAIHPaginatorController.espelhoAih.tciCodSus}" label="#{messages.LABEL_CARATER_INTERNACAO_FAT_ESPELHO}" size="11" readonly="true" fieldStyle="width: 140px;" id="tciCodSus" converter="#{javax.faces.Byte}"/>  
              <mec:inputText value="#{consultarEspelhoAIHPaginatorController.espelhoAih.exclusaoCritica}" label="#{messages.LABEL_EXCLUSAO_CRITICA_FAT_ESPELHO}" size="11" readonly="true" fieldStyle="width: 140px" id="exclusaoCritica"/>  
              <mec:inputText value="#{consultarEspelhoAIHPaginatorController.espelhoAih.criadoPor}" label="#{messages.LABEL_CRIADO_POR_FAT_ESPELHO}" size="20" readonly="true" fieldStyle="width: 140px" id="criadoPor"/> 
            </aghu:linha>  
            <aghu:linha> 
              <mec:inputText value="#{consultarEspelhoAIHPaginatorController.espelhoAih.fatItemProcedimentoHospitalarSolicitado.codTabela} #{consultarEspelhoAIHPaginatorController.espelhoAih.fatItemProcedimentoHospitalarSolicitado.descricao}" label="#{messages.LABEL_SUS_SOLIC_FAT_ESPELHO}" size="180" readonly="true" id="iphCodSusSolic" converter="#{javax.faces.Long}"/> 
            </aghu:linha>  
            <aghu:linha> 
              <mec:inputText value="#{consultarEspelhoAIHPaginatorController.espelhoAih.fatItemProcedimentoHospitalarRealizado.codTabela} #{consultarEspelhoAIHPaginatorController.espelhoAih.fatItemProcedimentoHospitalarRealizado.descricao}" label="#{messages.LABEL_SUS_REALIZADO_FAT_ESPELHO}" size="180" readonly="true" id="iphCodSusRealiz" converter="#{javax.faces.Long}"/> 
            </aghu:linha>  
            <div> 
              <div style="float: left; width: 550px;"> 
                <aghu:linha style="margin-left:8px !important; margin-right:4px !important;"> 
                  <legend>#{messages.TITLE_DIARIAS_FAT_ESPELHO}</legend>  
                  <aghu:linha> 
                    <mec:inputText value="#{consultarEspelhoAIHPaginatorController.espelhoAih.nroDiasMesInicialUti}" label="#{messages.LABEL_MES_INICIAL_UTI_FAT_ESPELHO}" size="10" readonly="true" id="nroDiasMesInicialUti" converter="#{javax.faces.Byte}"/>  
                    <mec:inputText value="#{consultarEspelhoAIHPaginatorController.espelhoAih.nroDiasMesAnteriorUti}" label="#{messages.LABEL_MES_ANTERIOR_UTI_FAT_ESPELHO}" size="10" readonly="true" id="nroDiasMesAnteriorUti" converter="#{javax.faces.Byte}"/>  
                    <mec:inputText value="#{consultarEspelhoAIHPaginatorController.espelhoAih.nroDiasMesAltaUti}" label="#{messages.LABEL_MES_ALTA_UTI_FAT_ESPELHO}" size="13" readonly="true" id="nroDiasMesAltaUti" converter="#{javax.faces.Byte}"/>  
                    <mec:inputText value="#{consultarEspelhoAIHPaginatorController.espelhoAih.nroDiariasAcompanhante}" label="#{messages.LABEL_DIARIAS_ACOMPANHANTE_FAT_ESPELHO}" size="13" readonly="true" id="nroDiariasAcompanhante" converter="#{javax.faces.Byte}"/> 
                  </aghu:linha> 
                </aghu:linha> 
              </div> 
            </div> 
          </aghu:panelGeral> 
        </h:form>  
        <h:form prependId="false" id="formItens"> 
          <aghu:panelGeral legend="#{messages.TITLE_ATOS_MEDICOS_FAT_ESPELHO}"> 
            <mec:serverDataTable id="tbAtosMedicosFatEspelho" dataModel="dataModel" controller="#{consultarEspelhoAIHPaginatorController}"> 
              <c:set var="_item" value="#{item}"/>  
              <p:column id="col1" rendered="#{(consultarEspelhoAIHPaginatorController.espelhoAih.dciCpeAno gt 2008) or (consultarEspelhoAIHPaginatorController.espelhoAih.dciCpeAno eq 2008 and consultarEspelhoAIHPaginatorController.espelhoAih.dciCpeMes ge 11)}"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_SEQ_ARQ_SUS_ATOS_MEDICOS_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText value="#{_item.seqArqSus}"/> 
              </p:column>  
              <p:column id="col2" rendered="#{consultarEspelhoAIHPaginatorController.espelhoAih.dciCpeAno eq null or consultarEspelhoAIHPaginatorController.espelhoAih.dciCpeMes eq null or consultarEspelhoAIHPaginatorController.espelhoAih.dciCpeAno lt 2008 or (consultarEspelhoAIHPaginatorController.espelhoAih.dciCpeAno eq 2008 and consultarEspelhoAIHPaginatorController.espelhoAih.dciCpeMes lt 11)}"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_SEQ_ATOS_MEDICOS_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText value="#{_item.id.eaiSeq}"/> 
              </p:column>  
              <p:column id="col3"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_ITEM_TABELA_SUS_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText value="#{_item.iphCodSus}"/> 
              </p:column>  
              <p:column id="col4"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_QTDE_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText value="#{_item.quantidade}"/> 
              </p:column>  
              <p:column id="col5"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_VALOR_SERV_HOSP_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText value="#{_item.valorServHosp}"> 
                  <f:converter converterId="currencyConverter"/> 
                </h:outputText> 
              </p:column>  
              <p:column id="col6"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_VALOR_SERV_PROF_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText value="#{_item.valorServProf}"> 
                  <f:converter converterId="currencyConverter"/> 
                </h:outputText> 
              </p:column>  
              <p:column id="col7"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_IND_EQP_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText rendered="#{_item.indEquipe ne null}" value="#{_item.indEquipe}"/> 
              </p:column>  
              <p:column id="col8"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_CNS_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText value="#{_item.cpfCns}"> 
                  <f:converter converterId="cpfConverter"/> 
                </h:outputText>  
                <p:tooltip rendered="#{not empty _item.nomePessoa}" direction="bottom-right" styleClass="tooltip" layout="block"> 
                  <h:outputText value="#{messages.LABEL_NOME_FAT_ESPELHO}: "/>  
                  <h:outputText value="#{_item.nomePessoa}"/>  
                  <h:outputText value=" #{messages.LABEL_VINCULO_FAT_ESPELHO}: " rendered="#{not empty _item.vinculo}"/>  
                  <h:outputText value="#{_item.vinculo}" rendered="#{not empty _item.vinculo}"/>  
                  <h:outputText value=" #{messages.LABEL_MATRICULA_FAT_ESPELHO}: " rendered="#{not empty _item.matricula}"/>  
                  <h:outputText value="#{_item.matricula}" rendered="#{not empty _item.matricula}"/> 
                </p:tooltip> 
              </p:column>  
              <p:column id="col9"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_CBO_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText value="#{_item.cbo}"/>  
                <p:tooltip rendered="#{not empty _item.descricaoCBO}" value="#{_item.descricaoCBO}" direction="bottom-right" styleClass="tooltip" layout="block"/> 
              </p:column>  
              <p:column id="col10"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_NOTA_FISCAL_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText value="#{_item.notaFiscal}"/> 
              </p:column>  
              <p:column id="col11"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_PROCEDIMENTO_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText value="#{_item.valorProcedimento}"> 
                  <f:converter converterId="currencyConverter"/> 
                </h:outputText> 
              </p:column>  
              <p:column id="col12"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_ANESTESISTA_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText value="#{_item.valorAnestesista}"> 
                  <f:converter converterId="currencyConverter"/> 
                </h:outputText> 
              </p:column>  
              <p:column id="col13"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_DATA_PREVIA_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText value="#{_item.dataPrevia}"> 
                  <f:convertDateTime pattern="dd/MM/yyyy"/> 
                </h:outputText> 
              </p:column>  
              <p:column id="col14"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_COBRANCA_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText value="#{(_item.indModoCobranca eq 'P')?(messages.LABEL_PONTUACAO_FAT_ESPELHO):(messages.LABEL_VALOR_FAT_ESPELHO)}"/> 
              </p:column>  
              <p:column id="col15"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_TIPO_VINCULO_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText rendered="#{not empty _item.fatTiposVinculo}" value="#{_item.fatTiposVinculo.codigoSus}"/>  
                <p:tooltip rendered="#{not empty _item.fatTiposVinculo}" value="#{_item.fatTiposVinculo.descricao}" direction="bottom-right" styleClass="tooltip" layout="block"/> 
              </p:column>  
              <p:column id="col16"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_TIPO_ATO_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText rendered="#{not empty _item.fatTipoAto}" value="#{_item.fatTipoAto.codigoSus}"/>  
                <p:tooltip rendered="#{not empty _item.fatTipoAto}" value="#{_item.fatTipoAto.descricao}" direction="bottom-right" styleClass="tooltip" layout="block"/> 
              </p:column>  
              <p:column id="col17"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_PONTO_CIRURGIA_FAT_ESPELHO}"/> 
                </f:facet>  
                <h:outputText value="#{_item.pontosCirurgiao}"/> 
              </p:column> 
            </mec:serverDataTable> 
          </aghu:panelGeral>  
          <aghu:acao> 
            <mec:commandButton rendered="#{not empty consultarEspelhoAIHPaginatorController.origem}" id="bt_voltar" action="#{consultarEspelhoAIHPaginatorController.voltar}" value="#{messages.LABEL_VOLTAR}" ajax="true" profile="back"/> 
          </aghu:acao> 
        </h:form> 
      </p:outputPanel> 
    </ui:define> 
  </ui:composition> 
</html>
