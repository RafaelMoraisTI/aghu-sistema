<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:mec="http://xmlns.jcp.org/jsf/composite/components"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:aghu="http://xmlns.jcp.org/jsf/component"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:mf="http://www.mec.gov.br/taglib">
	<ui:composition>
		<p:dialog id="modalGerarExtratoAlteracoesListaTransplantes" width="80%" height="60%" modal="true" resizable="false" widgetVar="modalGerarExtratoAlteracoesListaTransplantesWG" closable="true" >
			<f:facet name="header">
        		<h:outputText value="#{messages.LABEL_EXTRATO_TRANSPLANTES}" /> 
   			</f:facet>	
			<h:form>
       			<aghu:linha>
  					<mec:serverDataTable id="gridExtratoTransplantes" list="#{listarTransplantesController.listaExtratoAlteracoes}" selection="selectModal" scrollable="true" controller="#{listarTransplantesController}">
                    	<p:column style="width:4%;">
                      		<f:facet name="header">
                        		<h:outputText value="#{messages.LABEL_DATA}"/>
                      		</f:facet>

	                      	<h:outputText value="#{item.dataSitucao}">
	                      		<f:convertDateTime patern="dd/MM/yyyy"/>
	                      	</h:outputText>
	                    </p:column>

                    	<p:column style="width:12%;">
                      		<f:facet name="header">
                        		<h:outputText value="#{messages.LABEL_SITUACAO_PACIENTE_GEALT}"/>
                      		</f:facet>

	                      	<h:outputText value="#{item.situacao.retornarDescricaoCompleta()}" />
	                    </p:column>
	                    
	                    <p:column style="width:30%;">
                      		<f:facet name="header">
                        		<h:outputText value="#{messages.LABEL_MOTIVO}"/>
                      		</f:facet>
                      		
	                      	<h:outputText id="outMotivo" value="#{item.motivo.length() lt 50 ? item.motivo : item.motivo.substring(0,47).concat('...')}" />
	                      	
	                      	<p:tooltip for="outMotivo" direction="bottom-right" styleClass="tooltip" layout="block" rendered="#{item.motivo.length() gt 50}">
	                      		<h:outputText value="#{item.motivo}" />
							</p:tooltip>
	                    </p:column>
	                    
	                    <p:column style="width:24%;">
                      		<f:facet name="header">
                        		<h:outputText value="#{messages.LABEL_RESPONSAVEL}"/>
                      		</f:facet>

	                      	<h:outputText id="outResponsavel" value="#{item.responsavel.length() lt 38 ? item.responsavel : item.responsavel.substring(0,35).concat('...')}" />
	                      	<p:tooltip for="outResponsavel" direction="bottom-right" styleClass="tooltip" layout="block" rendered="#{item.responsavel.length() gt 38}">
	                      		<h:outputText value="#{item.responsavel}" />
							</p:tooltip>
	                    </p:column>                   
                  	</mec:serverDataTable>
            	</aghu:linha> 
			</h:form>	
		</p:dialog>
	</ui:composition>
</html>	