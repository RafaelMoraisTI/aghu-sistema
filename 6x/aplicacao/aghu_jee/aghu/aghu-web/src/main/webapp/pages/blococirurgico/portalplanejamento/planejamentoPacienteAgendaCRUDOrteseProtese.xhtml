<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <ui:composition> 
    <aghu:panelGeral> 
      <p:outputPanel id="panelFieldsOrteseProtese" layout="inline"> 
        <aghu:linha> 
          <mec:suggestionBox id="suggestionMaterial" size="50" label="#{messages.LABEL_PLANEJAMENTO_PACIENTE_AGENDA_ORTESE_PROTESE_MATERIAL}" title="#{messages.TITLE_PLANEJAMENTO_PACIENTE_AGENDA_ORTESE_PROTESE_MATERIAL}" posSelectionAction="adicionar" width="600" descricaoInput="nome" descricaoLabel="descricao" suggestionAction="pesquisarMateriaisOrteseseProteses" readonly="#{cadastroPlanejamentoPacienteAgendaController.readOnlyCamposPorON5}" controller="#{cadastroPlanejamentoPacienteAgendaOrteseProteseController}" value="#{cadastroPlanejamentoPacienteAgendaOrteseProteseController.scoMaterial}" render="panelGeral,tabelaOrteseProtese,panelTabelaOrteseProtese,panelFieldsOrteseProtese"> 
            <p:column> 
              <f:facet name="header"> 
                <h:outputText value="#{messages.LABEL_SCO_MATERIAL_NOME}" style="font-weight: bold;"/> 
              </f:facet> #{item.nome}
            </p:column>  
            <p:column> 
              <f:facet name="header"> 
                <h:outputText value="#{messages.LABEL_SCO_MATERIAL_UNIDADE}" style="font-weight: bold;"/> 
              </f:facet> #{item.unidadeMedida.descricao}
            </p:column> 
          </mec:suggestionBox> 
        </aghu:linha> 
      </p:outputPanel>  
      <aghu:linha> 
				<ui:fragment>
					<p:outputPanel id="panelTabelaOrteseProtese" layout="inline"> 
              <mec:serverDataTable id="tabelaOrteseProtese" controller="#{cadastroPlanejamentoPacienteAgendaOrteseProteseController}"
              rendered="#{cadastroPlanejamentoPacienteAgendaOrteseProteseController.agendaOrtProteseList != null and (not empty cadastroPlanejamentoPacienteAgendaOrteseProteseController.agendaOrtProteseList)}" 
              list="#{cadastroPlanejamentoPacienteAgendaOrteseProteseController.agendaOrtProteseList}" scrollable="true" scrollHeight="400px" selection="itemSelecionado"> 
                <c:set var="_item" value="#{item}"/>  
                <p:column style="width:5%; white-space:nowrap; !important; background-color:''"> 
                  <f:facet name="header"> 
                    <h:outputText value="#{messages.LABEL_ACAO}"/> 
                  </f:facet>  
                  <mec:commandLink id="link_excluir" process="@this" rendered="#{not cadastroPlanejamentoPacienteAgendaController.readOnlyCamposPorON5}" 
                  action="#{cadastroPlanejamentoPacienteAgendaOrteseProteseController.removerAgendaOrtProtese(item)}" title="#{messages.LABEL_EXCLUIR}" 
                  styleClass="silk-icon silk-delete" ajax="true" render="panelTabelaOrteseProtese"/> 
                </p:column>  
                <p:column style="width:10%; white-space:nowrap; !important; background-color:''"> 
                  <f:facet name="header"> 
                    <h:outputText value="#{messages.LABEL_PLANEJAMENTO_PACIENTE_AGENDA_ORTESE_PROTESE_CODIGO}"/> 
                  </f:facet>  
                  <h:outputText value="#{_item.scoMaterial.codigo}"/> 
                </p:column>  
                <p:column style="width:50%; white-space:nowrap; !important; background-color:''"> 
                  <f:facet name="header"> 
                    <h:outputText value="#{messages.LABEL_PLANEJAMENTO_PACIENTE_AGENDA_ORTESE_PROTESE_MATERIAL}"/> 
                  </f:facet>  
                  <h:outputText value="#{_item.scoMaterial.nome}"/> 
                </p:column>  
                <p:column style="width:15%; white-space:nowrap; !important; background-color:''"> 
                  <f:facet name="header"> 
                    <h:outputText value="#{messages.LABEL_PLANEJAMENTO_PACIENTE_AGENDA_ORTESE_PROTESE_UNIDADE}"/> 
                  </f:facet>  
                  <h:outputText value="#{_item.scoMaterial.unidadeMedida.descricao}"/> 
                </p:column>  
                <p:column style="width:8%; white-space:nowrap; !important; background-color:''"> 
                  <f:facet name="header"> 
                    <h:outputText value="#{messages.LABEL_PLANEJAMENTO_PACIENTE_AGENDA_ORTESE_PROTESE_QUANTIDADE}"/> 
                  </f:facet>           
                   <h:inputText styleClass="numerico" id="OrteseProteseQuantidade" readonly="#{cadastroPlanejamentoPacienteAgendaController.readOnlyCamposPorON5}" value="#{_item.qtde}" size="3" maxlength="3"> 
                     <p:ajax event="change" process="@this"/> 
                 	</h:inputText> 
                </p:column> 
              </mec:serverDataTable> 
            </p:outputPanel> 
				</ui:fragment>
      </aghu:linha> 
    </aghu:panelGeral> 
  </ui:composition> 
</html>
