<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <ui:composition template="/WEB-INF/templates/form_template.xhtml"> 
    <ui:define name="head"> 
      <title>#{messages.TITLE_INF_PERINATAIS_POL}</title> 
    </ui:define>  
    <ui:define name="metadata"> 
      <f:metadata> 
        <f:viewAction action="#{informacoesPerinataisPOLController.inicio}"/> 
      </f:metadata> 
    </ui:define>  
    <ui:define name="body"> 
      <mec:pageConfig controller="#{informacoesPerinataisPOLController}"/>  
      <aghu:panelGeral id="field_geral" legend="#{messages.TITLE_INF_PERINATAIS_POL}"> 
        <h:form prependId="false" id="formBotoes"> 
          <aghu:linha> 
            <p:outputPanel id="btnDescricoes" layout="inline"> 
              <mec:commandButton id="bt_Parto" disabled="#{(!informacoesPerinataisPOLController.habilitarBotaoParto)}" action="#{informacoesPerinataisPOLController.abrirRelatorioParto}" title="#{messages.TITLE_PARTO_INF_PERINATAIS_POL}" ajax="true" value="#{messages.LABEL_PARTO_INF_PERINATAIS_POL}" styleClass="bt_cinza">
                   <f:setPropertyActionListener target="#{relatorioSumarioAssistenciaPartoController.pacCodigo}" value="#{informacoesPerinataisPOLController.gsoPacCodigo}" for="command"/>
                   <f:setPropertyActionListener target="#{relatorioSumarioAssistenciaPartoController.gsoSeqp}" value="#{informacoesPerinataisPOLController.gsoSeqp}" for="command"/>
                   <f:setPropertyActionListener target="#{relatorioSumarioAssistenciaPartoController.conNumero}" value="#{informacoesPerinataisPOLController.conNumero}" for="command"/>
                   <f:setPropertyActionListener target="#{relatorioSumarioAssistenciaPartoController.voltarPara}" value="informacoesPerinataisListPOL" for="command"/>
              </mec:commandButton>  
              <mec:commandButton id="bt_Nascimento" value="#{messages.LABEL_NASCIMENTO_INF_PERINATAIS_POL}" title="#{messages.TITLE_NASCIMENTO_INF_PERINATAIS_POL}" disabled="#{(!informacoesPerinataisPOLController.habilitarBotaoNascimento)}" action="#{informacoesPerinataisPOLController.abrirRelatorioNascimento}" styleClass="bt_cinza"/>  
              
              <mec:commandButton id="bt_Exame" disabled="#{(!informacoesPerinataisPOLController.habilitarBotaoExameFisico)}" 
              					 action="#{informacoesPerinataisPOLController.abrirRelatorioExameFisico}" 
              					 title="#{messages.TITLE_EXAME_FISICO_INF_PERINATAIS_POL}" 
              					 value="#{messages.LABEL_EXAME_FISICO_INF_PERINATAIS_POL}"  styleClass="bt_cinza">
                    <f:setPropertyActionListener target="#{relatorioExameFisicoRNController.pacCodigo}" value="#{informacoesPerinataisPOLController.gsoPacCodigo}" for="command"/>  
                    <f:setPropertyActionListener target="#{relatorioExameFisicoRNController.gsoSeqp}" value="#{informacoesPerinataisPOLController.gsoSeqp}" for="command"/>  
                    <f:setPropertyActionListener target="#{relatorioExameFisicoRNController.seqp}" value="#{informacoesPerinataisPOLController.rnaSeqp}" for="command"/>  
                    <f:setPropertyActionListener target="#{relatorioExameFisicoRNController.conNumero}" value="#{informacoesPerinataisPOLController.conNumero}" for="command"/>  
                    <f:setPropertyActionListener target="#{relatorioExameFisicoRNController.indImpPrevia}" value="#{informacoesPerinataisPOLController.indImpPrevia}" for="command"/>  
                    <f:setPropertyActionListener target="#{relatorioExameFisicoRNController.voltarPara}" value="informacoesPerinataisListPOL" for="command"/>
              </mec:commandButton>  
             
              <p:outputPanel id="panel_Sumarios" rendered="#{informacoesPerinataisPOLController.habilitarBotaoAlta()}" layout="inline"> 
	                <p:outputPanel id="panel_Sumario1" rendered="#{informacoesPerinataisPOLController.internacao.possuiDocumentoAssinado}" layout="inline"> 
	                  <mec:commandButton title="#{messages.TITLE_SUMARIO_ALTA_INF_PERINATAIS_POL}" disabled="#{!informacoesPerinataisPOLController.habilitarBotaoSumarioAlta}" action="#{informacoesPerinataisPOLController.abrirVisualizarDocumentoCertificado}" value="#{messages.LABEL_SUMARIO_ALTA_INF_PERINATAIS_POL}" id="bt_Sumario1" styleClass="bt_cinza"> 
	                    <f:setPropertyActionListener target="#{visualizarDocumentoCertificadoController.seqVersaoDocumento}" value="#{informacoesPerinataisPOLController.internacao.seqVersaoDocumento}" for="command"/>  
	                    <f:setPropertyActionListener target="#{visualizarDocumentoCertificadoController.voltarPara}" value="pol-informacoesPerinatais" for="command"/>  
	                    <f:setPropertyActionListener target="#{visualizarDocumentoCertificadoController.situacaoDocumento}" value="assinado" for="command"/>  
	                    <f:setPropertyActionListener target="#{visualizarDocumentoCertificadoController.descricaoTipoDocumento}" value="#{informacoesPerinataisPOLController.getTitleDocAssinado()}" for="command"/> 
	                  </mec:commandButton> 
	                </p:outputPanel>  
	                
	                <p:outputPanel id="panel_Sumario2" rendered="#{informacoesPerinataisPOLController.internacao.possuiDocumentoPendente}" layout="inline"> 
	                  <mec:commandButton title="#{messages.TITLE_SUMARIO_ALTA_INF_PERINATAIS_POL}" disabled="#{!informacoesPerinataisPOLController.habilitarBotaoSumarioAlta}" 
	                  					 value="#{messages.LABEL_SUMARIO_ALTA_INF_PERINATAIS_POL}" id="bt_Sumario2" 
	                  					 action="#{informacoesPerinataisPOLController.abrirVisualizarDocumentoCertificado()}" styleClass="bt_cinza"> 
	                    <f:setPropertyActionListener target="#{visualizarDocumentoCertificadoController.seqVersaoDocumento}" value="#{informacoesPerinataisPOLController.internacao.seqVersaoDocumento}" for="command"/>  
	                    <f:setPropertyActionListener target="#{visualizarDocumentoCertificadoController.voltarPara}" value="pol-informacoesPerinatais" for="command"/>  
	                    <f:setPropertyActionListener target="#{visualizarDocumentoCertificadoController.situacaoDocumento}" value="original" for="command"/>  
	                    <f:setPropertyActionListener target="#{visualizarDocumentoCertificadoController.descricaoTipoDocumento}" value="#{informacoesPerinataisPOLController.getTitleDocAssinado()}" for="command"/> 
	                  </mec:commandButton> 
	                </p:outputPanel>  
	                
	                <p:outputPanel id="panel_Sumario3" rendered="#{informacoesPerinataisPOLController.internacao.possuiRelatorioAltaObito}" layout="inline"> 
	                  <mec:commandButton title="#{messages.TITLE_SUMARIO_ALTA_INF_PERINATAIS_POL}" disabled="#{!informacoesPerinataisPOLController.habilitarBotaoSumarioAlta}" 
	                  					 value="#{messages.LABEL_SUMARIO_ALTA_INF_PERINATAIS_POL}" action="#{informacoesPerinataisPOLController.abrirSumarioAltaPDF()}"
	                  					 id="bt_Sumario3" styleClass="bt_cinza"> 
	                    <f:setPropertyActionListener target="#{relatorioInternacaoSumarioAltaObitoController.atdSeq}" value="#{informacoesPerinataisPOLController.internacao.atdSeq}" for="command"/>  
	                    <f:setPropertyActionListener target="#{relatorioInternacaoSumarioAltaObitoController.voltarPara}" value="perinatais" for="command"/>  
	                    <f:setPropertyActionListener target="#{relatorioInternacaoSumarioAltaObitoController.sumarioObito}" value="#{informacoesPerinataisPOLController.internacao.obito}" for="command"/> 
	                  </mec:commandButton> 
	                </p:outputPanel> 
              </p:outputPanel>  
              
              <p:outputPanel id="panel_Sumario_sem_int" rendered="#{informacoesPerinataisPOLController.internacao.atdSeq eq null and informacoesPerinataisPOLController.registroSelecionado.tipo.descricao eq 'Nascimento'}" layout="inline"> 
                <mec:commandButton title="#{messages.TITLE_SUMARIO_ALTA_INF_PERINATAIS_POL}" 
                				   disabled="#{!informacoesPerinataisPOLController.habilitarBotaoSumarioAlta}" 
                				   action="#{informacoesPerinataisPOLController.abrirSumarioAltaPDF}" 
                				   value="#{messages.LABEL_SUMARIO_ALTA_INF_PERINATAIS_POL}" id="bt_Sumario_sem_int" styleClass="bt_cinza"> 
                  <f:setPropertyActionListener target="#{relatorioInternacaoSumarioAltaObitoController.atdSeq}" value="#{informacoesPerinataisPOLController.atdSeq}" for="command"/>  
                  <f:setPropertyActionListener target="#{relatorioInternacaoSumarioAltaObitoController.voltarPara}" value="pol-informacoesPerinatais" for="command"/> 
                </mec:commandButton> 
              </p:outputPanel>
              
              <p:outputPanel id="panel_Sumario4" rendered="#{!informacoesPerinataisPOLController.habilitarBotaoAlta() and informacoesPerinataisPOLController.registroSelecionado.tipo.descricao ne 'Nascimento'}" layout="inline"> 
                <mec:commandButton id="bt_alta" disabled="#{!informacoesPerinataisPOLController.habilitarBotaoSumarioAlta}" value="#{messages.LABEL_SUMARIO_ALTA_INF_PERINATAIS_POL}" styleClass="bt_cinza"/> 
              </p:outputPanel>             
            </p:outputPanel> 
          </aghu:linha> 
        <aghu:linha>
            <mec:serverDataTable dataModel="dataModel" value="#{informacoesPerinataisPOLController}" id="tabela_resultados" controller="#{informacoesPerinataisPOLController}"
             selection="registroSelecionado"> 
              <c:set var="_infPerinatal" value="#{item}"/>  
              
              	<p:ajax event="rowSelect"
							listener="#{informacoesPerinataisPOLController.selecionarRegistro()}"
							update="@(#btnDescricoes)" />
							
             
              <p:column id="columnData"> 
                <f:facet name="header"> 
                  <h:outputText id="outputDataH" value="#{messages.LABEL_DATA}"/> 
                </f:facet>  
                <h:outputText id="outputData" value="#{_infPerinatal.dthrInicio}"> 
                  <f:convertDateTime pattern="dd/MM/yyyy"/> 
                </h:outputText> 
              </p:column>  
              <p:column id="columnTipo"> 
                <f:facet name="header"> 
                  <h:outputText id="outputTipoH" styleClass="headerText" value="#{messages.LABEL_TIPO_ATEND}"/> 
                </f:facet>  
                <h:outputText id="outputTipo" value="#{_infPerinatal.tipo.descricaoAtdTipo}"/> 
              </p:column>  
              <p:column id="columnGesta" style="text-align:center;"> 
                <f:facet name="header"> 
                  <h:outputText id="outputGestaH" styleClass="headerText" value="#{messages.LABEL_GESTA}"/> 
                </f:facet>  
                <h:outputText id="outputGesta" value="#{_infPerinatal.gsoGesta}"/> 
              </p:column>  
              <p:column id="columnPara" style="text-align:center;"> 
                <f:facet name="header"> 
                  <h:outputText id="outputParaH" styleClass="headerText" value="#{messages.LABEL_PARA}"/> 
                </f:facet>  
                <h:outputText id="outputPara" value="#{_infPerinatal.gsoPara}"/> 
              </p:column>  
              <p:column id="columnCesaria" style="text-align:center;"> 
                <f:facet name="header"> 
                  <h:outputText id="outputCesariaH" styleClass="headerText" value="#{messages.LABEL_CESARIA}"/> 
                </f:facet>  
                <h:outputText id="outputCesaria" value="#{_infPerinatal.gsoCesArea}"/> 
              </p:column>  
              <p:column id="columnAborto" style="text-align:center;"> 
                <f:facet name="header"> 
                  <h:outputText id="outputAbortoH" styleClass="headerText" value="#{messages.LABEL_ABORTO}"/> 
                </f:facet>  
                <h:outputText id="outputAborto" value="#{_infPerinatal.gsoAborto}"/> 
              </p:column> 
            </mec:serverDataTable> 
         </aghu:linha>
         </h:form>
       </aghu:panelGeral>
    </ui:define> 
  </ui:composition> 
</html>