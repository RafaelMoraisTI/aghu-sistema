<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <ui:composition>
  	<aghu:panelGeral>
	    <aghu:linha> 
	      <h:outputText value="#{manterGradeAgendamentoController.descricaoGrade}" escape="false" style="font-size:90%"/> 
	    </aghu:linha>  
	    <aghu:linha> 
	      <p:outputPanel id="panelProcedimento" layout="inline"> 
	        <mec:suggestionBox label="#{messages.LABEL_PROCEDIMENTOS_HOSPITALARES}" title="#{messages.TITLE_LABEL_PROCEDIMENTOS_HOSPITALARES}" descricaoInput="procedHospInterno.seq" descricaoLabel="procedHospInterno.descricao" width="900" suggestionAction="buscarProcedimentos" required="true" id="procedimentoAba3" controller="#{manterGradeAgendamentoController}" value="#{manterGradeAgendamentoController.procedimento}"> 
	          <p:column> 
	            <f:facet name="header"> 
	              <b>#{messages.LABEL_CODIGO}</b> 
	            </f:facet>  
	            <h:outputText value="#{item.procedHospInterno.seq}"/> 
	          </p:column>  
	          <p:column> 
	            <f:facet name="header"> 
	              <b>#{messages.LABEL_PROCEDIMENTOS}</b> 
	            </f:facet>  
	            <h:outputText value="#{item.procedHospInterno.descricao}"/> 
	          </p:column> 
	        </mec:suggestionBox> 
	      </p:outputPanel>  
	      <p:outputPanel id="panel_botoes_adicionar_procedimento" layout="inline"> 
	        <br clear="none"/>  
	        <mec:commandButton id="bt_adicionarItem" process="@this, panelProcedimento,procedimentoAba3Decorate" value="#{messages.LABEL_GRAVAR}" action="#{manterGradeAgendamentoController.adicionarProcedimento}" profile="ok" ajax="true" render="panelTabelaProcedimentos,panelProcedimento,procedimentoAba3"/> 
	      </p:outputPanel> 
	    </aghu:linha>  
	   	<aghu:linha  id="panelTabelaProcedimentos" styleClass="tabela-hachurada">
		    <mec:serverDataTable id="tabelaProcedimentos" style="margin: 0px !important;" list="#{manterGradeAgendamentoController.procedimentos}" scrollable="true">
		      <p:column headerText="#{messages.LABEL_ACOES}" style="#{(item.procedHospInterno.descricao == null)?'background-color:#EEE8AA;':''}width:120px"> 
		        <mec:commandLink id="aba3_link_remove" action="#{manterGradeAgendamentoController.removerProcedimento(item)}" title="#{messages.LABEL_EXCLUIR}" profile="delete" ajax="true" render="panelTabelaProcedimentos,panelProcedimento" process="@this"/> 
		      </p:column>  
		      <p:column headerText="#{messages.LABEL_PROCEDIMENTOS_DA_GRADE}" width="auto" style="#{(item.procedHospInterno.descricao == null)?'background-color:#EEE8AA':''}"> 
		        <h:outputText value="#{item.procedHospInterno.descricao}"/> 
		      </p:column> 
		    </mec:serverDataTable>
	    </aghu:linha>
    </aghu:panelGeral>
  </ui:composition> 
</html>
