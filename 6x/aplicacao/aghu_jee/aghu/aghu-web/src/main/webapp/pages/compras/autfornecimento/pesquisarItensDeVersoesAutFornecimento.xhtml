<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <ui:composition template="/WEB-INF/templates/form_template.xhtml"> 
    <ui:define name="head"> 
      <title>#{messages['TITLE_CONSULTAR_VERSOES_ITENS_AF']} :: #{messages['NOME_ABREVIADO_PROJETO']}</title> 
    </ui:define>  
    <ui:define name="metadata"> 
      <f:metadata> 
        <f:viewAction action="#{pesquisaItensDeVersoesAutFornecimentoController.iniciar}"/> 
      </f:metadata> 
    </ui:define>  
    <ui:define name="body"> 
      <mec:pageConfig controller="#{pesquisaItensDeVersoesAutFornecimentoController}"/>  
      <h:form prependId="false" id="verbaGestaoCrud"> 
        <aghu:panelGeral legend="#{messages.LABEL_VERSAO_ANTERIOR_ITENS_DA_AF}"> 
          <aghu:linha> 
            <mec:inputNumero id="numeroAF" label="#{messages.LABEL_NUMERO_AF}" readonly="true" value="#{pesquisaItensDeVersoesAutFornecimentoController.numeroAF}" size="10" maxlength="6"/>  
            <mec:inputNumero id="numeroComplemento" label="#{messages.LABEL_CP}" readonly="true" value="#{pesquisaItensDeVersoesAutFornecimentoController.numeroComplemento}" size="10" maxlength="6"/>  
            <mec:inputText label="#{messages.LABEL_DESCRICAO_FORNECEDOR}" id="descricaoFornecedor" size="70" readonly="true" value="#{pesquisaItensDeVersoesAutFornecimentoController.fornecedor.razaoSocial}"/>  
            <mec:inputText label="#{messages.LABEL_MODALIDADE_AUT_FORN}" id="descricaoModalidade" size="20" readonly="true" value="#{pesquisaItensDeVersoesAutFornecimentoController.modalidadeCompra.codigo} - #{pesquisaItensDeVersoesAutFornecimentoController.modalidadeCompra.descricao}"/>  
            <mec:inputTextData label="#{messages.LABEL_DATA_GERACAO}" id="dataGeracao" size="10" readonly="true" value="#{pesquisaItensDeVersoesAutFornecimentoController.dataGeracao}" tipo="data"/> 
          </aghu:linha> 
        </aghu:panelGeral>  
        <aghu:acao> 
          <mec:commandButton value="#{messages.LABEL_LIMPAR}" id="bt_pesquisar" immediate="true" action="#{pesquisaItensDeVersoesAutFornecimentoController.limpar}" render="panelDetalhesItem, radioSeq, tabelaItensAF" profile="clear"/>  
          <mec:commandButton value="#{messages.LABEL_VOLTAR}" id="bt_voltar" immediate="true" action="#{pesquisaItensDeVersoesAutFornecimentoController.voltar}" profile="back" ajax="true"/> 
        </aghu:acao>  
        <aghu:panelGeral legend="#{messages.LABEL_DETALHES_ITEM}"> 
          <aghu:linha> 
            <p:outputPanel id="panelDetalhesItem"> 
              <h:panelGrid width="70%" columns="2"> 
                <h:panelGroup> 
                  <mec:inputText label="#{messages.LABEL_MARCA_COMERCIAL}" id="marcaComercial" size="50" readonly="true" value="#{pesquisaItensDeVersoesAutFornecimentoController.marcaComercial}"/> 
                </h:panelGroup>  
                <h:panelGroup> 
                  <mec:inputText label="#{messages.LABEL_MODELO}" id="modelo" size="50" readonly="true" value="#{pesquisaItensDeVersoesAutFornecimentoController.modelo}"/> 
                </h:panelGroup> 
              </h:panelGrid>  
              <h:panelGrid width="66%" columns="4"> 
                <h:panelGroup> 
                  <mec:inputNumero id="qtdSaldo" label="#{messages.LABEL_QTD_SALDO}" readonly="true" style="text-align:right;" value="#{pesquisaItensDeVersoesAutFornecimentoController.qtdSaldo}" size="10"/> 
                </h:panelGroup>  
                <h:panelGroup> 
                  <mec:field name="vlUnitario" label="#{messages.LABEL_VALOR_UNITARIO}"> 
                      <pe:inputNumber id="valorUnitario"
	        			value="#{pesquisaItensDeVersoesAutFornecimentoController.valorUnitario}"
						required="false"			
						maxlength="13" 
						style="text-align: right" 
						readonly="true"
						disabled="true"
						autocomplete="off"
						converter="#{vlrUnitarioDoubleConverter}"			
						size="14"
						decimalSeparator=","
						thousandSeparator="."					
						decimalPlaces="4"/>
                  </mec:field> 
                  
                   
                </h:panelGroup>  
                <h:panelGroup> 
                  <mec:inputNumero id="valorBruto" inteiros="16" decimais="2" label="#{messages.LABEL_VALOR_BRUTO}" readonly="true" style="text-align:right;" value="#{pesquisaItensDeVersoesAutFornecimentoController.valorBruto}" size="10"/> 
                </h:panelGroup>  
                <h:panelGroup> 
                  <mec:inputNumero id="valorSaldo" inteiros="16" decimais="2" label="#{messages.LABEL_VALOR_SALDO}" readonly="true" style="text-align:right;" value="#{pesquisaItensDeVersoesAutFornecimentoController.valorSaldo}" size="10"/> 
                </h:panelGroup>  
                <h:panelGroup> 
                  <mec:inputNumero id="descItem" inteiros="16" decimais="2" label="#{messages.LABEL_DESC_ITEM}" readonly="true" style="text-align:right;" value="#{pesquisaItensDeVersoesAutFornecimentoController.descItem}" size="10"/> 
                </h:panelGroup>  
                <h:panelGroup> 
                  <mec:inputNumero id="descCondPag" inteiros="16" decimais="2" label="#{messages.LABEL_DESC_COND_PAG}" readonly="true" style="text-align:right;" value="#{pesquisaItensDeVersoesAutFornecimentoController.descCondPag}" size="10"/> 
                </h:panelGroup>  
                <h:panelGroup> 
                  <mec:inputNumero id="valorDesconto" inteiros="16" decimais="2" label="#{messages.LABEL_VALOR_DESCONTO}" readonly="true" style="text-align:right;" value="#{pesquisaItensDeVersoesAutFornecimentoController.valorDesconto}" size="10"/> 
                </h:panelGroup>  
                <h:panelGroup> 
                  <mec:inputNumero id="valorEfetivado" inteiros="16" decimais="2" label="#{messages.LABEL_VALOR_EFETIVADO}" readonly="true" style="text-align:right;" value="#{pesquisaItensDeVersoesAutFornecimentoController.valorEfetivado}" size="10"/> 
                </h:panelGroup>  
                <h:panelGroup> 
                  <mec:inputNumero id="acrescItem" inteiros="16" decimais="2" label="#{messages.LABEL_ACRESC_ITEM}" readonly="true" style="text-align:right;" value="#{pesquisaItensDeVersoesAutFornecimentoController.acrescItem}" size="10"/> 
                </h:panelGroup>  
                <h:panelGroup> 
                  <mec:inputNumero id="acresCondPag" inteiros="16" decimais="2" label="#{messages.LABEL_ACRES_COND_PAG}" readonly="true" style="text-align:right;" value="#{pesquisaItensDeVersoesAutFornecimentoController.acresCondPag}" size="10"/> 
                </h:panelGroup>  
                <h:panelGroup> 
                  <mec:inputNumero id="valorAcrescimo" inteiros="16" decimais="2" label="#{messages.LABEL_VALOR_ACRESCIMO}" readonly="true" style="text-align:right;" value="#{pesquisaItensDeVersoesAutFornecimentoController.valorAcrescimo}" size="10"/> 
                </h:panelGroup>  
                <h:panelGroup> 
                  <mec:inputNumero id="valorTotal" inteiros="16" decimais="2" label="#{messages.LABEL_VALOR_TOTAL}" readonly="true" style="text-align:right;" value="#{pesquisaItensDeVersoesAutFornecimentoController.valorTotal}" size="10"/> 
                </h:panelGroup> 
               
                <h:panelGroup> 
                  <mec:inputNumero id="ipi" inteiros="16" decimais="2" label="#{messages.LABEL_IPI}" readonly="true" style="text-align:right;" size="10" value="#{pesquisaItensDeVersoesAutFornecimentoController.ipi}"/> 
                </h:panelGroup>  
                <h:panelGroup> 
                  <mec:inputNumero id="valorIPI" inteiros="16" decimais="2" label="#{messages.LABEL_VALOR_IPI}" readonly="true" style="text-align:right;" value="#{pesquisaItensDeVersoesAutFornecimentoController.valorIPI}" size="10"/> 
                </h:panelGroup>
              </h:panelGrid> 
            </p:outputPanel> 
          </aghu:linha> 
        </aghu:panelGeral>  
         
        <mec:serverDataTable id="tabelaItensAF" name="tabelaItensAF" 
          rendered="#{not empty pesquisaItensDeVersoesAutFornecimentoController.listaItemAutFornecimentoJnVO}" 
          list="#{pesquisaItensDeVersoesAutFornecimentoController.listaItemAutFornecimentoJnVO}"
          controller="#{pesquisaItensDeVersoesAutFornecimentoController}" 
          selection="itemSelecionado"> 
            <c:set var="item" value="#{item}"/>  
            <p:ajax event="rowSelect" listener="#{pesquisaItensDeVersoesAutFornecimentoController.visualizarDetalhesItem()}" update=":verbaGestaoCrud"/>  
            
            <p:column width="20px;"> 
              <f:facet name="header"> 
                <h:outputText value="#{messages.LABEL_ITEM}"/> 
              </f:facet>  
              <h:outputText value="#{item.numeroItem}"/> 
            </p:column>  
            <p:column width="20px;"> 
              <f:facet name="header"> 
                <h:outputText value="#{messages.LABEL_NRO}"/> 
              </f:facet>  
              <h:outputText value="#{item.itemAutorizacaoFornJn.getNumero()}"/> 
            </p:column>  
            <p:column width="20px;"> 
              <f:facet name="header"> 
                <h:outputText value="#{messages.LABEL_SEQ_ALT}"/> 
              </f:facet>  
              <h:outputText value="#{item.itemAutorizacaoFornJn.getSequenciaAlteracao()}"/> 
            </p:column>  
            <p:column width="20px;"> 
              <f:facet name="header"> 
                <h:outputText value="#{messages.LABEL_CODIGO}"/> 
              </f:facet>  
              <h:outputText value="#{item.codMatServ}"/> 
            </p:column>  
            <p:column width="120px;"> 
              <f:facet name="header"> 
                <h:outputText value="#{messages.LABEL_DESCRICAO}"/> 
              </f:facet>  
              <h:outputText id="materialServico" value="#{item.nomeMatServ}"/>  
              <p:tooltip for="materialServico"> 
                <h:outputText value="#{messages.LABEL_PESQ_GRID_ITENS_AUT_NOME_MATERIAL}: #{item.nomeMatServ}"/>  
                <br clear="none"/>  
                <h:outputText value="#{messages.LABEL_PESQ_GRID_ITENS_AUT_DESCRICAO_MATERIAL}: #{item.descricaoMatServ}"/>  
                <br clear="none"/>  
                <h:outputText value="#{messages.LABEL_PESQ_GRID_ITENS_AUT_DESCRICAO_SOLICITACAO}: #{item.descricaoSolicitacao}"/>  
                <br clear="none"/>  
                <h:outputText value="#{messages.LABEL_PESQ_GRID_ITENS_AUT_UNIDADE}: #{item.itemAutorizacaoFornJn.unidadeMedida.descricao}"/> 
              </p:tooltip> 
            </p:column>  
            <p:column width="20px;"> 
              <f:facet name="header"> 
                <h:outputText value="#{messages.LABEL_UNIDADE}"/> 
              </f:facet>  
              <h:outputText value="#{item.itemAutorizacaoFornJn.unidadeMedida.descricao}"/> 
            </p:column>  
            <p:column width="20px;" style="text-align:right;"> 
              <f:facet name="header"> 
                <h:outputText value="#{messages.LABEL_FC}"/> 
              </f:facet>  
              <h:outputText value="#{item.itemAutorizacaoFornJn.fatorConversao}"/> 
            </p:column>  
            <p:column width="30px;"> 
              <f:facet name="header"> 
                <h:outputText value="#{messages.LABEL_SIT}"/> 
              </f:facet>  
              <h:outputText value="#{item.itemAutorizacaoFornJn.indSituacao.descricao}"/> 
            </p:column>  
            <p:column width="20px;" style="text-align:right;"> 
              <f:facet name="header"> 
                <h:outputText value="#{messages.LABEL_QTD_AF}"/> 
              </f:facet>  
              <h:outputText value="#{item.itemAutorizacaoFornJn.qtdeSolicitada}"/> 
            </p:column>  
            <p:column width="50px;" style="text-align:right;"> 
              <f:facet name="header"> 
                <h:outputText value="#{messages.LABEL_QTD_EF}"/> 
              </f:facet>  
              <h:outputText value="#{item.qtdEf}"/> 
            </p:column>  
            <p:column width="30px;" style="text-align:right;"> 
              <f:facet name="header"> 
                <h:outputText value="#{messages.LABEL_QTD_SALDO}"/> 
              </f:facet>  
              <h:outputText value="#{item.qtdSaldo}"/> 
            </p:column>  
            <p:column width="40px;" style="text-align:right;"> 
              <f:facet name="header"> 
                <h:outputText value="#{messages.LABEL_VALOR_UNITARIO}"/> 
              </f:facet>  
              <h:outputText value="#{item.itemAutorizacaoFornJn.valorUnitario}" style="float:right; "> 
                <f:convertNumber minFractionDigits="4" maxFractionDigits="4" maxIntegerDigits="11" type="currency" currencySymbol=""/> 
              </h:outputText> 
            </p:column> 
            <p:column width="20px;"> 
              <f:facet name="header"> 
                <h:outputText value="#{messages.LABEL_EX}"/> 
              </f:facet>  
              <h:outputText styleClass="silk-icon silk-delete" rendered="#{item.itemAutorizacaoFornJn.indExclusao}"/> 
            </p:column> 
          </mec:serverDataTable>     
      </h:form> 
    </ui:define> 
  </ui:composition> 
</html>
