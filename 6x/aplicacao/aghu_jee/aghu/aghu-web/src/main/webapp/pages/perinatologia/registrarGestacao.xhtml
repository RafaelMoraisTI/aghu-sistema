<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">
  <ui:composition template="/WEB-INF/templates/form_template.xhtml"> 
    <ui:define name="head"> 
      <title>#{messages.TITLE_REGISTRAR_GESTACAO} :: AGHU - MEC</title> 
    </ui:define>  
    <ui:define name="metadata"> 
      <f:metadata> 
        <f:viewAction action="#{registrarGestacaoController.inicio}"/> 
      </f:metadata> 
    </ui:define>  
    <ui:define name="body"> 
      <mec:pageConfig controller="#{registrarGestacaoController}"/>  
<!--       <ui:param name="jsExecutaSolicitarExamesAbaGestacaoAtual" value="parent.tab.loadPage(window.name, '/aghu/pages/exames/solicitacao/solicitacaoExameCRUD.xhtml?atendimento=#{registrarGestacaoController.atdSeq};matricula=#{registrarGestacaoController.matricula};vinCodigo=#{registrarGestacaoController.vinCodigo};voltarEmergencia=true;voltarPara=#{registrarGestacaoController.getTelaOrigem()};abaOrigem=#{registrarGestacaoController.getAbaDestino()};pacCodigo=#{registrarGestacaoController.pacCodigo};seqp=#{registrarGestacaoController.seqp};numeroConsulta=#{registrarGestacaoController.numeroConsulta};paramCid=#{javax.enterprise.context.conversation.id};usuarioSolicitante=#{registrarGestacaoController.usuarioSolicitante}')"/> -->  
<!--       <ui:param name="jsExecutaSolicitacaoExame" value="parent.tab.removeTab('Exames');setTimeout(function(){ parent.tab.addNewTab('tab_da_consultaCO', 'Exames', '/aghu/pages/exames/solicitacao/solicitacaoExameCRUD.xhtml?atendimento=#{registrarConsultaCOAcoesController.atendimento};matricula=#{registrarConsultaCOAcoesController.matricula};vinCodigo=#{registrarConsultaCOAcoesController.vinCodigo};voltarPara=#{registrarConsultaCOAcoesController.getTelaOrigem()};abaOrigem=#{registrarConsultaCOAcoesController.getAbaOrigem()};voltarEmergencia=true;pacCodigo=#{registrarConsultaCOAcoesController.pacCodigo()};seqp=#{registrarConsultaCOAcoesController.seqp()};numeroConsulta=#{registrarConsultaCOAcoesController.numeroConsulta()};paramCid=#{javax.enterprise.context.conversation.id};usuarioSolicitante=#{registrarGestacaoController.usuarioSolicitante}', '', '', 'false'); }, 600);"/>   -->
      <ui:param name="jsExecutaFinalizarConsulta" value="parent.tab.addNewTab('redirect_#{id}', '#{messages.LABEL_REG_CONS_CO_FINALIZAR_CONSULTA}', '/aghu/pages/paciente/prontuarioonline/relatorioAtendEmergObstetricaPdf.xhtml?pacCodigo=#{registrarConsultaCOController.pacCodigo};seqp=#{registrarConsultaCOController.seqp};numeroConsulta=#{registrarConsultaCOController.numeroConsulta};voltarPara=#{registrarConsultaCOController.getTelaOrigem()};usuarioAutenticado=#{true};matricula=#{registrarConsultaCOController.matricula};vinculo=#{registrarConsultaCOController.vinCodigo};gerarPendenciaDeAssinaturaDigital=#{registrarConsultaCOController.gerarPendenciaDeAssinaturaDigital}', null, 1, true)"/>  
      <ui:param name="jsSolicitarExamesVRDL" value="parent.tab.addNewTab('tab_da_consultaCO', 'Exames', '/aghu/pages/exames/solicitacao/solicitacaoExameCRUD.xhtml?atdSeq=#{registrarConsultaCOController.atdSeq};abaDestino=abaConsultaCO;voltarPara=#{registrarConsultaCOController.getTelaOrigem()};voltarEmergencia=true;pacCodigo=#{registrarConsultaCOController.pacCodigo};seqp=#{registrarConsultaCOController.seqp};numeroConsulta=#{registrarConsultaCOController.numeroConsulta};paramCid=#{javax.enterprise.context.conversation.id}')"/>  
      <ui:param name="jsExecutaImpressao" value="parent.tab.addNewTab('redirect_#{id}', '#{messages.LABEL_IMPRIMIR_SUMARIO_DEFINITIVO}', '/aghu/pages/paciente/prontuarioonline/relatorioSumarioAssistenciaPartoPdf.xhtml?abaDestino=abaNascimento;pacCodigo=#{registrarGestacaoAbaNascimentoController.pacCodigo};seqp=#{registrarGestacaoAbaNascimentoController.gsoSeqp};numeroConsulta=#{registrarGestacaoAbaNascimentoController.numeroConsulta};voltarPara=#{registrarGestacaoAbaNascimentoController.voltarPara};voltarEmergencia=false;exibirBotaoVoltar=false;paramCid=#{javax.enterprise.context.conversation.id};usuarioAutenticado=#{true};matricula=#{registrarGestacaoAbaNascimentoController.servidorIdVO.matricula};vinculo=#{registrarGestacaoAbaNascimentoController.servidorIdVO.serVinCodigo};gerarPendenciaDeAssinaturaDigital=true', null, 1, true)"/>  
      <h:form prependId="false" id="formGeral"> 
        <aghu:panelGeral legend="#{messages.LABEL_GESTANTE_REGISTRAR_GESTACAO}"> 
          <aghu:linha> 
            <h:outputText value="#{registrarGestacaoController.dadosGestacaoVO.informacoesPaciente}" style="font-weight:bold;font-size:12px;padding-left:5px"/> 
          </aghu:linha> 
        </aghu:panelGeral>  
        <p:outputPanel id="panelAbas" layout="inline"> 
          <p:tabView id="tabPanelAbas" dynamic="true" activeIndex="#{registrarGestacaoController.abaSelecionada}" prependId="false"> 
          
          	<p:ajax event="tabChange" process="@this" listener="#{registrarGestacaoController.verificarAlteracoesPendentes}" update="@(panelBotoesInferiores) @(panelModalGravarDadosNascimento) @(panelModalGravarDadosConsultaCO) @(panelListaNascimentos)" />

            <p:tab id="abaGestacaoAtual" 
            		render="panelBotoesInferiores, panelModalGravarDadosNascimento" 
            		title="#{messages.LABEL_GESTACAO_ATUAL_REGISTRAR_GESTACAO}"> 
              <ui:include src="/pages/perinatologia/registrarGestacaoAbaGestacaoAtual.xhtml"/> 
            </p:tab>  
            <p:tab id="abaIntercorrencias" disabled="true" reRender="panelBotoesInferiores" title="#{messages.LABEL_INTERCORRENCIAS_REGISTRAR_GESTACAO}">
               <!-- <ui:include src="/pages/perinatologia/registrarGestacaoAbaIntercorrencias.xhtml" /> --> 
            </p:tab>  
            <p:tab id="abaConsultaCO" 
            		disabled="#{not(mf:hasPermission(securityController,'registrarConsultaCO, executar') or mf:hasPermission(securityController,'visualizarConsultaCO, visualizar')) or registrarGestacaoController.seqp == null}" 
            		render="panelBotoesInferiores, panelModalGravarDadosConsultaCO" 
            		immediate="true" 
            		title="#{messages.LABEL_CONSULTA_CO_REGISTRAR_GESTACAO}"> 
            <ui:include src="/pages/perinatologia/registrarConsultaCO.xhtml"/> 
            </p:tab>  
            <p:tab id="abaTrabalhoParto" disabled="#{registrarGestacaoController.seqp == null}" reRender="panelBotoesInferiores, panelModalGravarDadosNascimento" title="#{messages.LABEL_TRABALHO_PARTO_REGISTRAR_GESTACAO}"> 
               <ui:include src="/pages/perinatologia/registrarTrabalhoDeParto.xhtml"/> 
            </p:tab>  
            <p:tab id="abaNascimento" disabled="#{registrarGestacaoController.seqp == null}" action="#{registrarGestacaoController.redirecionarAbaNascimento}" reRender="panelNascimentos, panelListaNascimentos, panelBotoesInferiores" title="#{messages.LABEL_NASCIMENTO_REGISTRAR_GESTACAO}"> 
                        <ui:include src="/pages/perinatologia/registrarGestacaoAbaNascimento.xhtml"/>  
            </p:tab>  
            <p:tab id="abaRecemNascido" disabled="#{registrarGestacaoController.seqp == null or not mf:hasPermission(securityController,'visualizarRecemNascido, visualizar')}" reRender="panelBotoesInferiores" title="#{messages.LABEL_RECEM_NASCIDO_REGISTRAR_GESTACAO}"> 
              <ui:include src="/pages/perinatologia/registrarGestacaoAbaRecemNascido.xhtml"/> 
            </p:tab>  
            <p:tab id="abaExFisicoRN" disabled="#{not mf:hasPermission(securityController,'pesquisarExameFisicoRN, pesquisar') and not mf:hasPermission(securityController,'registrarExameFisicoRN, executar') or registrarGestacaoController.seqp == null }" reRender="panelBotoesInferiores" title="#{messages.LABEL_EX_FISICO_RN_REGISTRAR_GESTACAO}"> 
				<ui:include src="/pages/perinatologia/registrarGestacaoAbaExtFisicoRN.xhtml"/>  
            </p:tab>  
            <p:tab id="abaPuerperio" disabled="true" reRender="panelBotoesInferiores" title="#{messages.LABEL_PUERPERIO_REGISTRAR_GESTACAO}"> 
<!--               <ui:include src="/pages/perinatologia/registrarGestacaoAbaPuerperio.xhtml" />  -->
            </p:tab> 
          </p:tabView> 
        </p:outputPanel>  
        <p:outputPanel id="panelBotoesInferiores" layout="inline"> 
          <aghu:acao> 
            <mec:commandButton id="bt_voltar" 
            	immediate="true" 
            	rendered="#{registrarGestacaoController.abaDestino !='abaTrabalhoParto' and registrarGestacaoController.abaDestino != 'abaConsultaCO' and registrarGestacaoController.abaDestino != 'abaExFisicoRN' and registrarGestacaoController.abaDestino != 'abaRecemNascido' and registrarGestacaoController.abaDestino != 'abaNascimento'}" 
            	value="#{messages.LABEL_VOLTAR_REGISTRAR_GESTACAO}" 
            	action="#{registrarGestacaoController.confirmaVoltar}" 
            	render="panelModalGravar, formPesquisa, resultados"
            	ajax="true" 
            	process="@this"
            	styleClass="alinha-direita icon-back bt_cinza" 
            	profile="back"/>  
            <mec:commandButton id="bt_voltar2" 
            	immediate="true" 
            	rendered="#{registrarGestacaoController.abaDestino =='abaTrabalhoParto'}" 
            	value="#{messages.LABEL_VOLTAR_REGISTRAR_GESTACAO}" 
            	action="#{registrarGestacaoController.confirmaVoltar}" 
            	render="panelModalGravar" 
            	ajax="true" 
            	process="@this" 
            	styleClass="alinha-direita icon-back bt_cinza" 
            	profile="back"/>  
            <mec:commandButton id="bt_voltar3" 
            	immediate="true" 
            	rendered="#{registrarGestacaoController.abaDestino == 'abaConsultaCO'}" 
            	value="#{messages.LABEL_VOLTAR_REGISTRAR_GESTACAO}" 
            	action="#{registrarConsultaCOController.confirmaVoltar}" 
            	render="panelModalGravarConsultaCO" 
            	ajax="true" 
            	process="@this" 
            	styleClass="alinha-direita icon-back bt_cinza" 
            	profile="back"/>  
            <mec:backButton id="bt_voltar4" 
            	styleClass="alinha-direita icon-back bt_cinza" 
            	profile="back" 
            	rendered="#{registrarGestacaoController.abaDestino == 'abaExFisicoRN'}" 
            	value="#{messages.LABEL_VOLTAR_REGISTRAR_GESTACAO}" 
            	render="panelModalGravar"
            	ajax="true" 
            	process="@this"  
            	action="#{registrarGestacaoAbaExtFisicoRNController.voltar}"/>  
            <mec:commandButton id="btRecemNascido" 
            	rendered="#{registrarGestacaoController.abaDestino == 'abaRecemNascido'}" 
            	value="#{messages.LABEL_VOLTAR_REGISTRAR_GESTACAO}" 
            	action="#{registrarGestacaoAbaRecemNascidoController.voltar}" 
            	render="panelModalGravar"
            	ajax="true" 
            	process="@this"  
            	styleClass="alinha-direita icon-back bt_cinza" 
            	profile="back"/>  
            <mec:commandButton id="bt_voltar5" 
            	immediate="true" 
            	rendered="#{registrarGestacaoController.abaDestino =='abaNascimento'}" 
            	value="#{messages.LABEL_VOLTAR_REGISTRAR_GESTACAO}" 
            	action="#{registrarGestacaoAbaNascimentoController.confirmarVoltar}" 
            	render="panelModalGravarDadosNascimento" 
            	ajax="true" 
            	process="@this" 
            	styleClass="alinha-direita icon-back bt_cinza" 
            	profile="back"/> 
          </aghu:acao> 
        </p:outputPanel> 
      </h:form>  
      <p:outputPanel id="panelModaisAutenticacao" layout="inline"> 
        <p:outputPanel id="panelModalAutenticacaoSolicitarExamesAbaConsultaSO" layout="inline"> 
          <mec:modalAutenticacao id="modalAutenticacaoSolicitarExamesAbaConsultaSO"
          		controller="#{registrarConsultaCOAcoesController}" 
          		rendered="#{registrarConsultaCOAcoesController.exibeModalSolicitacaoExame}" 
          		nextAction="validarSolicitacaoExame" 
          		value="servidorIdVO"  
          		reRender="@(#panelModaisAutenticacao) @(#panelModalAutenticacaoSolicitarExamesAbaConsultaSO)" 
          		validarSenha="false"/> 
        </p:outputPanel>  
        <p:outputPanel id="panelModalAutenticacaoFinalizarConsulta" layout="inline"> 
          <mec:modalAutenticacao id="modalAutenticacaoFinalizarConsulta"
          		controller="#{registrarConsultaCOController}" 
          		rendered="#{registrarConsultaCOController.exibeModalAutenticacao}" 
          		nextAction="finalizarConsulta" 
          		value="servidorIdVO" 
          		oncomplete="#{not facesContext.isValidationFailed() ? jsExecutaFinalizarConsulta : ''};" 
          		reRender="@(#panelModaisAutenticacao) @(#abaGestacaoAtual) @(#abaIntercorrencias) @(#panelModalAutenticacaoFinalizarConsulta)" 
          		validarSenha="false"/> 
        </p:outputPanel>  
        
        
        <p:outputPanel id="panelModalAutenticacaoSolicitarExamesAbaGestacaoAtual" layout="inline"> 
          <mec:modalAutenticacao id="modalAutenticacaoSolicitarExamesAbaGestacaoAtual"
              controller="#{registrarGestacaoController}" 
              rendered="#{registrarGestacaoController.exibeModalAutenticacao}" 
              nextAction="verificarPermissaoParaSolicitarExames" 
              value="servidorIdVO" 
              reRender="@(#panelModaisAutenticacao) @(#panelAbas) @(#tabPanelAbas) @(#panelModalAutenticacaoSolicitarExamesAbaGestacaoAtual) @(#panelAcao1) @(#bt_internar)" 
              validarSenha="false"/> 
        </p:outputPanel>  
        
        <p:outputPanel id="panelModalAutenticacaoPrescreverAbaConsultaCO" layout="inline"> 
          <mec:modalAutenticacao id="modalAutenticacaoPrescreverAbaConsultaCO"
              controller="#{registrarConsultaCOController}" 
              rendered="#{registrarConsultaCOController.exibeModalAutenticacaoPrescrever}" 
              nextAction="elaborarPrescricaoMedica"
              value="servidorIdVO" 
              reRender="@(#panelModaisAutenticacao) @(#panelAbas) @(#tabPanelAbas) @(#panelModalAutenticacaoPrescreverAbaConsultaCO) @(#panelAcao1) @(#bt_internar)" 
              validarSenha="false"/> 
        </p:outputPanel>          
        
        <p:outputPanel id="panelModalAutenticacaoAposVerificarConduta" layout="inline"> 
          <mec:modalAutenticacao id="modalAutenticacaoAposVerificarConduta"
          		controller="#{registrarConsultaCOAcoesController}" 
          		nextAction="verificarPermissaoUsuario" 
          		value="servidorIdVO" 
          		oncomplete="#{not facesContext.isValidationFailed() ? 'PF(\'modalInternarWG\').show();' : ''};" 
          		validarSenha="false"/> 
        </p:outputPanel>  
        <p:outputPanel id="panelModalAutenticacaoSolicitarExamesVDRL" layout="inline"> 
          <mec:modalAutenticacao id="modalAutenticacaoSolicitarExamesVDRL"
          		controller="#{registrarConsultaCOAcoesController}" 
          		nextAction="usuarioSemAcesso"
          		rendered="#{registrarConsultaCOController.exibeModalAutenticacao}"  
          		value="servidorIdVO" 
          		reRender="@(#panelModalAutenticacaoSolicitarExamesVDRL)" 
          		oncomplete="#{not facesContext.isValidationFailed() ? jsSolicitarExamesVRDL : ''};" 
          		validarSenha="false"/> 
        </p:outputPanel>  
        <p:outputPanel id="panelAutenticacaoSumarioDefinitivo" layout="inline"> 
          <mec:modalAutenticacao id="autenticacaoSumarioDefinitivo"
          		controller="#{registrarConsultaCOAcoesController}" 
          		nextAction="finalizarSumarioDefinitivo"
          		value="servidorIdVO" 
          		reRender="@(#panelModalSolicitarVDRL)" 
          		oncomplete="#{not facesContext.isValidationFailed() ? registrarGestacaoAbaNascimentoController.mostraModalSolicitarVdrl ? 'PF(\'modalSolicitarVDRLWG\').show();' : jsExecutaImpressao : ''};" 
          		validarSenha="false"/> 
        </p:outputPanel>  
        <!-- Modal da Aba RecemNascido -->  
        <ui:param name="jsExecutaImprimeAtdRecemNascido" value="parent.tab.addNewTab('redirect_recemnascido_#{id}', '#{messages.LABEL_BT_IMPRIMIR_ATENDIMENTO_RECEM_NASCIDO}', '/aghu/pages/paciente/prontuarioonline/relatorioAtendimentoRecemNascidoPdf.xhtml?pacCodigo=#{registrarGestacaoAbaRecemNascidoController.pacCodigo};conNumero=#{registrarGestacaoAbaRecemNascidoController.numeroConsulta};gsoSeqp=#{registrarGestacaoAbaRecemNascidoController.seqp};atdSeq=#{registrarGestacaoAbaRecemNascidoController.atendimentoSeq};rnaSeqp=#{registrarGestacaoAbaRecemNascidoController.recemNascidoVO.seqpPK};seqInternacao=#{registrarGestacaoAbaRecemNascidoController.internacaoSeq};tipoInternacao=INTERNACAO;origem=/emergencia/pages/perinatologia/registrarGestacaoAbaRecemNascido.xhtml;voltarEmergencia=true;previa=false', null, 1, true)"/>  
        <p:dialog id="modalAutenticacaoRecemNascido" widgetVar="modalAutenticacaoRecemNascidoWG" 
        	controller="#{registrarGestacaoAbaRecemNascidoController}" 
        	value="servidorIdVO" 
        	nextAction="imprimirAtendimentoRecemNascidoSemRegistro" 
        	validarSenha="false" 
        	oncomplete="#{not facesContext.isValidationFailed() ? jsExecutaImprimeAtdRecemNascido : ''}"/>  
        <!--#28358 Modal Solicitar Exame Aba Recem Nascido -->  
        <p:outputPanel id="panelModalAutenticacaoSolicitarExamesAbaRecemNascido" layout="inline">
        	<mec:modalAutenticacao id="modalAutenticacaoSolicitarExamesAbaRecemNascido"
          		controller="#{registrarGestacaoAbaRecemNascidoController}" 
          		nextAction="verificarPermissaoSolicitarExamesRN"
          		rendered="#{registrarGestacaoAbaRecemNascidoController.modalAutenticacaoSolicitarExames}"
          		value="servidorIdVO" 
          		reRender="@(#panelModaisAutenticacao) @(#panelAbas) @(#tabPanelAbas) @(#panelModalAutenticacaoSolicitarExamesAbaRecemNascido) @(#panelAcao1) @(#bt_internar)"
          		validarSenha="false"/> 
        </p:outputPanel>
        <!--#28358 Modal Solicitar Exame Aba Recem Nascido --> 
      </p:outputPanel>  
      <p:outputPanel id="panelModalNotaAdicional" layout="inline"> 
       <ui:include src="/pages/perinatologia/modalNotaAdicional.xhtml"/> 
      </p:outputPanel>  
      <p:outputPanel id="divJsEmitirSumarioDeAssistencia" layout="inline"> 
        <ui:param name="jsEmitirSumarioDeAssistencia" value="parent.tab.loadPage(window.name, '/aghu/pages/paciente/prontuarioonline/relatorioSumarioAssistenciaPartoPdf.xhtml?voltarEmergencia=true;voltarPara=#{registrarGestacaoController.getTelaOrigem()};abaDestino=#{registrarGestacaoController.getAbaDestino()};numeroConsulta=#{notaAdicionalController.conNumero};pacCodigo=#{notaAdicionalController.pacCodigo};seqp=#{notaAdicionalController.gsoSeqp};gerarPendenciaDeAssinaturaDigital=#{notaAdicionalController.gerarPendenciaDeAssinaturaDigital};paramCid=#{javax.enterprise.context.conversation.id}')"/> 
      </p:outputPanel>  
      <p:outputPanel id="panelModalGravar" layout="inline">
		<p:dialog id="modalConfirmacaoGravar" 
			width="400" 
			height="150"
			modal="true" 
			resizable="false" 
			widgetVar="modalConfirmacaoGravarWG">
		  <f:facet name="header">
			<h:panelGroup>
				<h:outputText value="#{messages.LABEL_GRAVAR}" />
			</h:panelGroup>
		  </f:facet> #{messages.MENSAGEM_CONFIRMACAO_GRAVAR_REGISTRAR_GESTACAO} 
          <br clear="none" />
		  <br clear="none" />
		  <br clear="none" />
		  <h:panelGroup>
			<h:form prependId="false" id="formVoltarModal">
			  <mec:commandButton value="#{messages.LABEL_SIM_NASCIMENTO}"
					id="bt_sim" 
					action="#{registrarGestacaoController.preGravar()}"
					onclick="PF('modalConfirmacaoGravarWG').hide();" 
					profile="ok"
					ajax="true" 
					render="panelModalJustificativa" />
			  <mec:commandButton id="bt_nao"
					value="#{messages.LABEL_NAO_CAPACIDADE_ATENDIMENTO}"
					action="#{registrarGestacaoController.voltar()}" immediate="true"
					oncomplete="PF('modalConfirmacaoGravarWG').hide();"
					profile="cancel" ajax="true" />
			</h:form>
		  </h:panelGroup>
		</p:dialog>
      </p:outputPanel>  
      <p:outputPanel id="panelModalGravarConsultaCO" layout="inline"> 
        <p:dialog id="modalConfirmacaoGravarConsultaCO" 
        	width="400" 
        	height="150" 
        	rendered="#{registrarConsultaCOController.mostraModalGravarConsultaCO}" 
        	modal="true" 
        	resizable="false" 
        	widgetVar="modalConfirmacaoGravarConsultaCOWG"> 
          <f:facet name="header"> 
            <h:panelGroup> 
              <h:outputText value="#{messages.LABEL_GRAVAR}"/> 
            </h:panelGroup> 
          </f:facet> #{messages.MSG_REG_CONS_CO_BOTAO_VOLTAR} 
          <br clear="none"/>  
          <br clear="none"/>  
          <br clear="none"/>  
          <h:panelGroup> 
            <h:form prependId="false" id="formVoltarModalConsultaCO"> 
              <mec:commandButton value="#{messages.LABEL_SIM_NASCIMENTO}" 
              		id="bt_sim_consultaCO" 
              		action="#{registrarConsultaCOController.gravarModalConf}" 
              		onclick="PF('modalConfirmacaoGravarConsultaCOWG').hide();" 
              		profile="ok" 
              		ajax="true"/>  
              <mec:commandButton id="bt_nao_consultaCO" 
              		value="#{messages.LABEL_NAO_CAPACIDADE_ATENDIMENTO}" 
              		action="#{registrarConsultaCOController.voltar}" 
              		immediate="true" 
              		oncomplete="PF('modalConfirmacaoGravarConsultaCOWG').hide();" 
              		profile="cancel" 
              		ajax="true"/> 
            </h:form> 
          </h:panelGroup> 
        </p:dialog>  
      </p:outputPanel>  
      <p:outputPanel id="panelModalDtHrNascimento" layout="inline"> 
        <p:dialog id="modalDtHrNascimento" width="400" height="150" rendered="#{registrarGestacaoAbaNascimentoController.mostraModalDtHrNascimento}" modal="true" resizable="false" widgetVar="modalDtHrNascimentoWG"> 
          <f:facet name="header"> 
            <h:panelGroup> 
              <h:outputText value="#{messages.LABEL_GRAVAR}"/> 
            </h:panelGroup> 
          </f:facet> #{messages.MENSAGEM_CONFIRMACAO_GRAVAR_DTHR_NASCIMENTO_SEM_HORA} 
          <br clear="none"/>  
          <br clear="none"/>  
          <br clear="none"/>  
          <h:panelGroup> 
            <h:form prependId="false" id="formGravarModalNascimentos"> 
              <mec:commandButton value="#{messages.LABEL_SIM_NASCIMENTO}" 
              		id="bt_sim_nascimentos" 
              		action="#{registrarGestacaoAbaNascimentoController.gravarNascimento()}" 
              		onclick="PF('modalDtHrNascimentoWG').hide();" 
              		profile="ok" 
              		ajax="true" 
              		process="@this" 
              		render="panelNascimentos, panelListaNascimentos, panelModalDtHrNascimento, panelDadosNascimentos"/>  
              <mec:commandButton id="bt_nao_nascimentos" 
              		value="#{messages.LABEL_NAO_NASCIMENTO}" 
              		onclick="PF('modalDtHrNascimentoWG').hide();" 
              		oncomplete="PrimeFaces.focus('dtHrNascimento');" 
              		profile="cancel" 
              		ajax="true" 
              		process="@this" 
              		render="panelNascimentos"/> 
            </h:form> 
          </h:panelGroup> 
        </p:dialog>
      </p:outputPanel>  
      <p:outputPanel id="panelModalExcluir" layout="inline"> 
        <p:dialog id="modalConfirmacaoExclusao" width="400" height="150" rendered="#{registrarGestacaoAbaNascimentoController.mostraModalExclusao}" modal="true" resizable="false" widgetVar="modalConfirmacaoExclusaoWG"> 
          <f:facet name="header"> 
            <h:panelGroup> 
              <h:outputText value="#{messages.LABEL_EXCLUIR_NASCIMENTO_MODAL}"/> 
            </h:panelGroup> 
          </f:facet> #{messages.MENSAGEM_CONFIRMACAO_EXCLUSAO_NASCIMENTO} 
          <br clear="none"/>  
          <br clear="none"/>  
          <br clear="none"/>  
          <h:panelGroup> 
            <h:form prependId="false" id="formExclusaoModal"> 
              <mec:commandButton value="#{messages.LABEL_SIM_NASCIMENTO}" 
              		id="bt_edsim" 
              		action="#{registrarGestacaoAbaNascimentoController.excluirNascimento()}" 
              		oncomplete="PF('modalConfirmacaoExclusaoWG').hide();" 
              		profile="ok" 
              		ajax="true" 
              		render="panelNascimentos, panelListaNascimentos, panelDadosNascimentos" 
              		process="@this"/>  
              <mec:commandButton id="bt_ednaoexclui" 
              		value="#{messages.LABEL_NAO_NASCIMENTO}" 
              		action="#{registrarGestacaoAbaNascimentoController.setMostraModalExclusao(false)}" 
              		oncomplete="PF('modalConfirmacaoExclusaoWG').hide();" 
              		profile="cancel" 
              		ajax="true"/> 
            </h:form> 
          </h:panelGroup> 
        </p:dialog>
      </p:outputPanel>  
      <p:outputPanel id="panelModalGravarDadosNascimento" layout="inline"> 
        <p:dialog id="modalConfirmacaoGravarDadosNascimento" width="400" height="150" modal="true" resizable="false" widgetVar="modalConfirmacaoGravarDadosNascimentoWG"> 
          <f:facet name="header"> 
            <h:panelGroup> 
              <h:outputText value="#{messages.LABEL_GRAVAR}"/> 
            </h:panelGroup> 
          </f:facet> #{messages.MENSAGEM_CONFIRMACAO_GRAVAR_DADOS_NASCIMENTO} 
          <br clear="none"/>  
          <br clear="none"/>  
          <h:panelGroup> 
            <h:form prependId="false" id="formGravarModalDadosNascimento"> 
              <mec:commandButton value="#{messages.LABEL_SIM_NASCIMENTO}" 
              		id="bt_sim_dados_nascimento" 
              		action="#{registrarGestacaoAbaNascimentoController.gravarDadosAbaNascimento()}" 
              		onclick="PF('modalConfirmacaoGravarDadosNascimentoWG').hide();" 
              		profile="ok" 
              		ajax="true" 
              		render="panelAbas" 
              		process="@this"/>  
              <mec:commandButton id="bt_nao_dados_nascimento" 
              		value="#{messages.LABEL_NAO_CAPACIDADE_ATENDIMENTO}" 
              		action="#{registrarGestacaoAbaNascimentoController.voltar()}" 
              		oncomplete="PF('modalConfirmacaoGravarDadosNascimentoWG').hide();" 
              		profile="cancel" 
              		ajax="true" 
              		render="panelAbas"/> 
            </h:form> 
          </h:panelGroup> 
        </p:dialog>  
      </p:outputPanel>  
      <p:outputPanel id="modalPanelInternar" layout="inline"> 
        <p:dialog id="modalInternar" width="400" height="150" autosized="false" domElementAttachment="parent" resizeable="false" modal="true" resizable="false" widgetVar="modalInternarWG"> 
          <f:facet name="header"> 
            <h:outputText value="#{messages.MENSAGEM_INFORMATIVA}"/> 
          </f:facet>  
          <br clear="none"/> #{messages.MENSAGEM_CONFIRMA_INTERNAR} 
          <br clear="none"/>  
          <br clear="none"/>  
          <h:panelGroup> 
            <h:form prependId="false" id="formRealizarInternacaoPacienteAutomaticamente"> 
              <ui:param name="jsEmitirRelatorioAdmissaoObstetrica" value="parent.tab.addNewTab('redirect_#{id}', '#{messages.LABEL_REG_CONS_CO_INTERNAR}', '/aghu/pages/paciente/prontuarioonline/relatorioAdmissaoObstetricaPdf.xhtml?numeroConsulta=#{registrarConsultaCOController.numeroConsulta};pacCodigo=#{registrarConsultaCOController.pacCodigo};seqp=#{registrarConsultaCOController.seqp};matricula=#{registrarConsultaCOController.matricula};vinculo=#{registrarConsultaCOController.vinCodigo};usuarioAutenticado=true;gerarPendenciaDeAssinaturaDigital=#{registrarConsultaCOController.gerarPendenciaDeAssinaturaDigital};dthrMovimento=#{registrarConsultaCOController.dataInternacaoFormatada};voltarEmergencia=#{false};paramCid=#{javax.enterprise.context.conversation.id}', null, 1, true);"/>  
              <mec:commandButton id="bt_sim_internar" 
              		value="#{messages.CASCA_LABEL_SIM}" 
              		action="#{registrarConsultaCOController.inserirLogDeImpressao}" 
              		oncomplete="#{not facesContext.isValidationFailed() ? jsEmitirRelatorioAdmissaoObstetrica : ''};PF('modalInternarWG').hide();return false;" 
              		profile="ok" 
              		ajax="true" 
              		render="Messages,formGeral, panelAbas, abaGestacaoAtual,abaConsultaCO,abaIntercorrencias" 
              		process="@this"/>  
              <mec:commandButton id="bt_cancelar_operacao_consulta_co" 
              		value="#{messages.LABEL_NAO}" 
              		immediate="true" 
              		onclick="PF('modalInternarWG').hide();return false;" 
              		profile="cancel" 
              		ajax="true"/> 
            </h:form> 
          </h:panelGroup> 
        </p:dialog> 
      </p:outputPanel>  
      <p:outputPanel id="panelModalSolicitarVDRL" layout="inline"> 
        <p:dialog id="modalSolicitarVDRL" width="400" height="130" rendered="#{registrarGestacaoAbaNascimentoController.mostraModalSolicitarVdrl}" modal="true" resizable="false" widgetVar="modalSolicitarVDRLWG"> 
          <f:facet name="header"> 
            <h:panelGroup> 
              <h:outputText value="#{messages.LABEL_SOLICITAR_VDRL}"/> 
            </h:panelGroup> 
          </f:facet>  
          <f:facet name="controls"> 
            <h:panelGroup> 
              <h:graphicImage value="/resources/img/close.png" onclick="#{PF('modalSolicitarVDRLWG')}.hide();" styleClass="hidelink" id="hidelinkSolicitarVDRL"/> 
            </h:panelGroup> 
          </f:facet>  
          <h:outputText value="#{messages.MESAGEM_MODAL_SOLICITAR_VDRL}"/>  
          <br clear="none"/>  
          <br clear="none"/>  
          <br clear="none"/>  
          <h:panelGroup> 
            <h:form prependId="false" id="formSolicitarVDRL"> 
              <mec:redirectCommandButton id="bt_solicitar" 
              		styleClass="bt_verde icon-yes" 
              		keepTab="true" value="#{messages.LABEL_SIM}" 
              		params="atdSeq=#{registrarGestacaoAbaNascimentoController.atdSeq};abaDestino=#{registrarGestacaoAbaNascimentoController.abaDestino};voltarPara=#{registrarGestacaoAbaNascimentoController.voltarPara};voltarEmergencia=true;pacCodigo=#{registrarGestacaoAbaNascimentoController.pacCodigo};seqp=#{registrarGestacaoAbaNascimentoController.gsoSeqp};numeroConsulta=#{registrarGestacaoAbaNascimentoController.numeroConsulta};paramCid=#{javax.enterprise.context.conversation.id};usuarioSolicitante=#{registrarGestacaoController.usuarioSolicitante}" 
              		url="/aghu/pages/exames/solicitacao/solicitacaoExameCRUD.xhtml" 
              		onclick="PF('modalSolicitarVDRLWG').hide();" 
              		reRender="panelNascimentos,panelListaNascimentos,panelDadosNascimentos,panelAcao1,bt_internar"/>  
              <mec:commandButton id="bt_naoSolicitar" 
              		value="#{messages.LABEL_NAO}" 
              		action="#{registrarGestacaoAbaNascimentoController.naoSolicitarExameVdrl}" 
              		oncomplete="PF('modalSolicitarVDRLWG').hide(); #{not facesContext.isValidationFailed() ? jsExecutaImpressao : ''}" 
              		ajax="true" 
              		render="panelNascimentos,panelListaNascimentos,panelDadosNascimentos,panelAcao1,bt_internar" 
              		process="@this" 
              		styleClass="bt_vermelho "/> 
            </h:form> 
          </h:panelGroup> 
        </p:dialog> 
      </p:outputPanel>  
      <p:outputPanel id="modalPanelSolicitarExames" layout="inline"> 
        <p:dialog id="modalSolicitarExames" width="400" height="150" autosized="false" domElementAttachment="parent" resizeable="false" modal="true" resizable="false" widgetVar="modalSolicitarExamesWG"> 
          <f:facet name="header"> 
            <h:outputText value="#{messages.LABEL_TITLE_SOLICITAR_EXAMES}"/> 
          </f:facet>  
          <br clear="none"/> #{messages.MENSAGEM_SOLICITAR_EXAMES} 
          <br clear="none"/>  
          <br clear="none"/>  
          <br clear="none"/>  
          <h:panelGroup> 
            <h:form prependId="false" id="formModalPanelSolicitarExames"> 
              <mec:commandButton id="bt_solicitar_exame_vdrl" 
              		value="#{messages.CASCA_LABEL_SIM}" 
              		action="#{registrarConsultaCOController.exibeModalAutenticacaoExameVDRL}" 
              		oncomplete="PF('modalSolicitarExamesWG').hide();#{not facesContext.isValidationFailed() ? 'PF(\'modalAutenticacaoSolicitarExamesVDRLWG\').show()' : ''}" 
              		profile="ok" 
              		ajax="true" 
              		render="Messages, panelModalAutenticacaoSolicitarExamesVDRL"/>  
              <mec:commandButton id="bt_nao_solicitar_exame_vdrl" 
              		value="#{messages.CASCA_LABEL_NAO}" 
              		action="#{registrarConsultaCOController.verificaSeExisteCondutaSemComplementoNaoCadastrada}" 
              		oncomplete="PF('modalSolicitarExamesWG').hide();#{not facesContext.isValidationFailed() ? 'PF(\'modalAutenticacaoAposVerificarCondutaWG\').show()' : registrarConsultaCOController.exibeModalAutenticacao ? 'PF(\'modalAutenticacaoAposVerificarCondutaWG\').show();' : ''}" 
              		profile="cancel" 
              		ajax="true" 
              		render="Messages, panelModalAutenticacaoAposVerificarConduta"/> 
            </h:form> 
          </h:panelGroup> 
        </p:dialog> 
      </p:outputPanel> 
    </ui:define> 
  </ui:composition> 
</html>