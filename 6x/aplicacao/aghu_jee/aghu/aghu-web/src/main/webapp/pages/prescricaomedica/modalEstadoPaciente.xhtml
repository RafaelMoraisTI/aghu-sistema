<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml"
		xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
		xmlns:mec="http://xmlns.jcp.org/jsf/composite/components"
		xmlns:p="http://primefaces.org/ui"
		xmlns:pe="http://primefaces.org/ui/extensions"
		xmlns:aghu="http://xmlns.jcp.org/jsf/component"
		xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
		xmlns:f="http://xmlns.jcp.org/jsf/core"
		xmlns:h="http://xmlns.jcp.org/jsf/html"
		xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
		xmlns:mf="http://www.mec.gov.br/taglib">

	<ui:composition> 
		<!-- Modal confirmação de estado paciente -->
		<p:dialog resizeable="false" id="modalEstadoPaciente" zindex="2"
			width="600" height="150" modal="true" resizable="false"
			widgetVar="modalEstadoPacienteWG" closable="false" closeOnEscape="false">
		<aghu:panelGeral  id="panelGeralModalManterEstado" legend="#{messages.LABEL_ESTADO_PACIENTE_MP} - #{manterPrescricaoMedicaController.prescricaoMedicaVO.nome}, #{manterPrescricaoMedicaController.idadePaciente} anos - Prontuário #{manterPrescricaoMedicaController.prescricaoMedicaVO.prontuario}">	
		<aghu:linha rendered="#{manterPrescricaoMedicaController.estadoPacienteLabel != ''}">
			<h:outputText id="labelEstado" value=""/>
			<h:outputText value="#{manterPrescricaoMedicaController.estadoPacienteLabel}" id="estadoPaciente" />
		</aghu:linha>	
			<h:form prependId="false" id="formModalEstadoPaciente">
			<aghu:linha> 			
			<mec:selectOneMenu noSelectionOption="false" id="comboEstado" value="#{manterPrescricaoMedicaController.valorEstadoPaciente}">
				<f:selectItem itemLabel="#{manterPrescricaoMedicaController.comboSelecioneEstadoPaciente}" itemValue=""/>
				<p:ajax oncomplete="PF('modalEstadoPacienteWG').hide();" event="change"  listener="#{manterPrescricaoMedicaController.confirmarPrescricaoMedica(true, false, false)}"/>
						<f:selectItems var="item" itemLabel="#{item.descricao}"
							value="#{manterPrescricaoMedicaController.comboTipoEstadoPaciente}" />
			</mec:selectOneMenu>
			</aghu:linha>
			<aghu:linha>
			</aghu:linha>
			
						
			<aghu:linha>
				<mec:commandButton id="bt_manter" value="#{messages.LABEL_BOTAO_MANTER}" action="#{manterPrescricaoMedicaController.confirmarPrescricaoMedica(true, false, false)}" 
				oncomplete="PF('modalEstadoPacienteWG').hide()" rendered="#{manterPrescricaoMedicaController.estadoPaciente != null}" />
			</aghu:linha>

			</h:form>
		</aghu:panelGeral>
		</p:dialog>
       
  	</ui:composition> 
</html>