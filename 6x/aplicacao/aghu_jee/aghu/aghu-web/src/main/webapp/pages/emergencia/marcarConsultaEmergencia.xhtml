<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">
  <ui:composition> 
    <aghu:linha> 
      <p:tabView id="tabPanelAbas" dynamic="true" activeIndex="#{realizarAcolhimentoPacienteController.abaSelecionada}" prependId="false">
      	<p:ajax event="tabChange" listener="#{realizarAcolhimentoPacienteController.tabChange}"/> 
        <p:tab id="abaInterno" 
        		disabled="#{realizarAcolhimentoPacienteController.tudoDesabilitado}" 
        		labelWidth="95px" 
        		rendered="#{realizarAcolhimentoPacienteController.permEncaminhamento}" 
        		title="#{messages.LABEL_INTERNO}">
			<aghu:panelGeral>
				<mec:suggestionBox id="sbAgenda"
					label="#{messages.LABEL_EMERG_AGENDA}"
					title="#{messages.TITLE_EMERG_AGENDA}" 
					descricaoInput="seq"
					descricaoLabel="nomeEspecialidade"
					suggestionAction="pesquisarEspecialidadeListaSeq"
					posSelectionAction="verificarConsultasEmergencia" width="360"
					readonly="#{realizarAcolhimentoPacienteController.tudoDesabilitado}"
					requiredFake="true"
					controller="#{realizarAcolhimentoPacienteController}"
					value="#{realizarAcolhimentoPacienteController.especialidade}"
					var="_itemEspec"
					itemValue="#{_itemEspec}">
					<p:column>
						<f:facet name="header">
							<b>#{messages.LABEL_EMERG_UNID_CAD_ESP_CODIGO}</b>
						</f:facet> #{_itemEspec.seq}
            		</p:column>
					<p:column>
						<f:facet name="header">
							<b>#{messages.LABEL_EMERG_UNID_CAD_ESP_SIGLA}</b>
						</f:facet> #{_itemEspec.sigla}
            		</p:column>
					<p:column>
						<f:facet name="header">
							<b>#{messages.LABEL_EMERG_UNID_CAD_ESP_NOME}</b>
						</f:facet> #{_itemEspec.nomeEspecialidade}
            		</p:column>
				</mec:suggestionBox>
			</aghu:panelGeral>		
		</p:tab>  
        <p:tab id="abaExterno" disabled="#{realizarAcolhimentoPacienteController.tudoDesabilitado}" title="#{messages.LABEL_EXTERNO}"> 
	        <aghu:panelGeral>
	          <aghu:linha> 
	            <mec:inputText id="especialidade" 
	            		label="#{messages.LABEL_ESPECIALIDADE}" 
	            		title="#{messages.TITLE_ESPECIALIDADE}" 
	            		value="#{realizarAcolhimentoPacienteController.especialidadeSaudeExterno}" 
	            		maxlength="50" 
	            		size="50" 
	            		requiredFake="true" 
	            		readonly="#{realizarAcolhimentoPacienteController.tudoDesabilitado}" 
	            		caixaAlta="false"/>  
	            <mec:suggestionBox id="unidadeSaudeExterno" 
	            		label="#{messages.LABEL_UNIDADE_DE_SAUDE_EXTERNA}" 
	            		title="#{messages.TITLE_LABEL_UNIDADE_DE_SAUDE_EXTERNA}" 
	            		descricaoInput="seq" 
	            		descricaoLabel="descricao" 
	            		suggestionAction="pesquisarUnidadeSaudeExterno" 
	            		width="360" 
	            		requiredFake="#{realizarAcolhimentoPacienteController.unidadeSaudeObrigatorio}" 
	            		readonly="#{realizarAcolhimentoPacienteController.tudoDesabilitado}" 
	            		controller="#{realizarAcolhimentoPacienteController}" 
	            		value="#{realizarAcolhimentoPacienteController.postoSaude}" 
	            		render="observacaoAbaExterno"
	            		var="_itemUniSaudeExterno"
	            		itemValue="#{_itemUniSaudeExterno}"> 
	              <p:column> 
	                <f:facet name="header"> 
	                  <b>#{messages.LABEL_CODIGO}</b> 
	                </f:facet> #{_itemUniSaudeExterno.seq}
	              </p:column>
	              <p:column> 
	                <f:facet name="header"> 
	                  <b>#{messages.LABEL_EMERG_SIT_DESCRICAO}</b> 
	                </f:facet> #{_itemUniSaudeExterno.descricao}
	              </p:column>
	            </mec:suggestionBox> 
	          </aghu:linha>  
	          <aghu:linha> 
	            <mec:inputTextArea id="observacaoAbaExterno" style="width: 533px; height: 40px;" label="#{messages.LABEL_OBSERVACAO}" title="#{messages.TITLE_LABEL_OBSERVACAO}" maxlength="2000" cols="120" rows="10" value="#{realizarAcolhimentoPacienteController.observacao}" readonly="#{realizarAcolhimentoPacienteController.tudoDesabilitado}" requiredfake="#{realizarAcolhimentoPacienteController.obsObrigatorio}"></mec:inputTextArea> 
	          </aghu:linha>
	    	</aghu:panelGeral> 
        </p:tab> 
      </p:tabView> 
    </aghu:linha> 
  </ui:composition>
</html>
