<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">
  <ui:composition> 
    <aghu:panelGeral legend="#{messages.LABEL_ABA_EXAM_FISICO}"> 
      <p:outputPanel id="panelExamesFisicosRN" layout="inline"> 
        <aghu:linha> 
          <mec:inputTextData id="dthr_exame_fisico" label="#{messages.LABEL_ABA_EXAM_FISICO_DATA_HORA}" title="#{messages.TITLE_ABA_EXAM_FISICO_DATA_HORA}" requiredFake="true" readonly="true" value="#{registrarGestacaoAbaExtFisicoRNController.vo.dtHrExameFisico}" tipo="datahora"/>  
          <mec:inputText id="nome_exame_fisico" label="#{messages.LABEL_ABA_EXAM_FISICO_NOME}" title="#{messages.TITLE_ABA_EXAM_FISICO_NOME}" value="#{registrarGestacaoAbaExtFisicoRNController.vo.nome}" requiredFake="true" readonly="true" maxlength="60" size="80" style="text-transform:uppercase"/>  
          <mec:inputText id="comp_exame_fisico" readonly="#{!registrarGestacaoAbaExtFisicoRNController.isModoEdicao()}" label="#{messages.LABEL_ABA_EXAM_FISICO_COMP}" title="#{messages.TITLE_ABA_EXAM_FISICO_COMP}" value="#{registrarGestacaoAbaExtFisicoRNController.vo.comp}" maxlength="4" size="4" style="text-transform:uppercase"/>  
          <mec:inputNumero id="pc_exame_fisico" readonly="#{!registrarGestacaoAbaExtFisicoRNController.isModoEdicao()}" label="#{messages.LABEL_ABA_EXAM_FISICO_PC}" title="#{messages.TITLE_ABA_EXAM_FISICO_PC}" value="#{registrarGestacaoAbaExtFisicoRNController.vo.pc}" maxlength="7" size="7"/>  
          <mec:inputNumero id="pt_exame_fisico" readonly="#{!registrarGestacaoAbaExtFisicoRNController.isModoEdicao()}" label="#{messages.LABEL_ABA_EXAM_FISICO_PT}" title="#{messages.TITLE_ABA_EXAM_FISICO_PT}" value="#{registrarGestacaoAbaExtFisicoRNController.vo.pt}" maxlength="7" size="7"/>  
          <mec:inputNumero id="ca_exame_fisico" readonly="#{!registrarGestacaoAbaExtFisicoRNController.isModoEdicao()}" label="#{messages.LABEL_ABA_EXAM_FISICO_CA}" title="#{messages.TITLE_ABA_EXAM_FISICO_CA}" value="#{registrarGestacaoAbaExtFisicoRNController.vo.ca}" maxlength="7" size="7"/>  
          <mec:inputNumero id="fc_exame_fisico" readonly="#{!registrarGestacaoAbaExtFisicoRNController.isModoEdicao()}" label="#{messages.LABEL_ABA_EXAM_FISICO_FC}" title="#{messages.TITLE_ABA_EXAM_FISICO_FC}" value="#{registrarGestacaoAbaExtFisicoRNController.vo.fc}" maxlength="4" size="4"/> 
        </aghu:linha>  
        <aghu:linha> 
          <mec:inputNumero id="fr_exame_fisico" readonly="#{!registrarGestacaoAbaExtFisicoRNController.isModoEdicao()}" label="#{messages.LABEL_ABA_EXAM_FISICO_FR}" title="#{messages.TITLE_ABA_EXAM_FISICO_FR}" value="#{registrarGestacaoAbaExtFisicoRNController.vo.fr}" maxlength="4" size="4"/>  
          <mec:inputNumero id="temp_exame_fisico" readonly="#{!registrarGestacaoAbaExtFisicoRNController.isModoEdicao()}" label="#{messages.LABEL_ABA_EXAM_FISICO_TEMP}" title="#{messages.TITLE_ABA_EXAM_FISICO_TEMP}" value="#{registrarGestacaoAbaExtFisicoRNController.vo.temp}" removerCaratersEspeciais="false" maxlength="4" size="4"/>  
          <mec:inputNumero id="prontuario_exame_fisico" label="#{messages.LABEL_ABA_EXAM_FISICO_PRONTUARIO}" title="#{messages.TITLE_ABA_EXAM_FISICO_PRONTUARIO}" value="#{registrarGestacaoAbaExtFisicoRNController.vo.prontuario}" readonly="true" maxlength="9" size="9"/>  
          <aghu:acao newLine="false"> 
            <mec:commandButton id="bt_alterar" value="#{messages.LABEL_ALTERAR}" rendered="#{registrarGestacaoAbaExtFisicoRNController.modoEdicao and mf:hasPermission(securityController,'registrarExameFisicoRN, executar')}" process="panelExamesFisicosRN" action="#{registrarGestacaoAbaExtFisicoRNController.alterar}" render="panelExamesFisicosRN, panelDadosExamesFisicosRN, panelListaExtFisico" profile="ok" ajax="true"></mec:commandButton>  
            <mec:commandButton value="#{messages.LABEL_CANCELAR_EDICAO}" id="bt_cancelarEdicao" rendered="#{registrarGestacaoAbaExtFisicoRNController.modoEdicao and mf:hasPermission(securityController,'registrarExameFisicoRN, executar')}" action="#{registrarGestacaoAbaExtFisicoRNController.cancelarEdicao}" render="panelExamesFisicosRN, panelDadosExamesFisicosRN, panelListaExtFisico" profile="cancel"></mec:commandButton> 
          </aghu:acao> 
        </aghu:linha> 
      </p:outputPanel>  
      <p:outputPanel id="panelListaExtFisico" layout="inline"> 
        <aghu:linha> 
          <p:outputPanel rendered="#{registrarGestacaoAbaExtFisicoRNController.dataModel.size()&gt; 0}" layout="block" style="width: 100%; height: 85px;"> 
            <mec:serverDataTable id="tabelaExtFisico" list="#{registrarGestacaoAbaExtFisicoRNController.dataModel}" 
            	controller="#{registrarGestacaoAbaExtFisicoRNController}" scrollable="true" scrollHeight="85px;"
            	selection="selecionado"> 
              <c:set var="item" value="#{item}"/>
              <p:column style="text-align:right; width: 66px;"> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.CASCA_LABEL_ACOES}"/> 
                </f:facet>  
                <p:outputPanel rendered="#{item.seq eq registrarGestacaoAbaExtFisicoRNController.vo.seq and not registrarGestacaoAbaExtFisicoRNController.modoEdicao}" layout="inline"> 
                  <input type="radio" name="radio_tabela_ext_fisico" value="radio_op_#{itemRowKeyVar}" class="serverDataTable" checked="checked"/> 
                </p:outputPanel>  
                <p:outputPanel rendered="#{item.seq ne registrarGestacaoAbaExtFisicoRNController.vo.seq and not registrarGestacaoAbaExtFisicoRNController.modoEdicao}" layout="inline"> 
                  <input type="radio" name="radio_tabela_ext_fisico" value="radio_op_#{itemRowKeyVar}" class="serverDataTable"/>


<!-- 								<p:ajax event="mouseup" update="@(#panelExamesFisicosRN)"
									listener="#{registrarGestacaoAbaExtFisicoRNController.selecionarItem()}">
									<f:setPropertyActionListener
										target="#{registrarGestacaoAbaExtFisicoRNController.voAuxiliar}"
										value="#{item}" for="command" />
								</p:ajax> -->


				</p:outputPanel>  
                <mec:commandLink id="editar_exame_fisico_rn" immediate="true" action="#{registrarGestacaoAbaExtFisicoRNController.editar}" rendered="#{mf:hasPermission(securityController,'registrarExameFisicoRN, executar') and not registrarGestacaoAbaExtFisicoRNController.modoEdicao}" title="#{messages.CASCA_LABEL_EDITAR}" reRender="panelExamesFisicosRN, panelListaExtFisico" profile="edit"> 
                  <f:setPropertyActionListener target="#{registrarGestacaoAbaExtFisicoRNController.voAuxiliar}" value="#{item}" for="command"/> 
                </mec:commandLink>  
                <mec:commandLink id="excluir_exame_fisico_rn" immediate="true" title="#{messages.CASCA_LABEL_EXCLUIR}" rendered="#{mf:hasPermission(securityController,'registrarExameFisicoRN, executar') and not registrarGestacaoAbaExtFisicoRNController.modoEdicao}" onclick="PF('modalExcluirExameFisicoWG').show();;" profile="delete" ajax="true" render="panelExamesFisicosRN, panelListaExtFisico, panelDadosExamesFisicosRN, dadosExamesFisicoFieldSet" process="@this"> 
                  <f:setPropertyActionListener target="#{registrarGestacaoAbaExtFisicoRNController.voAuxiliar}" value="#{item}" for="command"/> 
                </mec:commandLink> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_ABA_EXAM_FISICO_DATA_HORA}"/> 
                </f:facet>  
                <h:outputText value="#{item.dtHrExameFisico}"> 
                  <f:convertDateTime pattern="dd/MM/yyyy HH:mm"/> 
                </h:outputText> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_ABA_EXAM_FISICO_NOME}"/> 
                </f:facet>  
                <h:outputText value="#{item.nome}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_ABA_EXAM_FISICO_COMP}"/> 
                </f:facet>  
                <h:outputText value="#{item.comp}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_ABA_EXAM_FISICO_PC}"/> 
                </f:facet>  
                <h:outputText value="#{item.pc}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_ABA_EXAM_FISICO_PT}"/> 
                </f:facet>  
                <h:outputText value="#{item.pt}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_ABA_EXAM_FISICO_CA}"/> 
                </f:facet>  
                <h:outputText value="#{item.ca}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_ABA_EXAM_FISICO_FC}"/> 
                </f:facet>  
                <h:outputText value="#{item.fc}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_ABA_EXAM_FISICO_FR}"/> 
                </f:facet>  
                <h:outputText value="#{item.fr}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_ABA_EXAM_FISICO_TEMP}"/> 
                </f:facet>  
                <h:outputText value="#{item.temp}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header"> 
                  <h:outputText value="#{messages.LABEL_ABA_EXAM_FISICO_PRONTUARIO}"/> 
                </f:facet>  
                <h:outputText value="#{item.prontuario}"/> 
              </p:column> 
            </mec:serverDataTable> 
          </p:outputPanel> 
        </aghu:linha> 
      </p:outputPanel>  
      <p:dialog id="modalExcluirExameFisico" width="400" height="150" autosized="false" domElementAttachment="parent" resizeable="false" modal="true" resizable="false" widgetVar="modalExcluirExameFisicoWG"> 
        <f:facet name="header"> 
          <h:outputText value="#{messages.CASCA_LABEL_EXCLUSAO}"/> 
        </f:facet>  
        <br clear="none"/>  
        <h:outputText value="#{messages.CASCA_MENSAGEM_CONFIRMACAO_EXCLUSAO}"/>  
        <br clear="none"/>  
        <br clear="none"/>  
        <br clear="none"/>  
        <aghu:acao> 
          <mec:commandButton value="#{messages.CASCA_LABEL_SIM}" immediate="true" action="#{registrarGestacaoAbaExtFisicoRNController.excluir}" oncomplete="PF('modalExcluirExameFisicoWG').hide();" profile="ok" ajax="true" render="panelExamesFisicosRN, panelListaExtFisico, panelDadosExamesFisicosRN" process="@this"></mec:commandButton>  
          <mec:commandButton immediate="true" value="#{messages.CASCA_LABEL_NAO}" onclick="Richfaces.hideModalPanel('modalExcluirExameFisico');return false;" profile="cancel" ajax="true"></mec:commandButton> 
        </aghu:acao> 
      </p:dialog> 
    </aghu:panelGeral> 
  </ui:composition>
</html>
