<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
xmlns:mec="http://xmlns.jcp.org/jsf/composite/components"
xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions"
xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">
<ui:composition template="/WEB-INF/templates/form_template.xhtml">

	<ui:define name="head">
		<title>#{messages.TITLE_PESQUISAR_CONSULTAS_AGENDA} ::
			#{messages.NOME_ABREVIADO_PROJETO}</title>
	</ui:define>
	
	<ui:define name="metadata"> 
		<f:metadata> 
			<f:viewAction action="#{relatorioAgendaController.iniciar}"/> 
		</f:metadata> 
	</ui:define>

	<ui:define name="body">
		<mec:pageConfig controller="#{relatorioAgendaController}" />
		
		<h:form prependId="false" id="formPesquisa">
			<p:outputPanel id="formPrincipal" layout="inline" styleClass="aghu-panel-geral">
				<aghu:panelGeral legend="#{messages.TITLE_PESQUISAR_CONSULTAS_AGENDA}">
					<div style="width:100%;">
						<aghu:linha>
	
							<mec:suggestionBox id="servico"
								label="#{messages.LABEL_PESQUISAR_CONSULTAS_AGENDA_SERVICO}"
								title="#{messages.TITLE_PESQUISAR_CONSULTAS_AGENDA_SERVICO}"
								controller="#{relatorioAgendaController}" value="#{relatorioAgendaController.servico}"
								descricaoInput="codigo"
								descricaoLabel="descricao" width="400"
								suggestionAction="obterServico">
								<p:column>
									<f:facet name="header">
										<b>#{messages.LABEL_CODIGO}</b>
									</f:facet>
									#{item.codigo}
								</p:column>
								<p:column>
									<f:facet name="header">
										<b>#{messages.LABEL_DESCRICAO}</b>
									</f:facet>						
									#{item.descricao}
								</p:column>
							</mec:suggestionBox>
	
						</aghu:linha>
						
					<aghu:linha>
						<mec:inputNumero name="seq"
							readonly="false" label="#{messages.LABEL_PESQUISAR_CONSULTAS_AGENDA_SEQGRADE}"
							title="#{messages.TITLE_PESQUISAR_CONSULTAS_AGENDA_SEQGRADE}" size="6" maxlength="6"
							value="#{relatorioAgendaController.grdSeq}">
						</mec:inputNumero> 	
						 <mec:suggestionBox id="zona"
							label="#{relatorioAgendaController.labelZona}"
							title="#{relatorioAgendaController.titleZona}"
							controller="#{relatorioAgendaController}"
							suggestionAction="obterZona"
							width="400"						 
							value="#{relatorioAgendaController.siglaUnfSalaVO}"
							descricaoInput="sigla" 
							descricaoLabel="descricao">
								<p:column>
									<f:facet name="header">
										<b>#{messages.LABEL_ZONA}</b>
									</f:facet>
									#{item.sigla}
								</p:column>
								<p:column>
									<f:facet name="header">
										<b>#{messages.LABEL_DESCRICAO}</b>
									</f:facet>
									#{item.descricao}
								</p:column>										
						 </mec:suggestionBox>
					</aghu:linha>
					
					<aghu:linha>
						<mec:suggestionBox id="profissional"
							label="#{messages.LABEL_PESQUISAR_PACIENTES_AGENDADOS_PROFISSIONAL}"
							title="#{messages.TITLE_PESQUISAR_PACIENTES_AGENDADOS_PROFISSIONAL}"
							controller="#{relatorioAgendaController}"
							value="#{relatorioAgendaController.profissional}"
							descricaoInput="id.matricula"
							size="10"
							maxlength="10"
							width="400"
							descricaoLabel="pessoaFisica.nome"
							suggestionAction="obterProfissionais">	
							<p:column>
								<f:facet name="header">
									<b>#{messages.LABEL_VINCULO}</b>
								</f:facet>							
								<h:outputText value="#{item.id.vinCodigo}" />
							</p:column>
							<p:column>
								<f:facet name="header">
									<b>#{messages.LABEL_MATRICULA}</b>
								</f:facet>							
								<h:outputText value="#{item.id.matricula}" />
							</p:column>
							<p:column>
								<f:facet name="header">
									<b>#{messages.LABEL_NOME}</b>
								</f:facet>							
								<h:outputText value="#{item.pessoaFisica.nome}" />
							</p:column>	
						</mec:suggestionBox>
					</aghu:linha>
											
					<aghu:linha>
						<mec:suggestionBox id="especialidade"
							label="#{messages.LABEL_PESQUISAR_CONSULTAS_AGENDA_ESPECIALIDADE_AGENDA}"
							title="#{messages.TITLE_PESQUISAR_CONSULTAS_AGENDA_ESPECIALIDADE_AGENDA}"
							controller="#{relatorioAgendaController}"
							value="#{relatorioAgendaController.especialidade}"
							descricaoInput="sigla"
							descricaoLabel="nomeEspecialidade"
							suggestionAction="obterEspecialidade"
							width="400">	
							<p:column>
								<f:facet name="header">
									<b>#{messages.LABEL_SIGLA}</b>
								</f:facet>
								#{item.sigla}
							</p:column>
							<p:column>
								<f:facet name="header">
									<b>#{messages.LABEL_ESPECIALIDADE_AGENDA}</b>
								</f:facet>						
								#{item.nomeEspecialidade}
							</p:column>	
						</mec:suggestionBox>
					</aghu:linha>
					<aghu:linha>
						 <mec:suggestionBox id="situacao"
							label="#{messages.LABEL_PESQUISAR_CONSULTAS_AGENDA_SITUACAO}"
							title="#{messages.LABEL_PESQUISAR_CONSULTAS_AGENDA_SITUACAO}"
							maxlength="25" required="true"
							controller="#{relatorioAgendaController}"
							suggestionAction="obterSituacao" 
							value="#{relatorioAgendaController.situacao}" width="550"
							descricaoInput="situacao"
							descricaoLabel="descricao">
								<p:column>
									<f:facet name="header">
										<b>#{messages.LABEL_DESCRICAO}</b>
									</f:facet>
									#{item.descricao}
								</p:column>	
						 </mec:suggestionBox>				 
					    <mec:selectOneMenu readonly="false"
								items="#{relatorioAgendaController.condicaoList}"
								itemLabel="descricao"
								label="#{messages.LABEL_PESQUISAR_CONSULTAS_AGENDA_CONDICAO}"
								title="#{messages.TITLE_PESQUISAR_CONSULTAS_AGENDA_CONDICAO}"
								value="#{relatorioAgendaController.condicao}"
								id="condicao"/>
					</aghu:linha>
					
						<div
							style="width:30%;position:absolute;top:0%;right:2%;padding:10px">
							<aghu:panelGeral legend="#{messages.TITLE_PESQUISAR_CONSULTAS_AGENDA_CONSULTAS_PERIODO}">
								<aghu:linha>
									<mec:selectOneMenu id="diaSemana"
										label="#{messages.LABEL_PESQUISAR_CONSULTAS_AGENDA_DIA}"
										title="#{messages.TITLE_PESQUISAR_CONSULTAS_AGENDA_DIA}"
										value="#{relatorioAgendaController.diaSemana}"
										enum="DominioDiaSemana"
										enumPath="br.gov.mec.aghu.core.dominio">
									</mec:selectOneMenu>
									
									<mec:inputText name="horarios"
										label="#{messages.LABEL_PESQUISAR_CONSULTAS_AGENDA_HORARIO}"
										title="#{messages.TITLE_PESQUISAR_CONSULTAS_AGENDA_HORARIO}"
										styleClass="mask_hora" size="5" maxlength="5"
										ajaxValidation="false" datePattern="HH:mm" dateType="time"
										removerCaratersEspeciais="false"
										value="#{relatorioAgendaController.horaConsulta}">
									</mec:inputText>
								</aghu:linha>
								<aghu:linha>
									<mec:inputTextData
										label="#{messages.LABEL_PESQUISAR_CONSULTAS_AGENDA_DATAINICIAL}"
										name="dtInicio"
										title="#{messages.TITLE_PESQUISAR_CONSULTAS_AGENDA_DATAINICIAL}"
										size="10" maxlength="10" required="true" ajaxValidation="false"
										value="#{relatorioAgendaController.dtInicio}" />
									<mec:inputTextData
										label="#{messages.LABEL_PESQUISAR_CONSULTAS_AGENDA_DATAFINAL}"
										name="dtFim"
										title="#{messages.TITLE_PESQUISAR_CONSULTAS_AGENDA_DATAFINAL}"
										size="10" maxlength="10" required="true" ajaxValidation="false"
										value="#{relatorioAgendaController.dtFim}" />
								</aghu:linha>
							</aghu:panelGeral>
						</div>
					</div>
				</aghu:panelGeral>
			</p:outputPanel>

			<aghu:acao>
				<mec:commandButton id="bt_print_buttonView"
					value="#{messages.LABEL_VISUALIZAR_IMPRESSAO_RELATORIO}"
					action="#{relatorioAgendaController.print}"
					profile="view"
					onclick="PF('loadDialogWG').show()"/>  
          		<mec:commandButton id="bt_print_buttonPrint"
					value="#{messages.LABEL_IMPRIMIR}"
					action="#{relatorioAgendaController.directPrint}"
					profile="print"
					onclick="PF('loadDialogWG').show()"/> 
					
				<mec:commandButton id="bt_limpar"
					value="#{messages.LABEL_LIMPAR}"
					action="#{relatorioAgendaController.limparPesquisa}"
					ajax="true"
					render="formPrincipal"
					process="@this" styleClass="bt_cinza" profile="clear"/>

			</aghu:acao>

		</h:form>

	</ui:define>
</ui:composition>
</html>