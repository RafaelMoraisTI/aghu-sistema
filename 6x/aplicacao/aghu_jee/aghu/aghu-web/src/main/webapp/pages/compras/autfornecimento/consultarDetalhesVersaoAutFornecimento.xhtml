<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <ui:composition template="/WEB-INF/templates/form_template.xhtml"> 
    <ui:define name="head"> 
      <title>#{messages['TITLE_CONSULTA_DETALHE_VERSAO_ANTERIOR_AF']} :: #{messages['NOME_ABREVIADO_PROJETO']}</title> 
    </ui:define>  
    <ui:define name="metadata"> 
      <f:metadata> 
        <f:viewAction action="#{consultaDetalhesVersaoAutFornecimentoController.iniciar}"/> 
      </f:metadata> 
    </ui:define>  
    <ui:define name="body"> 
      <mec:pageConfig controller="#{consultaDetalhesVersaoAutFornecimentoController}"/>  
      <h:form prependId="false" id="pesquisaFrm"> 
         
              
        <aghu:panelGeral legend="#{messages.TITLE_CONSULTA_DETALHE_VERSAO_ANTERIOR_AF}">
        <aghu:column type="table">  
                
                 <h:panelGrid> 
                 <aghu:panelGeral>
                  <aghu:linha> 
                    <mec:inputNumero id="numeroAf" label="#{messages.LABEL_CONS_NUMERO_AF}" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.numeroAf}" size="10"/>  
                    <mec:inputNumero id="numeroComplemento" label="#{messages.LABEL_CONS_CP}" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.complementoAf}" size="6"/>  
                    <mec:inputNumero id="seq" label="#{messages.LABEL_SEQ_AF}" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.sequenciaAlteracao}" size="6"/>  
                    <mec:inputText label="#{messages.LABEL_SITUACAO_PESQUISA_AF}" id="descricaoSituacao" size="30" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.situacao.codigo} - #{consultaDetalhesVersaoAutFornecimentoController.versaoAf.situacao.descricao}"/>  
                    <mec:inputText label="#{messages.LABEL_MODALIDADE_COMPRA}" id="descricaoModalidade" size="20" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.scoAutorizacaoForn.propostaFornecedor.licitacao.modalidadeLicitacao.descricao}"/>  
                    <mec:inputTextData label="#{messages.LABEL_DATA_PREVISAO_ENTREGA_AF}" id="fdPrevisaoEntrega" size="10" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.dtPrevEntrega}" tipo="data"/> 
                  </aghu:linha>  
                  <aghu:linha> 
                    <mec:inputText label="#{messages.LABEL_DESCRICAO_FORNECEDOR}" id="descricaoFornecedor" size="70" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.scoAutorizacaoForn.propostaFornecedor.fornecedor.razaoSocial}"/>  
                    <mec:inputText label="#{messages.LABEL_DESCRICAO_CNPJCPF}" id="documentoFornecedor" size="20" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.numeroFornecedor}"/>  
                    <mec:inputText label="#{messages.LABEL_EXCLUIDA}" id="excluida" size="8" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.excluida}"/>  
                    <mec:inputTextData label="#{messages.LABEL_DATA_EXCLUSAO}" id="dataExclusao" size="10" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.dtExclusao}" tipo="data"/> 
                  </aghu:linha>  
                  <aghu:linha> 
                    <mec:inputTextData label="#{messages.LABEL_DATA_GERACAO}" id="dataGeracao" size="10" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.dtGeracao}" tipo="data"/>  
                    <mec:inputText label="#{messages.LABEL_DESCRICAO_GERADOR}" id="descricaoGerador" size="60" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.gerador}"/> 
                  </aghu:linha>  
                  <aghu:linha> 
                    <mec:inputText label="#{messages.LABEL_DESCRICAO_GESTOR}" id="descricaoGestor" size="60" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.gestor}"/>  
                    <mec:inputTextData label="#{messages.LABEL_DATA_ALTERACAO}" id="dataAlteracao" size="10" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.dtAlteracao}" tipo="data"/>  
                    <mec:inputText label="#{messages.LABEL_MOTIVO_AF}" id="motivoAf" size="60" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.motivoAlteracaoAf.descricao}"/> 
                  </aghu:linha> 
                  </aghu:panelGeral> 
                   </h:panelGrid>
                  <p:accordionPanel id="togglePanelValoresTotais" prependId="false"> 
                    <p:tab title="#{messages.TITLE_VALORES_TOTAIS}"> 
                      <aghu:linha> 
                        <mec:inputNumero id="vlrBruto" value="#{consultaDetalhesVersaoAutFornecimentoController.calculo.valorBruto}" label="#{messages.LABEL_VALOR_BRUTO_AF}" required="false" inteiros="11" decimais="2" styleClass="mascara(decimal)" style="text-align:right;" readonly="true}"/>  
                        <mec:inputNumero id="vlrIpi" value="#{consultaDetalhesVersaoAutFornecimentoController.calculo.valorIPI}" label="#{messages.LABEL_VALOR_IPI}" required="false" inteiros="11" decimais="2" styleClass="mascara(decimal)" style="text-align:right;" readonly="true}"/>  
                        <mec:inputNumero id="vlrAcrescimo" value="#{consultaDetalhesVersaoAutFornecimentoController.calculo.valorAcresc}" label="#{messages.LABEL_VALOR_ACRESCIMO_AF}" required="false" inteiros="11" decimais="2" styleClass="mascara(decimal)" style="text-align:right;" readonly="true}"/>  
                        <mec:inputNumero id="vlrDesconto" value="#{consultaDetalhesVersaoAutFornecimentoController.calculo.valorDesc}" label="#{messages.LABEL_VALOR_DESCONTO_AF}" required="false" inteiros="11" decimais="2" styleClass="mascara(decimal)" style="text-align:right;" readonly="true}"/>  
                        <mec:inputNumero id="vlrLiquido" value="#{consultaDetalhesVersaoAutFornecimentoController.calculo.valorLiq}" label="#{messages.LABEL_VALOR_LIQUIDO_AF}" required="false" inteiros="11" decimais="2" styleClass="mascara(decimal)" style="text-align:right;" readonly="true}"/> 
                      </aghu:linha>  
                      <aghu:linha> 
                        <mec:inputNumero id="vlrFrete" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.valorFrete}" label="#{messages.LABEL_VALOR_FRETE_AF}" required="false" inteiros="11" decimais="2" styleClass="mascara(decimal)" style="text-align:right;" readonly="true"/>  
                        <mec:inputNumero id="vlrEfetivado" value="#{consultaDetalhesVersaoAutFornecimentoController.calculo.valorEfetivo}" label="#{messages.LABEL_VALOR_EFETIVADO}" required="false" inteiros="11" decimais="2" styleClass="mascara(decimal)" style="text-align:right;" readonly="true}"/>  
                        <mec:inputNumero id="vlrTotal" value="#{consultaDetalhesVersaoAutFornecimentoController.calculo.valorTotalAF}" label="#{messages.LABEL_VALOR_TOTAL_AF}" required="false" inteiros="11" decimais="2" styleClass="mascara(decimal)" style="text-align:right;" readonly="true}"/> 
                      </aghu:linha> 
                    </p:tab> 
                  </p:accordionPanel>  
                  <p:accordionPanel id="togglePanelFormaPagamento" multiple="true" activeIndex="null" prependId="false"> 
                    <p:tab title="#{messages.TITLE_PANEL_FORMA_PAGAMENTO}"> 
                      <aghu:linha> 
                        <mec:field label="#{messages.LABEL_AF_CONDICAO_PAGAMENTO}"> 
                          <h:inputText name="condpag" id="condpag" size="20" disabled="true" value="#{consultaDetalhesVersaoAutFornecimentoController.condPgto}"/>  
                          <mec:commandLink rendered="#{not empty consultaDetalhesVersaoAutFornecimentoController.condPgto}" action="#{consultaDetalhesVersaoAutFornecimentoController.pesquisarCondicoesPagamentoAF}" id="lnkCondPagto" immediate="true" style="padding-left:5px;vertical-align: middle" styleClass=" silk-money-dollar silk-icon"> 
                            <f:setPropertyActionListener target="#{pesquisaCondicoesPagamentoAFController.numeroAf}" value="#{consultaDetalhesVersaoAutFornecimentoController.numeroAf}" for="command"/>  
                            <f:setPropertyActionListener target="#{pesquisaCondicoesPagamentoAFController.complementoAf}" value="#{consultaDetalhesVersaoAutFornecimentoController.complementoAf}" for="command"/>  
                            <f:setPropertyActionListener target="#{pesquisaCondicoesPagamentoAFController.sequenciaAlteracao}" value="#{consultaDetalhesVersaoAutFornecimentoController.sequenciaAlteracao}" for="command"/>  
                            <f:setPropertyActionListener target="#{pesquisaCondicoesPagamentoAFController.origem}" value="consultarDetalhesVersaoAutFornecimento" for="command"/> 
                          </mec:commandLink> 
                        </mec:field>  
                        <mec:inputText label="#{messages.LABEL_MOEDA}" id="moeda" size="10" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.mdaCodigo.descricao}"/>  
                        <mec:inputNumero id="contrato" label="#{messages.LABEL_CONTRATO_AF}" size="10" title="#{messages.TITLE_CONTRATO_AF}" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.nroContrato}"/>  
                        <mec:inputTextData label="#{messages.LABEL_DATA_VENCIMENTO_CONTRATO_AF}" id="fdVencContrato" size="10" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.dtVenctoContrato}" tipo="data"/> 
                      </aghu:linha> 
                    </p:tab> 
                  </p:accordionPanel>  
                  <p:accordionPanel id="togglePanelDadosEmpenho" multiple="true" activeIndex="null" prependId="false"> 
                    <p:tab title="#{messages.TITLE_PANEL_DADOS_EMPENHO}"> 
                      <aghu:linha> 
                        <mec:inputText label="#{messages.LABEL_MODALIDADE_EMPENHO_AF}" id="modalidadeEmpenho" size="8" readonly="true" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.modalidadeEmpenho.descricao}"/>  
                        <mec:suggestionBox id="sbVerbaGestao" label="#{messages.LABEL_VERBA_GESTAO_AF}" descricaoInput="seq" descricaoLabel="descricao" readonly="true" size="10" controller="#{consultaDetalhesVersaoAutFornecimentoController}" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.verbaGestao}"/>  
                        <mec:suggestionBox id="grupoNatureza" label="#{messages.LABEL_GRUPO_NATUREZA_DESPESA}" descricaoInput="codigo" descricaoLabel="descricao" readonly="true" size="10" controller="#{consultaDetalhesVersaoAutFornecimentoController}" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.naturezaDespesa.grupoNaturezaDespesa}"/>  
                        <mec:suggestionBox id="naturezaDespesa" label="#{messages.LABEL_NATUREZA_DESPESA}" descricaoInput="id.codigo" descricaoLabel="descricao" readonly="true" size="10" controller="#{consultaDetalhesVersaoAutFornecimentoController}" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.naturezaDespesa}"/> 
                      </aghu:linha> 
                    </p:tab> 
                  </p:accordionPanel>  
                  <p:accordionPanel id="togglePanelInformacoesCompl" multiple="true" activeIndex="null" prependId="false"> 
                    <p:tab title="#{messages.TITLE_PANEL_INFORMACOES_COMPL}"> 
                      <aghu:linha> 
                        <mec:inputTextArea id="observacao" value="#{consultaDetalhesVersaoAutFornecimentoController.versaoAf.observacao}" label="#{messages.LABEL_OBSERVACAO}" readonly="true" rows="4" cols="100"/> 
                      </aghu:linha> 
                    </p:tab> 
                  </p:accordionPanel>                 
              </aghu:column>
               <aghu:column type="button" id="panelBotoes2">
                <p:outputPanel id="panelBotoes">
                    <mec:commandButton id="btItens" immediate="true" value="#{messages.LABEL_BT_ITENS_AF}" action="#{consultaDetalhesVersaoAutFornecimentoController.redirecionarItemAutorizacaoFornecimento}" styleClass="bt_cinza"> 
                        <f:setPropertyActionListener target="#{pesquisaItemAutFornecimentoController.numeroAf}" value="#{consultaDetalhesVersaoAutFornecimentoController.numeroAf}" for="command"/>  
                        <f:setPropertyActionListener target="#{pesquisaItemAutFornecimentoController.numeroComplemento}" value="#{consultaDetalhesVersaoAutFornecimentoController.complementoAf}" for="command"/>  
                        <f:setPropertyActionListener target="#{pesquisaItemAutFornecimentoController.voltarParaUrl}" value="compras-consultarDetalhesVersaoAutFornecimento" for="command"/> 
                    </mec:commandButton>
                    
                    <mec:commandButton id="btResponsaveis" immediate="true" value="#{messages.LABEL_BT_RESPONSAVEIS_AF}" action="#{consultaDetalhesVersaoAutFornecimentoController.redirecionarResponsaveisEtapasVersaoAF}" styleClass="bt_cinza"> 
                        <f:setPropertyActionListener target="#{listaResponsaveisEtapasVersaoAFController.numeroAf}" value="#{consultaDetalhesVersaoAutFornecimentoController.numeroAf}" for="command"/>  
                        <f:setPropertyActionListener target="#{listaResponsaveisEtapasVersaoAFController.complementoAf}" value="#{consultaDetalhesVersaoAutFornecimentoController.complementoAf}" for="command"/>
                        <f:setPropertyActionListener target="#{listaResponsaveisEtapasVersaoAFController.sequenciaAlteracao}" value="#{consultaDetalhesVersaoAutFornecimentoController.sequenciaAlteracao}" for="command"/>
                        <f:setPropertyActionListener target="#{listaResponsaveisEtapasVersaoAFController.origem}" value="compras-consultarDetalhesVersaoAutFornecimento" for="command"/> 
                     </mec:commandButton> 
                    
                    <mec:commandButton id="btImprimirAf" immediate="true" value="#{messages.LABEL_BT_IMPRIMIR_AF}" action="#{consultaDetalhesVersaoAutFornecimentoController.imprimirAf}" styleClass="bt_cinza"> 
                        <f:setPropertyActionListener target="#{relatorioAutorizacaoFornecimentoController.voltarParaUrl}" value="compras-consultarDetalhesVersaoAutFornecimento" for="command"/>  
                        <f:setPropertyActionListener target="#{relatorioAutorizacaoFornecimentoController.numPac}" value="#{consultaDetalhesVersaoAutFornecimentoController.numeroAf}" for="command"/>  
                        <f:setPropertyActionListener target="#{relatorioAutorizacaoFornecimentoController.nroComplemento}" value="#{consultaDetalhesVersaoAutFornecimentoController.complementoAf}" for="command"/>
                        
                    </mec:commandButton>  
                 
                   
                </p:outputPanel> 
              </aghu:column> 
        </aghu:panelGeral>  
        <aghu:acao> 
          <mec:commandButton id="bt_voltar" immediate="true" value="#{messages.LABEL_VOLTAR}" action="#{consultaDetalhesVersaoAutFornecimentoController.voltar}" styleClass="bt_vermelho icon-back alinha-direita bt_cinza" ajax="true" profile="back"/> 
        </aghu:acao> 
      </h:form> 
    </ui:define> 
  </ui:composition> 
</html>
