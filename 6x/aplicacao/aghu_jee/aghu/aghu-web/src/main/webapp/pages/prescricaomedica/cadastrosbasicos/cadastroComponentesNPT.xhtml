<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <ui:composition template="/WEB-INF/templates/form_template.xhtml"> 
    <ui:define name="head"> 
      <title>#{messages.TITLE_MANTER_COMPONENTES_NPT_PAGE}</title>  
        <style xml:space="preserve">
				.checked {
					background-image: url('../../../resources/img/icons/checked.png') !important;
					background-repeat: no-repeat;
					background-position: center;
				
				}
				#valorNitro{
					position:absolute;
					margin-left:314px !important;
				}	
				#unidadeCalorias{
					position:absolute;
					margin-left:314px !important;
				}	
				#conversaoMlMsom{
					position:absolute;
					margin-left:314px !important;
				}
				#mlParaFosforo{
					position:absolute;
					margin-left:314px !important;
				}
				#calcula{
					position:absolute;
					margin-left:314px !important;
				}
				#ativo2{
					position:absolute;
					margin-left:450px !important;
				}
		</style> 
    </ui:define>  
    <ui:define name="metadata">
		<f:metadata>
			<f:viewAction action="#{cadastroComponentesNPTController.inicio}" />
		</f:metadata>
	</ui:define>
    <ui:define name="body"> 
      <mec:pageConfig controller="#{cadastroComponentesNPTController}"/>  
      <h:form prependId="false" id="formPesquisa"> 
        <aghu:panelGeral legend="#{messages.TITLE_MANTER_COMPONENTES_NPT_PAGE}"> 
        
          <aghu:linha> 
	          <mec:suggestionBox label="#{messages.LABEL_MEDICAMENTO_COMPO}" title="#{messages.TITLE_MEDICAMENTO_COMPO}" 
		 		  suggestionAction="obterSuggestionMed" descricaoInput="matCodigo" 
				  descricaoLabel="descricaoEdit" maxlength="20" id="sbMed" var="medic" itemValue="#{medic}"
				  controller="#{cadastroComponentesNPTController}" required="true"
				  value="#{cadastroComponentesNPTController.medicamento}"
				  readonly="#{cadastroComponentesNPTController.modoEdicao}"
				  disabled="#{cadastroComponentesNPTController.modoEdicao}"> 
		             <p:column> 
		               <f:facet name="header"> 
		                 <b>#{messages.LABEL_CODIGO}</b> 
		               </f:facet> #{medic.matCodigo}
		             </p:column>  
		             <p:column> 
		               <f:facet name="header"> 
		                 <b>#{messages.LABEL_DESCRICAO}</b> 
		               </f:facet> #{medic.descricaoEdit}
		             </p:column>
		             <p:column> 
		               <f:facet name="header"> 
		                 <b>#{messages.LABEL_TPR_SIGLA}</b> 
		               </f:facet> #{medic.tprSigla}
		             </p:column> 
			  </mec:suggestionBox>
			  
			  <mec:suggestionBox label="#{messages.LABEL_GRUPO_COMPO}" title="#{messages.TITLE_GRUPO_COMPO}" 
		 		  suggestionAction="obterSuggestionGrupoComponentes" descricaoInput="seq" 
				  descricaoLabel="descricao" maxlength="20" id="sbGrupo" var="gp" itemValue="#{gp}"
				  controller="#{cadastroComponentesNPTController}" required="true"
				  value="#{cadastroComponentesNPTController.grupo}"> 
		             <p:column> 
		               <f:facet name="header"> 
		                 <b>#{messages.LABEL_CODIGO}</b> 
		               </f:facet> #{gp.seq}
		             </p:column>  
		             <p:column> 
		               <f:facet name="header"> 
		                 <b>#{messages.LABEL_GRUPO_DE_COMPONENTE}</b> 
		               </f:facet> #{gp.descricao}
		             </p:column> 
			  </mec:suggestionBox>  

          </aghu:linha> 
          <aghu:linha>
          
          	<mec:inputText
				value="#{cadastroComponentesNPTController.descricao}"
				label="#{messages.LABEL_DESCRICAO}" title="#{messages.LABEL_DESCRICAO_CNPT}"
				maxlength="200" size="65"
				id="descricao" readonly="#{cadastroComponentesNPTController.modoEdicao}"
				disabled="#{cadastroComponentesNPTController.modoEdicao}"/>
				
			<mec:inputNumero
				value="#{cadastroComponentesNPTController.ordem}"
				label="#{messages.LABEL_ORDEM_CNPT}" title="#{messages.TITLE_ORDEM_CNPT}"
				maxlength="4" size="10"
				id="ordem" />
				
			<mec:field name="identificacao" id="identificacao" inputId="input_identificacao"
				label="#{messages.LABEL_IDENTIFICACAO_GCN}" title="#{messages.TITLE_IDENTIFICACAO_GCN}">
				<h:selectOneMenu name="input_identificacao" id="input_identificacao"
					value="#{cadastroComponentesNPTController.identificacao}">
					<f:selectItem itemValue="#{null}" itemLabel="Selecione"
								noSelectionOption="true" />
					<f:selectItems var="item" itemLabel="#{item.descricao}"
						value="#{cadastroComponentesNPTController.identificacoes}" />
				</h:selectOneMenu>
			</mec:field>
				
          </aghu:linha>
          <aghu:linha>
          
          		<mec:inputTextArea id="observacao"  cols="70" rows="5" 
          			label="#{messages.LABEL_OBSERVACAO_GCN}" 
          			title="#{messages.TITLE_OBSERVACAO_GCN}"
          			value="#{cadastroComponentesNPTController.observacao}" 
          			removerCaratersEspeciais="false"/>
          
          		<mec:selectBooleanCheckbox id="ativo"  label="#{messages.LABEL_ATIVO_GCN}" 
          			title="#{messages.TITLE_ATIVO_GCN}"
					value="#{cadastroComponentesNPTController.ativoBoolean}"/>
				
				<mec:selectBooleanCheckbox id="adulto"  label="#{messages.LABEL_ADULTO_GCN}"
					title="#{messages.TITLE_ADULTO_GCN}" 
					value="#{cadastroComponentesNPTController.adultoBoolean}"/>
					
				<mec:selectBooleanCheckbox id="pediatria"  label="#{messages.LABEL_PEDIATRIA_GCN}" 
					title="#{messages.TITLE_PEDIATRIA_GCN}"
					value="#{cadastroComponentesNPTController.pediatriaBoolean}"/>
          
          </aghu:linha>
         </aghu:panelGeral>
         <aghu:linha> 
	         <aghu:acao> 
	          <mec:commandButton id="bt_gravar" value="#{messages.LABEL_GRAVAR}" action="#{cadastroComponentesNPTController.gravar}" profile="ok" rendered="#{!cadastroComponentesNPTController.modoEdicao and cadastroComponentesNPTController.permissao}"/>  
	          <mec:commandButton id="bt_alterar" value="#{messages.LABEL_ALTERAR}" rendered="#{cadastroComponentesNPTController.modoEdicao and cadastroComponentesNPTController.permissao}"
				action="#{cadastroComponentesNPTController.gravar}" />  			
	 		  <mec:commandButton id="bt_cancelar" value="#{messages.LABEL_CANCELAR_EDICAO_PALAVRAS_CHAVE}" rendered="#{cadastroComponentesNPTController.modoEdicao and cadastroComponentesNPTController.permissao}" 
	 			process="@this" action="#{cadastroComponentesNPTController.voltar}" /> 
	          <mec:commandButton block="true" ajaxSingle="true" immediate="true" id="bt_voltar" value="#{messages.LABEL_VOLTAR}" action="#{cadastroComponentesNPTController.voltar}" styleClass="bt_voltar  bt_cinza" profile="back"/>
	        </aghu:acao> 
        </aghu:linha>
        
      </h:form>
      
      	<p:outputPanel id="panelAbas" rendered="#{cadastroComponentesNPTController.modoEdicao}" style="position: absolute !important; margin-top:60px !important; height:600px !important;"> 
	      	<p:tabView style="height:600px !important;" prependId="false" id="abasView" activeIndex="#{cadastroComponentesNPTController.activeTab}">
	      	<p:ajax event="tabChange" listener="#{cadastroComponentesNPTController.onTabChange}"/>
	      		<p:tab id="tab0" title="#{messages.LABEL_PARAMETROS_CALCULO}" style="height:600px !important;" disabled="#{cadastroComponentesNPTController.modoEdicaoAba2}">
		      		<h:form prependId="false" id="formAba1" >
			      		<aghu:panelGeral> 
			      			 <aghu:linha>
			      				<mec:inputNumero
									value="#{cadastroComponentesNPTController.parametros.id.seqp}"
									label="#{messages.LABEL_CODIGO_PARAM_COMPO}" 
									maxlength="4" size="10"
									id="codigo" readonly="true"/>
									
								<mec:inputNumero
									value="#{cadastroComponentesNPTController.parametros.fatorConvUnidNitrogenio}"
									label="#{messages.LABEL_NITRO_PARAM_COMPO}" title="#{messages.TITLE_NITRO_PARAM_COMPO}"
									maxlength="5" size="12"
									id="valorNitro" 
									readonly="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									disabled="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									inteiros="5" decimais="3" thousandSeparator=""
									styleClass="mascara(decimal)" actionBean="#{cadastroComponentesNPTController}" style="text-align:right;"/>
							 </aghu:linha>
							<aghu:linha>
			      				<mec:suggestionBox label="#{messages.LABEL_UNIDADE_COMPO_MEDIDA}" title="#{messages.TITLE_UNIDADE_COMPO}" 
							 		  suggestionAction="obterSuggestionUnidade" descricaoInput="seq" 
									  descricaoLabel="descricao" maxlength="20" id="sbUnidade" var="uni" itemValue="#{uni}"
									  controller="#{cadastroComponentesNPTController}" required="true"
									  value="#{cadastroComponentesNPTController.unidade}"
									  readonly="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									  disabled="#{cadastroComponentesNPTController.modoEdicaoAba1}"> 
							             <p:column> 
							               <f:facet name="header"> 
							                 <b>#{messages.LABEL_CODIGO}</b> 
							               </f:facet> #{uni.seq}
							             </p:column>  
							             <p:column> 
							               <f:facet name="header"> 
							                 <b>#{messages.LABEL_DESCRICAO}</b> 
							               </f:facet> #{uni.descricao}
							             </p:column> 
								</mec:suggestionBox> 
								<mec:inputNumero
									value="#{cadastroComponentesNPTController.parametros.fatorConvUnidCalorias}"
									label="#{messages.LABEL_CALORIAS_PARAM_COMPO}" title="#{messages.TITLE_CALORIAS_PARAM_COMPO}"
									maxlength="5" size="12"
									id="unidadeCalorias" 
									readonly="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									disabled="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									inteiros="5" decimais="3" thousandSeparator=""
									styleClass="mascara(decimal)" actionBean="#{cadastroComponentesNPTController}" style="text-align:right;"/>
								
							 </aghu:linha>
							 <aghu:linha>
							 	<mec:inputNumero
									value="#{cadastroComponentesNPTController.parametros.fatorConversaoMl}"
									label="#{messages.LABEL_FATOR_CONVERSAO_ML}" title="#{messages.TITLE_FATOR_CONVERSAO_ML}"
									maxlength="5" size="12" required="true"
									id="conversaoMl"  
									readonly="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									disabled="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									inteiros="5" decimais="3" thousandSeparator=""
									styleClass="mascara(decimal)" actionBean="#{cadastroComponentesNPTController}" style="text-align:right;">
								</mec:inputNumero>	
									
								<mec:inputNumero
									value="#{cadastroComponentesNPTController.parametros.fatorConvMlMosm}"
									label="#{messages.LABEL_FATOR_CONVERSAO_MSOM}" title="#{messages.TITLE_FATOR_CONVERSAO_MSOM}"
									maxlength="5" size="12"
									id="conversaoMlMsom" 
									readonly="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									disabled="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									inteiros="5" decimais="3" thousandSeparator=""
									styleClass="mascara(decimal)" actionBean="#{cadastroComponentesNPTController}" style="text-align:right;"/>
							 
							 </aghu:linha>
							  <aghu:linha>
								<mec:field name="tipoCalorias" id="tipoCalorias" inputId="input_tipoCalorias"
									label="#{messages.LABEL_TIPO_CALORIA_GCN}" title="#{messages.TITLE_TIPO_CALORIA_GCN}"
									readonly="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									disabled="#{cadastroComponentesNPTController.modoEdicaoAba1}">
									<h:selectOneMenu name="input_tipoCalorias" id="input_tipoCalorias"
										value="#{cadastroComponentesNPTController.tipoCaloria}"
										readonly="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									  	disabled="#{cadastroComponentesNPTController.modoEdicaoAba1}">
										<f:selectItem itemValue="#{null}" itemLabel="Selecione"
													noSelectionOption="true" />
										<f:selectItems var="item" itemLabel="#{item.descricao}"
											value="#{cadastroComponentesNPTController.tipoCalorias}" />
									</h:selectOneMenu>
								</mec:field>
								<mec:inputNumero
									value="#{cadastroComponentesNPTController.parametros.fatorConvMlFosforo}"
									label="#{messages.LABEL_FATOR_CONVERSAO_FOSFORO}" title="#{messages.TITLE_FATOR_CONVERSAO_FOSFORO}"
									maxlength="5" size="12"
									id="mlParaFosforo" 
									readonly="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									  disabled="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									  inteiros="5" decimais="3" thousandSeparator=""
									styleClass="mascara(decimal)" actionBean="#{cadastroComponentesNPTController}" style="text-align:right;"/>
							 
							 </aghu:linha>
							  <aghu:linha>
							 	<mec:inputNumero
									value="#{cadastroComponentesNPTController.parametros.volumeMaximoMl}"
									label="#{messages.LABEL_VOLUME_MAXIMO}" title="#{messages.TITLE_VOLUME_MAXIMO}"
									maxlength="5" size="12"
									id="volumeMaximo" 
									readonly="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									  disabled="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									  inteiros="5" decimais="3" thousandSeparator=""
									styleClass="mascara(decimal)" actionBean="#{cadastroComponentesNPTController}" style="text-align:right;"/>
								
								<mec:selectBooleanCheckbox id="calcula"  label="#{messages.LABEL_CALCULA_GCN}"
									title="#{messages.TITLE_CALCULA_GCN}"  value="#{cadastroComponentesNPTController.calculaVolume}"
									readonly="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									disabled="#{cadastroComponentesNPTController.modoEdicaoAba1}"/>
								
								<mec:selectBooleanCheckbox id="ativo2"  label="#{messages.LABEL_ATIVO_GCN}" 
				          			title="#{messages.TITLE_ATIVO_GCN_2}" value="#{cadastroComponentesNPTController.ativoAba1}"
									/>
					
							 </aghu:linha>
							  <aghu:linha>
							  		<mec:field name="tipoCalculos" id="tipoCalculos" inputId="input_tipoCalculos"
									label="#{messages.LABEL_TIPO_CALCULO}" title="#{messages.TITLE_TIPO_CALCULO_GCN}" 
									readonly="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									disabled="#{cadastroComponentesNPTController.modoEdicaoAba1}">
									<h:selectOneMenu name="input_tipoCalculos" id="input_tipoCalculos"
										value="#{cadastroComponentesNPTController.tipoCalculo}" required="true"
										readonly="#{cadastroComponentesNPTController.modoEdicaoAba1}"
									  	disabled="#{cadastroComponentesNPTController.modoEdicaoAba1}">
										<f:selectItems var="item" itemLabel="#{item.descricao}"
											value="#{cadastroComponentesNPTController.tipoCalculos}" />
									</h:selectOneMenu>
								</mec:field>
									<aghu:acao> 
								          <mec:commandButton id="bt_gravar_aba1" value="#{messages.LABEL_ADICIONAR}" action="#{cadastroComponentesNPTController.gravarParam}"
								          profile="ok" rendered="#{!cadastroComponentesNPTController.modoEdicaoAba1 and cadastroComponentesNPTController.permissao}" style="float:right !important;"/>  
								           <mec:commandButton id="bt_cancelar_aba1" value="#{messages.LABEL_CANCELAR_EDICAO_PALAVRAS_CHAVE}" rendered="#{cadastroComponentesNPTController.modoEdicaoAba1 and cadastroComponentesNPTController.permissao}" 
								 			process="@this" action="#{cadastroComponentesNPTController.cancelarEditarParam}" style="float:right !important;"/> 
								          <mec:commandButton id="bt_alterar_aba1" value="#{messages.LABEL_ALTERAR}" rendered="#{cadastroComponentesNPTController.modoEdicaoAba1 and cadastroComponentesNPTController.permissao}"
											action="#{cadastroComponentesNPTController.gravarParam}" style="float:right !important;"/>  			
								 		 
								    </aghu:acao> 
									
							  </aghu:linha>
						</aghu:panelGeral>
						<p:outputPanel id="panelTabela1"  style="margin-top:20px !important;"> 
							<mec:serverDataTable id="tabelaParamComponentesNPT"  scrollable="true" 
	      						scrollHeight="130" list="#{cadastroComponentesNPTController.paramList}" controller="#{cadastroComponentesNPTController}"  > 
					            <c:set var="_item" value="#{item}"/> 
					            <p:column headerText="Ações" styleClass="first-column auto-adjust" exportable="false"> 
					            
									<mec:commandLink title="#{messages.LABEL_EDITAR}"  
								   		action="#{cadastroComponentesNPTController.editarParam(_item)}"   
								   		profile="edit" ajax="true"  process="@this" render="panelAbas"
								   		rendered="#{!cadastroComponentesNPTController.modoEdicaoAba1 and _item.param.indSituacao == 'A' and cadastroComponentesNPTController.permissao}"/> 
								   		 
					            	<mec:commandLink id="tabelaTiposSessao_link_remover" immediate="true"
										profile="delete" title="Excluir" ajax="true" process="@this"
										rendered="#{!cadastroComponentesNPTController.modoEdicaoAba1 and cadastroComponentesNPTController.permissao}"
										action="#{cadastroComponentesNPTController.removerParam}"  render="panelTabela1">
										<f:setPropertyActionListener for="command"
											target="#{cadastroComponentesNPTController.paramRemover}"
											value="#{_item}" />
								  	</mec:commandLink>
					            </p:column> 
					            
					            <p:column> 
					              <f:facet name="header"> 
					                <h:outputText value="#{messages.LABEL_CODIGO}"/> 
					              </f:facet>  
					              <h:outputText id="idColum" value="#{_item.param.id.seqp}"/>
					              <p:tooltip direction="bottom-right" styleClass="tooltip" layout="block" for="idColum"> 
				                      <h:outputText value="Tipo de calorias: #{_item.param.tipoCaloria.descricao}"/>  
				                      <br clear="none"/>  
				                      <h:outputText value="Volume Máximo: #{_item.param.volumeMaximoMl}ml"/>  
				                      <br clear="none"/>  
				                      <h:outputText value="Calcula Volume: #{_item.param.indCalculaVolume eq 'S' ? 'Sim' : 'Não'}"/>  
				                      <br clear="none"/>  
				                      <h:outputText value="Fator de conversão da unidade para Nitrogênio: #{_item.param.fatorConvUnidNitrogenio}"/>
				                      <br clear="none"/>  
				                      <h:outputText value="Fator de conversão da unidade em calorias: #{_item.param.fatorConvUnidCalorias}"/>
				                      <br clear="none"/>  
				                      <h:outputText value="Fator de conversão de ml para mOsm: #{_item.param.fatorConvMlMosm}"/>
				                      <br clear="none"/>  
				                      <h:outputText value="Fator de conversão de ml para Fósforo (na unidade): #{_item.param.fatorConvMlFosforo}"/>    
				                    </p:tooltip>  
					            </p:column>
					            
					            <p:column> 
					              <f:facet name="header"> 
					                <h:outputText value="#{messages.LABEL_UNIDADE}"/> 
					              </f:facet>  
					              <h:outputText value="#{_item.ummDescricao}"/> 
					            </p:column> 
					            
					            <p:column> 
					              <f:facet name="header"> 
					                <h:outputText value="#{messages.LABEL_FATOR_CONVERSAO_ML}"/> 
					              </f:facet>  
					              <h:outputText value="#{_item.param.fatorConversaoMl}"/> 
					            </p:column>
					            
					            <p:column> 
					              <f:facet name="header"> 
					                <h:outputText value="#{messages.LABEL_TIPO_CALCULO}"/> 
					              </f:facet>  
					              <h:outputText value="#{_item.param.tipoParamCalculo.descricao}"/> 
					            </p:column>
	
					            <p:column style="white-space:nowrap;" styleClass="#{_item.param.indSituacao == 'A' ? 'checked' : ''}"> 
					              <f:facet name="header"> 
					                <h:outputText value="#{messages.LABEL_TABELA_SITUACAO_COMPONENTE_NPT}"/> 
					              </f:facet> 
					            </p:column>
					           
					       </mec:serverDataTable>
				       </p:outputPanel> 
		      		</h:form>
	      		</p:tab >
	      		<p:tab id="tab1" title="#{messages.LABEL_CASAS_DECIMAIS}" style="height:600px !important;" disabled="#{cadastroComponentesNPTController.modoEdicaoAba1}">
	      			<h:form prependId="false" id="formAba2" >
			      		<aghu:panelGeral> 
			      			 <aghu:linha>
			      				<mec:inputNumero
									value="#{cadastroComponentesNPTController.casa.id.seqp}"
									label="#{messages.LABEL_CODIGO_PARAM_COMPO}"
									maxlength="4" size="10"
									id="codigoCasas" readonly="true"/>
									
								<mec:inputNumero
									value="#{cadastroComponentesNPTController.casa.nroCasasDecimais}"
									label="#{messages.LABEL_NUMERO_CASAS_DECIMAIS}" 
									maxlength="1" size="4" required="true"
									id="nroCasasDecimaisCasas" />
									
								<mec:inputNumero
									value="#{cadastroComponentesNPTController.casa.pesoInicial}"
									label="#{messages.LABEL_PESO_INICIAL}" 
									maxlength="3" size="10" required="true"
									id="pesoInicialCasas" 
									inteiros="3" decimais="3" thousandSeparator=""
									styleClass="mascara(decimal)" actionBean="#{cadastroComponentesNPTController}" style="text-align:right;"/>
									
								<mec:inputNumero
									value="#{cadastroComponentesNPTController.casa.pesoFinal}"
									label="#{messages.LABEL_PESO_FINAL}" 
									maxlength="3" size="10" required="true"
									id="pesoFinalCasas" 
									inteiros="3" decimais="3" thousandSeparator=""
									styleClass="mascara(decimal)" actionBean="#{cadastroComponentesNPTController}" style="text-align:right;"/>	
									
								<mec:selectBooleanCheckbox id="ativoCasas"  label="#{messages.LABEL_ATIVO_GCN}"
								title="#{messages.TITLE_ATIVO_ABA2}" 
								value="#{cadastroComponentesNPTController.ativoCasa}"/>
									
						
						          <mec:commandButton id="bt_gravar_aba2" value="#{messages.LABEL_ADICIONAR}" action="#{cadastroComponentesNPTController.gravarCasa}"
						          	profile="ok" rendered="#{!cadastroComponentesNPTController.modoEdicaoAba2 and cadastroComponentesNPTController.permissao}" style="float:right !important; margin-top:13px important;" process="@this">

						          </mec:commandButton>  
						           <mec:commandButton id="bt_cancelar_aba2" value="#{messages.LABEL_CANCELAR_EDICAO_PALAVRAS_CHAVE}" rendered="#{cadastroComponentesNPTController.modoEdicaoAba2 and cadastroComponentesNPTController.permissao}" 
						 			process="@this" action="#{cadastroComponentesNPTController.cancelarEditarCasa}" style="float:right !important;margin-top:13px important;"/> 
						          <mec:commandButton id="bt_alterar_aba2" value="#{messages.LABEL_ALTERAR}" rendered="#{cadastroComponentesNPTController.modoEdicaoAba2 and cadastroComponentesNPTController.permissao}"
									action="#{cadastroComponentesNPTController.gravarCasa}" style="float:right !important;margin-top:13px important;"/>  			
						 		 
							</aghu:linha>
							
						</aghu:panelGeral>	
						<p:outputPanel id="panelTabela2"  style="margin-top:20px !important;"> 
							<mec:serverDataTable id="tabelaCasasComponentesNPT"  scrollable="true" 
	      						scrollHeight="130" list="#{cadastroComponentesNPTController.casasList}" controller="#{cadastroComponentesNPTController}"  > 
					            <c:set var="_item" value="#{item}"/> 
					            <p:column headerText="Ações" styleClass="first-column auto-adjust" exportable="false"> 
	
									<mec:commandLink title="#{messages.LABEL_EDITAR}"  
								   		action="#{cadastroComponentesNPTController.editarCasa(_item)}"   
								   		profile="edit" ajax="true"  process="@this" render="panelAbas"
								   		rendered="#{!cadastroComponentesNPTController.modoEdicaoAba2 and cadastroComponentesNPTController.permissao}"/> 
								   		 
					            	<mec:commandLink id="tabelaTiposSessao_link_remover2" immediate="true"
										profile="delete" title="Excluir" ajax="true" process="@this"
										rendered="#{!cadastroComponentesNPTController.modoEdicaoAba2 and cadastroComponentesNPTController.permissao}"
										action="#{cadastroComponentesNPTController.removerCasa}"  render="panelTabela2">
										<f:setPropertyActionListener for="command"
											target="#{cadastroComponentesNPTController.casaRemover}"
											value="#{_item}" />
								  	</mec:commandLink>
	
					            </p:column> 
					            <p:column> 
					              <f:facet name="header"> 
					                <h:outputText value="#{messages.LABEL_CODIGO}"/> 
					              </f:facet>  
					              <h:outputText value="#{_item.id.seqp}"/> 
					            </p:column>
					            
					            <p:column> 
					              <f:facet name="header"> 
					                <h:outputText value="#{messages.LABEL_NUMERO_CASAS_DECIMAIS}"/> 
					              </f:facet>  
					              <h:outputText value="#{_item.nroCasasDecimais}"/> 
					            </p:column> 
					            
					            <p:column> 
					              <f:facet name="header"> 
					                <h:outputText value="#{messages.LABEL_PESO_INICIAL}"/> 
					              </f:facet>  
					              <h:outputText value="#{_item.pesoInicial}"/> 
					            </p:column>
					            
					            <p:column> 
					              <f:facet name="header"> 
					                <h:outputText value="#{messages.LABEL_PESO_FINAL}"/> 
					              </f:facet>  
					              <h:outputText value="#{_item.pesoFinal}"/> 
					            </p:column>
	
					            <p:column style="white-space:nowrap;" styleClass="#{_item.indSituacao == 'A' ? 'checked' : ''}"> 
					              <f:facet name="header"> 
					                <h:outputText value="#{messages.LABEL_TABELA_SITUACAO_COMPONENTE_NPT}"/> 
					              </f:facet> 
					            </p:column>
					           
					       </mec:serverDataTable>
				       </p:outputPanel> 
		      		</h:form>
	      		</p:tab>
	      	</p:tabView>
      	</p:outputPanel>

    </ui:define> 
  </ui:composition> 
</html>
