<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:mec="http://xmlns.jcp.org/jsf/composite/components"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:aghu="http://xmlns.jcp.org/jsf/component"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:mf="http://www.mec.gov.br/taglib">
	  
  <ui:composition> 
    <p:outputPanel id="panelModalExamesSismama" layout="inline"> 
      <script type="text/javascript" xml:space="preserve">
    		// Funcao para realizar click no link de selecao do item de exame 
			function clickLink(elementoLinha) {
			 	var a = jQuery(elementoLinha).find('a');
			 	if (a.val() != null &amp;&amp; a.val() != undefined) {
			 		a.click(); 	
				}
			}
		</script>  
      <p:dialog id="modalExamesSismama" width="800" height="300" resizeable="false" showWhenRendered="true" rendered="#{laudoUnicoController.exibeModalExamesSismama}" modal="true" resizable="false" widgetVar="modalExamesSismamaWG"> 
        <f:facet name="header"> 
          <h:panelGroup> 
            <h:outputText value="#{messages.LABEL_RESULTADO_EXAME_HISTOPAT_SISMAMA_ITENS_QUESTIONARIO}"/> 
          </h:panelGroup> 
        </f:facet>  
        <h:form prependId="true" id="formModalExamesSismama"> 
          <aghu:linha> 
            <mec:serverDataTable id="tableItemExameSismama" rendered="#{laudoUnicoController.listaItemSolicitacaoExameSismamaVO ne null and not empty laudoUnicoController.listaItemSolicitacaoExameSismamaVO}" style="margin: 0px !important;" onRowClick="clickLink(this)" width="99%" list="#{laudoUnicoController.listaItemSolicitacaoExameSismamaVO}" scrollable="true"> 
              <p:column> 
                <f:facet name="header">#{messages.LABEL_ACAO}</f:facet>  
                <mec:commandLink id="linkSelecionarItemExame" title="#{messages.LABEL_SELECIONAR}" action="#{laudoUnicoController.carregarItemSolicExameSismama(item.itemSolicitacaoExame.id.soeSeq, item.itemSolicitacaoExame.id.seqp)}" styleClass=" silk-accept silk-icon"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header">#{messages.LABEL_SOLICITACAO}</f:facet>  
                <h:outputText value="#{item.itemSolicitacaoExame.id.soeSeq}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header">#{messages.LABEL_ITEM}</f:facet>  
                <h:outputText value="#{item.itemSolicitacaoExame.id.seqp}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header">#{messages.LABEL_RESULTADO_EXAME_HISTOPAT_SISMAMA_DESCRICAO_USUAL_EXAME}</f:facet>  
                <h:outputText value="#{item.descricaoUsualExame}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header">#{messages.LABEL_CODIGO}</f:facet>  
                <h:outputText value="#{item.itemSolicitacaoExame.regiaoAnatomica.seq}"/> 
              </p:column>  
              <p:column> 
                <f:facet name="header">#{messages.LABEL_RESULTADO_EXAME_HISTOPAT_SISMAMA_DESCRICAO_MATERIAL_ANALISE}</f:facet>  
                <h:outputText value="#{item.descricaoMaterialAnalise}"/> 
              </p:column> 
            </mec:serverDataTable> 
          </aghu:linha>  
          <br clear="none"/>  
          <aghu:linha> 
            <mec:commandButton value="#{messages.LABEL_FECHAR}" action="#{laudoUnicoController.verificarPreenchimentoExamesSismama}" styleClass="bt_fechar silk-application-form-delete bt_cinza" ajax="true" render="panelModalExamesSismama"/> 
          </aghu:linha> 
        </h:form> 
      </p:dialog> 
    </p:outputPanel> 
  </ui:composition> 
</html>