<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">
<ui:composition xmlns:fn="http://java.sun.com/jsp/jstl/functions" template="/WEB-INF/templates/form_template.xhtml">
  <ui:define name="head">
    <title>#{messages['TITLE_PROGRAMACAO_MANUAL_AF']} :: #{messages['NOME_ABREVIADO_PROJETO']}</title>
  </ui:define>
  <ui:define name="metadata">
    <f:metadata>
      <f:viewAction action="#{programacaoManualParcelasEntregaAFController.iniciar}"/>
    </f:metadata>
  </ui:define>
  <ui:define name="body">
    <mec:pageConfig controller="#{programacaoManualParcelasEntregaAFController}"/>
    <h:form prependId="false" id="pesquisaFrm">
      <p:outputPanel id="panelFields" rendered="#{programacaoManualParcelasEntregaAFController.indExibeFiltros}" layout="inline" styleClass="aghu-panel-geral">
        <aghu:panelGeral legend="#{messages.TITLE_PROGRAMACAO_MANUAL_AF}">
          <aghu:linha>
            <p:outputPanel id="panelSuggestions" layout="inline">
              <mec:suggestionBox id="sbNumeroAf" label="#{messages.LABEL_NUMERO_AF_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_NUMERO_AF_PROGRAMACAO_MANUAL_AF}" rendered="#{programacaoManualParcelasEntregaAFController.indExibeFiltros}" descricaoInput="lctNumero" size="10" width="200" styleClass="numerico" suggestionAction="getPesquisarAF" posDeleteAction="limparComplemento" controller="#{programacaoManualParcelasEntregaAFController}" value="#{programacaoManualParcelasEntregaAFController.filtro.autorizacaoForn}" render="panelSuggestions">
                <p:column>
                  <f:facet name="header">
                    <b>#{messages.TITLE_CRUD_AF}</b>
                  </f:facet> #{item.lctNumero}
                </p:column>
              </mec:suggestionBox>
              <mec:inputNumero id="numeroComplemento" label="#{messages.LABEL_COMPLEMENTO_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_COMPLEMENTO_PROGRAMACAO_MANUAL_AF}" value="#{programacaoManualParcelasEntregaAFController.filtro.complemento}" rendered="#{programacaoManualParcelasEntregaAFController.indExibeFiltros}"  size="12" maxlength="5">
                <p:ajax event="change" update="@(#numeroComplemento)"/>
              </mec:inputNumero>
              <mec:suggestionBox id="sbFornecedor" label="#{messages.LABEL_FORNECEDOR_PROGRAMACAO_MANUAL_AF}" descricaoInput="numero" descricaoLabel="razaoSocial" size="10" width="700" suggestionAction="getPesquisarFornecedoresPorCgcCpfRazaoSocial" rendered="#{programacaoManualParcelasEntregaAFController.indExibeFiltros}" controller="#{programacaoManualParcelasEntregaAFController}" value="#{programacaoManualParcelasEntregaAFController.filtro.fornecedor}" render="panelSuggestions">
                <p:column>
                  <f:facet name="header">
                    <b>#{messages.LABEL_CODIGO}</b>
                  </f:facet> #{item.numero}
                </p:column>
                <p:column>
                  <f:facet name="header">
                    <b>#{messages.LABEL_RAZAO_SOCIAL}</b>
                  </f:facet> #{item.razaoSocial}
                </p:column>
                <p:column>
                  <f:facet name="header">
                    <b>#{messages.LABEL_DESCRICAO_CNPJCPF}</b>
                  </f:facet> #{item.cgc}
                </p:column>
              </mec:suggestionBox>
            </p:outputPanel>
            <mec:selectOneMenu id="situacaoProgramacao" label="#{messages.LABEL_SITUACAO_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_SITUACAO_PROGRAMACAO_MANUAL_AF}" rendered="#{programacaoManualParcelasEntregaAFController.indExibeFiltros}" value="#{programacaoManualParcelasEntregaAFController.filtro.situacaoProgramacao}">
              <f:selectItem itemValue="" itemLabel="Selecione"/>
              <f:selectItem itemValue="true" itemLabel="#{messages.LABEL_PROGRAMADO_PROGRAMACAO_MANUAL_AF}"/>
              <f:selectItem itemValue="false" itemLabel="#{messages.LABEL_NAO_PROGRAMADO_PROGRAMACAO_MANUAL_AF}"/>
            </mec:selectOneMenu>
          </aghu:linha>
          <aghu:linha>
            <p:outputPanel id="panelMaterial" layout="inline">
              <mec:suggestionBox label="#{messages.LABEL_MATERIAL_PROGRAMACAO_MANUAL_AF}" descricaoInput="codigo" rendered="#{programacaoManualParcelasEntregaAFController.indExibeFiltros}" descricaoLabel="nome" suggestionAction="getListarMateriaisAtivos" width="650" id="material" controller="#{programacaoManualParcelasEntregaAFController}" value="#{programacaoManualParcelasEntregaAFController.filtro.material}">
                <p:column>
                  <f:facet name="header">
                    <b>#{messages.LABEL_CODIGO}</b>
                  </f:facet> #{item.codigo}
                </p:column>
                <p:column>
                  <f:facet name="header">
                    <b>#{messages.LABEL_NOME}</b>
                  </f:facet>
                  <h:outputText value="#{(item.nome.length() &gt; 40) ? fn:substring(item.nome,0,40) : item.nome}#{(item.nome.length() &gt; 40) ? '...' : '' }" title="#{item.nome}"/>
                </p:column>
                <p:column>
                  <f:facet name="header">
                    <b>#{messages.LABEL_DESCRICAO}</b>
                  </f:facet>
                  <h:outputText value="#{(item.descricao.length() &gt; 40) ? fn:substring(item.descricao,0,40) : item.descricao}#{(item.descricao.length() &gt; 40) ? '...' : '' }" title="#{item.getDescricaoSplited(70)}"/>
                </p:column>
              </mec:suggestionBox>
              <p:tooltip  id="materialToolTip" for="panelMaterial" mode="ajax" disabled="#{empty programacaoManualParcelasEntregaAFController.filtro.material}">
                <h:outputText value="#{messages.LABEL_NOME}: #{programacaoManualParcelasEntregaAFController.filtro.material.nome}"/>
                <br clear="none"/>
                <h:outputText value="#{messages.LABEL_DESCRICAO}: #{programacaoManualParcelasEntregaAFController.filtro.material.descricao}" rendered="#{not empty programacaoManualParcelasEntregaAFController.filtro.material.descricao}"/>
              </p:tooltip>
            </p:outputPanel>
            <mec:suggestionBox id="grupoMaterial" label="#{messages.LABEL_GRUPO_MATERIAL_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_GRUPO_MATERIAL_PROGRAMACAO_MANUAL_AF}" rendered="#{programacaoManualParcelasEntregaAFController.indExibeFiltros}" descricaoInput="codigo" descricaoLabel="descricao" suggestionAction="getObterGrupoMaterialPorSeqDescricao" width="400" controller="#{programacaoManualParcelasEntregaAFController}" value="#{programacaoManualParcelasEntregaAFController.filtro.grupoMaterial}">
              <p:column>
                <f:facet name="header">
                  <b>#{messages.LABEL_CODIGO}</b>
                </f:facet> #{item.codigo}
              </p:column>
              <p:column>
                <f:facet name="header">
                  <b>#{messages.LABEL_DESCRICAO}</b>
                </f:facet> #{item.descricao}
              </p:column>
            </mec:suggestionBox>
          </aghu:linha>
        </aghu:panelGeral>
        <aghu:acao>
          <mec:commandButton value="#{messages.LABEL_PESQUISAR}" id="bt_pesquisar" rendered="#{programacaoManualParcelasEntregaAFController.indExibeFiltros}" action="#{programacaoManualParcelasEntregaAFController.pesquisar}" profile="search"/>
          <mec:commandButton value="#{messages.LABEL_LIMPAR}" immediate="true" rendered="#{programacaoManualParcelasEntregaAFController.indExibeFiltros}" reRender="panelFields" action="#{programacaoManualParcelasEntregaAFController.limparTela}" styleClass="bt_cinza" profile="clear"/>
        </aghu:acao>
      </p:outputPanel>
    </h:form>
    <h:form prependId="false" id="resultados">
      <aghu:linha/>
      <mec:serverDataTable id="tabelaItensAF" scrollHeight="200" title="" rowkeyVar="rowkey" list="#{programacaoManualParcelasEntregaAFController.listaItensAF}" scrollable="true">
        <c:set var="_item" value="#{item}"/>
        <p:column style="width:20%">
          <f:facet name="header">
            <h:outputText value="#{messages.LABEL_ACAO}"/>
          </f:facet>
          <mec:commandLink title="#{messages.TITLE_VISUALIZAR_PARCELAS_PROGRAMACAO_MANUAL_AF}" disabled="#{not _item.possuiParcela}" action="#{programacaoManualParcelasEntregaAFController.redirecionarProgEntregaItensAF}" profile="delete">
            <f:setPropertyActionListener target="#{pesquisaProgrEntregaItensAFController.numeroAf}" value="#{_item.lctNumero}" for="command"/>
            <f:setPropertyActionListener target="#{pesquisaProgrEntregaItensAFController.numeroItem}" value="#{_item.numeroItem}" for="command"/>
            <f:setPropertyActionListener target="#{pesquisaProgrEntregaItensAFController.voltarParaUrl}" value="/compras/autfornecimento/programacaoManualParcelasEntregaAF.seam" for="command"/>
          </mec:commandLink>
        </p:column>
        <p:column style="width:20%">
          <f:facet name="header">
            <h:outputText value="#{messages.LABEL_SELECIONE_ITENS_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_SELECIONE_ITENS_PROGRAMACAO_MANUAL_AF}"/>
          </f:facet>
          <h:selectBooleanCheckbox id="#{_item.lctNumero}_#{rowkey}" value="#{_item.selecionado}" readonly="#{_item.saldo eq 0 or not programacaoManualParcelasEntregaAFController.indExibeFiltros}">
            <p:ajax event="click" update="@(#tabelaItensAF)" process="@this"/>
          </h:selectBooleanCheckbox>
        </p:column>
        <p:column style="width:20%">
          <f:facet name="header">
            <h:outputText value="#{messages.LABEL_NRO_AF_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_NRO_AF_PROGRAMACAO_MANUAL_AF}"/>
          </f:facet>
          <h:outputText value="#{_item.lctNumero}"/>
        </p:column>
        <p:column style="width:15%">
          <f:facet name="header">
            <h:outputText value="#{messages.LABEL_CP_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_CP_PROGRAMACAO_MANUAL_AF}"/>
          </f:facet>
          <h:outputText value="#{_item.nroComplemento}"/>
        </p:column>
        <p:column style="width:15%">
          <f:facet name="header">
            <h:outputText value="#{messages.LABEL_ITEM_PROGRAMACAO_MANUAL_AF}" title="#{messages.LABEL_ITEM_PROGRAMACAO_MANUAL_AF}"/>
          </f:facet>
          <h:outputText value="#{_item.itlNumero}"/>
        </p:column>
        <p:column style="width:75%">
          <f:facet name="header">
            <h:outputText value="#{messages.LABEL_MATERIAL_PROGRAMACAO_MANUAL_AF}" title="#{messages.LABEL_MATERIAL_PROGRAMACAO_MANUAL_AF}"/>
          </f:facet>
          <h:outputText id="idMat" value="#{_item.codigoMaterial} - #{programacaoManualParcelasEntregaAFController.obterStringTruncada(_item.nomeMaterial,15)}"/>
          <p:tooltip for="idMat" mode="ajax" style="width:300px; word-wrap: break-word;" rendered="#{(_item.nomeMaterial.length() &gt; 15)}" direction="bottom-right" styleClass="tooltip" layout="block">
            <h:outputText value="#{_item.nomeMaterial}"/>
          </p:tooltip>
        </p:column>
        <p:column style="width:75%">
          <f:facet name="header">
            <h:outputText value="#{messages.LABEL_FORNECEDOR_PROGRAMACAO_MANUAL_AF}" title="#{messages.LABEL_FORNECEDOR_PROGRAMACAO_MANUAL_AF}"/>
          </f:facet>
          <h:outputText  id="idForn" value="#{programacaoManualParcelasEntregaAFController.obterStringTruncada(_item.razaoSocial,30)}"/>
          <p:tooltip for="idForn" mode="ajax" style="width:300px; word-wrap: break-word;" rendered="#{(_item.razaoSocial.length() &gt; 30)}" direction="bottom-right" styleClass="tooltip" layout="block">
            <h:outputText value="#{_item.razaoSocial}"/>
          </p:tooltip>
        </p:column>
        <p:column style="width:30%">
          <f:facet name="header">
            <h:outputText value="#{messages.LABEL_SALDO_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_SALDO_PROGRAMACAO_MANUAL_AF}"/>
          </f:facet>
          <h:outputText value="#{_item.saldo}"/>
        </p:column>
        <p:column style="width:15%">
          <f:facet name="header">
            <h:outputText value="#{messages.LABEL_FC_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_FC_PROGRAMACAO_MANUAL_AF}"/>
          </f:facet>
          <h:outputText value="#{_item.fatorConversao}"/>
        </p:column>
        <p:column style="width:30%">
          <f:facet name="header">
            <h:outputText value="#{messages.LABEL_PREF_ENTREGA_FORN_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_PREF_ENTREGA_FORN_PROGRAMACAO_MANUAL_AF}"/>
          </f:facet>
          <h:outputText value="#{_item.diaFavEntgMaterialFornecedor}"/>
        </p:column>
        <p:column style="width:30%">
          <f:facet name="header">
            <h:outputText value="#{messages.LABEL_PREF_ENTREGA_GRUPO_MAT_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_PREF_ENTREGA_GRUPO_MAT_PROGRAMACAO_MANUAL_AF}"/>
          </f:facet>
          <h:outputText value="#{_item.diaFavEntgMaterialGrupoMaterial.codigo}"/>
        </p:column>
      </mec:serverDataTable>
    </h:form>
    <br clear="none"/>
    <h:form prependId="false" id="parcelasForm">
      <pe:remoteCommand name="adicionarRemoverLinha" update="panelParcelas" actionListener="#{programacaoManualParcelasEntregaAFController.adicionarRemoverLinha}" process="@this"/>
      <p:outputPanel id="panelGeracaoParcelas" layout="inline" styleClass="aghu-panel-geral">
        <aghu:panelGeral legend="#{messages.TITLE_CRITERIOS_GERACAO_PARCELAS_PROGRAMACAO_MANUAL_AF}">
          <aghu:linha>
            <mec:inputTextData id="primeiraEntrega" label="#{messages.LABEL_PRIMEIRA_ENTREGA_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_PRIMEIRA_ENTREGA_PROGRAMACAO_MANUAL_AF}" value="#{programacaoManualParcelasEntregaAFController.filtro.dtPrimeiraEntrega}" readonly="#{programacaoManualParcelasEntregaAFController.filtro.urgencia != null}" required="true" tipo="datahora"/>
            <mec:selectOneMenu label="#{messages.LABEL_FORMA_PROGRAMACAO_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_FORMA_PROGRAMACAO_PROGRAMACAO_MANUAL_AF}" enum="DominioFormaProgramacao" semSelecione="true" value="#{programacaoManualParcelasEntregaAFController.filtro.formaProgramacao}" readonly="#{programacaoManualParcelasEntregaAFController.filtro.urgencia != null}" required="true" id="formaProgramacao">
              <p:ajax event="change" update="@(#panelQtd)" process="@this"/>
            </mec:selectOneMenu>
            <p:outputPanel id="panelQtd" layout="inline">
              <mec:inputNumero id="qtdeLimiteInteiro"
                               label="#{programacaoManualParcelasEntregaAFController.filtro.formaProgramacao eq 'ND' ? messages.LABEL_N_DIAS_PROGRAMACAO_PROGRAMACAO_MANUAL_AF :
              (programacaoManualParcelasEntregaAFController.filtro.formaProgramacao eq 'NP' ? 
                messages.LABEL_N_PARCELAS_PROGRAMACAO_PROGRAMACAO_MANUAL_AF : 
              messages.LABEL_QTDE_PROGRAMACAO_PROGRAMACAO_MANUAL_AF)}"
                               title="#{messages.TITLE_QTDE_PROGRAMACAO_PROGRAMACAO_MANUAL_AF}"
                               required="true" rendered="#{programacaoManualParcelasEntregaAFController.filtro.formaProgramacao != 'PS'         and programacaoManualParcelasEntregaAFController.filtro.formaProgramacao != 'VL'}" value="#{programacaoManualParcelasEntregaAFController.filtro.qtdeLimiteInteiro}" readonly="#{programacaoManualParcelasEntregaAFController.filtro.urgencia != null}" size="13"/>
              <mec:inputNumero id="qtdeLimiteMonetario" value="#{programacaoManualParcelasEntregaAFController.filtro.qtdeLimiteMonetario}" label="#{messages.LABEL_VALOR_PROGRAMACAO_PROGRAMACAO_MANUAL_AF}" required="true" inteiros="11" decimais="2" styleClass="mascara(decimal)" actionBean="#{programacaoManualParcelasEntregaAFController}" style="text-align:right;" rendered="#{programacaoManualParcelasEntregaAFController.filtro.formaProgramacao == 'VL'}" readonly="#{programacaoManualParcelasEntregaAFController.filtro.urgencia != null}"/>
            </p:outputPanel>
            <mec:selectOneMenu label="#{messages.LABEL_URGENCIA_PROGRAMACAO_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_URGENCIA_PROGRAMACAO_PROGRAMACAO_MANUAL_AF}" itemsType="enum" enum="DominioUrgencia" value="#{programacaoManualParcelasEntregaAFController.filtro.urgencia}" id="urgencia">
              <p:ajax event="change" update="@(#panelQuantidade) @(#panelParcelas) @(#panelGeracaoParcelas)" process="@this" listener="#{programacaoManualParcelasEntregaAFController.limparTiposParcelas}"/>
            </mec:selectOneMenu>
            <p:outputPanel id="panelQuantidade" layout="inline">
              <mec:inputNumero id="quantidade" label="#{messages.LABEL_QUANTIDADE_PROGRAMACAO_PROGRAMACAO_MANUAL_AF}" title="#{programacaoManualParcelasEntregaAFController.filtro.urgencia eq 'U'          ? messages.TITLE_QUANTIDADE_URGENTE_PROGRAMACAO_PROGRAMACAO_MANUAL_AF          : messages.TITLE_QUANTIDADE_IMEDIATO_PROGRAMACAO_PROGRAMACAO_MANUAL_AF}" required="true" rendered="#{programacaoManualParcelasEntregaAFController.filtro.urgencia != null}" value="#{programacaoManualParcelasEntregaAFController.filtro.quantidade}" size="7" maxlength="7"/>
            </p:outputPanel>
          </aghu:linha>

          <p:outputPanel id="panelParcelas" layout="inline">
            <aghu:linha>
              <table width="100%">
                <tr>
                  <td rowspan="3" width="20%" style="vertical-align:top" colspan="1">
                    <mec:selectOneRadio enum="DominioParcela" value="#{programacaoManualParcelasEntregaAFController.filtro.tipoParcela}" required="true" readonly="#{programacaoManualParcelasEntregaAFController.filtro.urgencia != null}" layout="pageDirection" id="tipoParcela">
                      <p:ajax event="click" update="@(#panelParcelas)" process="@this" listener="#{programacaoManualParcelasEntregaAFController.limparListas}"/>
                    </mec:selectOneRadio>
                  </td>
                  <td colspan="7" width="80%" rowspan="1">
                    <mec:inputNumero id="numeroDias" label="#{messages.LABEL_NUMERO_DIAS_PROGRAMACAO_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_NUMERO_DIAS_PROGRAMACAO_PROGRAMACAO_MANUAL_AF}" required="true" rendered="#{programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'IP'            and programacaoManualParcelasEntregaAFController.filtro.urgencia == null}" value="#{programacaoManualParcelasEntregaAFController.filtro.numeroDias}" size="10"/>
                    <mec:inputNumero id="qtdeParcelas" label="#{messages.LABEL_QTDE_DIAS_PROGRAMACAO_PROGRAMACAO_MANUAL_AF}" title="#{messages.TITLE_QTDE_DIAS_PROGRAMACAO_PROGRAMACAO_MANUAL_AF}" required="true" rendered="#{programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'IP'            and programacaoManualParcelasEntregaAFController.filtro.urgencia == null}" value="#{programacaoManualParcelasEntregaAFController.filtro.qtdeParcelas}" size="7" maxlength="7"/>
                    <p:spacer height="45" rendered="#{programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'DE'            and programacaoManualParcelasEntregaAFController.filtro.urgencia == null}"/>
                  </td>
                </tr>
                <tr>
                  <td width="80" style="vertical-align:bottom" rowspan="1" colspan="1">
                    <mec:selectBooleanCheckbox id="checkSabado" rendered="#{programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'DE'            and programacaoManualParcelasEntregaAFController.filtro.urgencia == null}" label="#{messages.LABEL_SABADO_PROGRAMACAO_MANUAL_AF}" posicaoLabel="esquerda" requiredFake="true" value="#{programacaoManualParcelasEntregaAFController.sabadoChecked}">
                      <p:ajax event="change" bypassUpdates="false" update="@(#panelParcelas)" process="@this" listener="#{programacaoManualParcelasEntregaAFController.adicionarRemoverLinha()}"/>
                    </mec:selectBooleanCheckbox>
                  </td>
                  <td width="80" style="vertical-align:bottom" rowspan="1" colspan="1">
                    <mec:selectBooleanCheckbox id="checkDomingo" rendered="#{programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'DE'            and programacaoManualParcelasEntregaAFController.filtro.urgencia == null}" label="#{messages.LABEL_DOMINGO_PROGRAMACAO_MANUAL_AF}" posicaoLabel="esquerda" requiredFake="true" value="#{programacaoManualParcelasEntregaAFController.domingoChecked}">
                      <p:ajax event="change" bypassUpdates="false" update="@(#panelParcelas)" process="@this" listener="#{programacaoManualParcelasEntregaAFController.adicionarRemoverLinha()}"/>
                    </mec:selectBooleanCheckbox>
                  </td>
                  <td width="80" style="vertical-align:bottom" rowspan="1" colspan="1">
                    <mec:selectBooleanCheckbox id="checkSegunda" rendered="#{programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'DE'            and programacaoManualParcelasEntregaAFController.filtro.urgencia == null}" label="#{messages.LABEL_SEGUNDA_PROGRAMACAO_MANUAL_AF}" posicaoLabel="esquerda" requiredFake="true" value="#{programacaoManualParcelasEntregaAFController.segundaChecked}">
                      <p:ajax event="change" bypassUpdates="false" update="@(#panelParcelas)" process="@this" listener="#{programacaoManualParcelasEntregaAFController.adicionarRemoverLinha()}"/>
                    </mec:selectBooleanCheckbox>
                  </td>
                  <td width="80" style="vertical-align:bottom" rowspan="1" colspan="1">
                    <mec:selectBooleanCheckbox id="checkTerca" rendered="#{programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'DE'            and programacaoManualParcelasEntregaAFController.filtro.urgencia == null}" label="#{messages.LABEL_TERCA_PROGRAMACAO_MANUAL_AF}" posicaoLabel="esquerda" requiredFake="true" value="#{programacaoManualParcelasEntregaAFController.tercaChecked}">
                      <p:ajax event="change" bypassUpdates="false" update="@(#panelParcelas)" process="@this" listener="#{programacaoManualParcelasEntregaAFController.adicionarRemoverLinha()}"/>
                    </mec:selectBooleanCheckbox>
                  </td>
                  <td width="80" style="vertical-align:bottom" rowspan="1" colspan="1">
                    <mec:selectBooleanCheckbox id="checkQuarta" rendered="#{programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'DE'            and programacaoManualParcelasEntregaAFController.filtro.urgencia == null}" label="#{messages.LABEL_QUARTA_PROGRAMACAO_MANUAL_AF}" posicaoLabel="esquerda" requiredFake="true" value="#{programacaoManualParcelasEntregaAFController.quartaChecked}">
                      <p:ajax event="change" bypassUpdates="false" update="@(#panelParcelas)" process="@this" listener="#{programacaoManualParcelasEntregaAFController.adicionarRemoverLinha()}"/>
                    </mec:selectBooleanCheckbox>
                  </td>
                  <td width="80" style="vertical-align:bottom" rowspan="1" colspan="1">
                    <mec:selectBooleanCheckbox id="checkQuinta" rendered="#{programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'DE'            and programacaoManualParcelasEntregaAFController.filtro.urgencia == null}" label="#{messages.LABEL_QUINTA_PROGRAMACAO_MANUAL_AF}" posicaoLabel="esquerda" requiredFake="true" value="#{programacaoManualParcelasEntregaAFController.quintaChecked}">
                      <p:ajax event="change" bypassUpdates="false" update="@(#panelParcelas)" process="@this" listener="#{programacaoManualParcelasEntregaAFController.adicionarRemoverLinha()}"/>
                    </mec:selectBooleanCheckbox>
                  </td>
                  <td width="80" style="vertical-align:bottom" rowspan="1" colspan="1">
                    <mec:selectBooleanCheckbox id="checkSexta" rendered="#{programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'DE'            and programacaoManualParcelasEntregaAFController.filtro.urgencia == null}" label="#{messages.LABEL_SEXTA_PROGRAMACAO_MANUAL_AF}" posicaoLabel="esquerda" requiredFake="true" value="#{programacaoManualParcelasEntregaAFController.sextaChecked}">
                      <p:ajax event="change" bypassUpdates="false" update="@(#panelParcelas)" process="@this" listener="#{programacaoManualParcelasEntregaAFController.adicionarRemoverLinha()}"/>
                    </mec:selectBooleanCheckbox>
                  </td>
                </tr>
                <tr>
                  <td style="vertical-align:top" rowspan="1" colspan="1">
                    <p:dataTable id="tabelaSabado" name="tabelaSabado" rendered="#{not empty programacaoManualParcelasEntregaAFController.filtro.listaHorarioSabado            and programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'DE'}" value="#{programacaoManualParcelasEntregaAFController.filtro.listaHorarioSabado}" scrollable="true"
                                 editable="true" editMode="cell" var="item" widgetVar="horaSab">

                      <p:column style="background-color: white !important; color: #000000 !important; border: none !important;">
                        <p:inputMask id="horaSabado" size="4" value="#{item.horario}" mask="99:99">
                          <p:ajax event="blur" update="@(#tabelaSabado)" listener="#{programacaoManualParcelasEntregaAFController.adicionarLinhaSabado}"/>
                          <f:convertDateTime pattern="HH:mm"/>
                        </p:inputMask>
                        <p:tooltip for="horaSabado" mode="ajax" style="word-wrap: break-word;"    direction="bottom- right" styleClass="tooltip" layout="block">
                          <h:outputText value="HH:mm"/>
                        </p:tooltip>
                      </p:column>
                      <p:column style="background-color: white !important; color: #000000 !important; border: none !important;">
                        <p:inputText id="quantidadeItemSabado" size="3" maxlength="7" value="#{item.quantidadeItem}">
                          <p:ajax event="blur" update="@(#tabelaSabado)" listener="#{programacaoManualParcelasEntregaAFController.adicionarLinhaSabado}"/>
                        </p:inputText>
                        <p:tooltip for="quantidadeItemSabado" mode="ajax" style="word-wrap: break-word;"    direction ="bottom-right" styleClass="tooltip" layout="block">
                          <h:outputText value="Quantidade"/>
                        </p:tooltip>
                      </p:column>
                    </p:dataTable>
                  </td>
                  <td style="vertical-align:top" rowspan="1" colspan="1">
                    <p:dataTable id="tabelaDomingo" name="tabelaDomingo" rendered="#{not empty programacaoManualParcelasEntregaAFController.filtro.listaHorarioDomingo            and programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'DE'}" value="#{programacaoManualParcelasEntregaAFController.filtro.listaHorarioDomingo}" scrollable="true"
                                 editable="true" editMode="cell" var="item" widgetVar="horaSab">

                      <p:column style="background-color: white !important; color: #000000 !important; border: none !important;">
                        <p:inputMask id="horaDomingo" size="4" value="#{item.horario}" mask="99:99">
                          <p:ajax event="blur" update="@(#tabelaDomingo)" listener="#{programacaoManualParcelasEntregaAFController.adicionarLinhaDomingo}"/>
                          <f:convertDateTime pattern="HH:mm"/>
                        </p:inputMask>
                        <p:tooltip for="horaDomingo" mode="ajax" style="word-wrap: break-word;"    direction="bottom- right" styleClass="tooltip" layout="block">
                          <h:outputText value="HH:mm"/>
                        </p:tooltip>
                      </p:column>
                      <p:column style="background-color: white !important; color: #000000 !important; border: none !important;">
                        <p:inputText id="quantidadeItemDomingo" size="3" maxlength="7" value="#{item.quantidadeItem}">
                          <p:ajax event="blur" update="@(#tabelaDomingo)" listener="#{programacaoManualParcelasEntregaAFController.adicionarLinhaDomingo}"/>
                        </p:inputText>
                        <p:tooltip for="quantidadeItemDomingo" mode="ajax" style="word-wrap: break-word;"    direction ="bottom-right" styleClass="tooltip" layout="block">
                          <h:outputText value="Quantidade"/>
                        </p:tooltip>
                      </p:column>
                    </p:dataTable>
                  </td>
                  <td style="vertical-align:top" rowspan="1" colspan="1">
                    <p:dataTable id="tabelaSegunda" name="tabelaSegunda" rendered="#{not empty programacaoManualParcelasEntregaAFController.filtro.listaHorarioSegunda            and programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'DE'}" value="#{programacaoManualParcelasEntregaAFController.filtro.listaHorarioSegunda}" scrollable="true"
                                 editable="true" editMode="cell" var="item" widgetVar="horaSab">

                      <p:column style="background-color: white !important; color: #000000 !important; border: none !important;">
                        <p:inputMask id="horaSegunda" size="4" value="#{item.horario}" mask="99:99">
                          <p:ajax event="blur" update="@(#tabelaSegunda)" listener="#{programacaoManualParcelasEntregaAFController.adicionarLinhaSegunda}"/>
                          <f:convertDateTime pattern="HH:mm"/>
                        </p:inputMask>
                        <p:tooltip for="horaSegunda" mode="ajax" style="word-wrap: break-word;"    direction="bottom- right" styleClass="tooltip" layout="block">
                          <h:outputText value="HH:mm"/>
                        </p:tooltip>
                      </p:column>
                      <p:column style="background-color: white !important; color: #000000 !important; border: none !important;">
                        <p:inputText id="quantidadeItemSegunda" size="3" maxlength="7" value="#{item.quantidadeItem}">
                          <p:ajax event="blur" update="@(#tabelaSegunda)" listener="#{programacaoManualParcelasEntregaAFController.adicionarLinhaSegunda}"/>
                        </p:inputText>
                        <p:tooltip for="quantidadeItemSegunda" mode="ajax" style="word-wrap: break-word;"    direction ="bottom-right" styleClass="tooltip" layout="block">
                          <h:outputText value="Quantidade"/>
                        </p:tooltip>
                      </p:column>
                    </p:dataTable>
                  </td>
                  <td style="vertical-align:top" rowspan="1" colspan="1">
                    <p:dataTable id="tabelaTerca" name="tabelaTerca" rendered="#{not empty programacaoManualParcelasEntregaAFController.filtro.listaHorarioTerca            and programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'DE'}" value="#{programacaoManualParcelasEntregaAFController.filtro.listaHorarioTerca}" scrollable="true"
                                 editable="true" editMode="cell" var="item" widgetVar="horaSab">

                      <p:column style="background-color: white !important; color: #000000 !important; border: none !important;">
                        <p:inputMask id="horaTerca" size="4" value="#{item.horario}" mask="99:99">
                          <p:ajax event="blur" update="@(#tabelaTerca)" listener="#{programacaoManualParcelasEntregaAFController.adicionarLinhaTerca}"/>
                          <f:convertDateTime pattern="HH:mm"/>
                        </p:inputMask>
                        <p:tooltip for="horaTerca" mode="ajax" style="word-wrap: break-word;"    direction="bottom- right" styleClass="tooltip" layout="block">
                          <h:outputText value="HH:mm"/>
                        </p:tooltip>
                      </p:column>
                      <p:column style="background-color: white !important; color: #000000 !important; border: none !important;">
                        <p:inputText id="quantidadeItemTerca" size="3" maxlength="7" value="#{item.quantidadeItem}">
                          <p:ajax event="blur" update="@(#tabelaTerca)" listener="#{programacaoManualParcelasEntregaAFController.adicionarLinhaTerca}"/>
                        </p:inputText>
                        <p:tooltip for="quantidadeItemTerca" mode="ajax" style="word-wrap: break-word;"    direction ="bottom-right" styleClass="tooltip" layout="block">
                          <h:outputText value="Quantidade"/>
                        </p:tooltip>
                      </p:column>
                    </p:dataTable>
                  </td>
                  <td style="vertical-align:top" rowspan="1" colspan="1">
                    <p:dataTable id="tabelaQuarta" name="tabelaQuarta" rendered="#{not empty programacaoManualParcelasEntregaAFController.filtro.listaHorarioQuarta            and programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'DE'}" value="#{programacaoManualParcelasEntregaAFController.filtro.listaHorarioQuarta}" scrollable="true"
                                 editable="true" editMode="cell" var="item" widgetVar="horaSab">

                      <p:column style="background-color: white !important; color: #000000 !important; border: none !important;">
                        <p:inputMask id="horaQuarta" size="4" value="#{item.horario}" mask="99:99">
                          <p:ajax event="blur" update="@(#tabelaQuarta)" listener="#{programacaoManualParcelasEntregaAFController.adicionarLinhaQuarta}"/>
                          <f:convertDateTime pattern="HH:mm"/>
                        </p:inputMask>
                        <p:tooltip for="horaQuarta" mode="ajax" style="word-wrap: break-word;"    direction="bottom- right" styleClass="tooltip" layout="block">
                          <h:outputText value="HH:mm"/>
                        </p:tooltip>
                      </p:column>
                      <p:column style="background-color: white !important; color: #000000 !important; border: none !important;">
                        <p:inputText id="quantidadeItemQuarta" size="3" maxlength="7" value="#{item.quantidadeItem}">
                          <p:ajax event="blur" update="@(#tabelaQuarta)" listener="#{programacaoManualParcelasEntregaAFController.adicionarLinhaQuarta}"/>
                        </p:inputText>
                        <p:tooltip for="quantidadeItemQuarta" mode="ajax" style="word-wrap: break-word;"    direction ="bottom-right" styleClass="tooltip" layout="block">
                          <h:outputText value="Quantidade"/>
                        </p:tooltip>
                      </p:column>
                    </p:dataTable>
                  </td>
                  <td style="vertical-align:top" rowspan="1" colspan="1">
                    <p:dataTable id="tabelaQuinta" name="tabelaQuinta" rendered="#{not empty programacaoManualParcelasEntregaAFController.filtro.listaHorarioQuinta            and programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'DE'}" value="#{programacaoManualParcelasEntregaAFController.filtro.listaHorarioQuinta}" scrollable="true"
                                 editable="true" editMode="cell" var="item" widgetVar="horaSab">

                      <p:column style="background-color: white !important; color: #000000 !important; border: none !important;">
                        <p:inputMask id="horaQuinta" size="4" value="#{item.horario}" mask="99:99">
                          <p:ajax event="blur" update="@(#tabelaQuinta)" listener="#{programacaoManualParcelasEntregaAFController.adicionarLinhaQuinta}"/>
                          <f:convertDateTime pattern="HH:mm"/>
                        </p:inputMask>
                        <p:tooltip for="horaQuinta" mode="ajax" style="word-wrap: break-word;"    direction="bottom- right" styleClass="tooltip" layout="block">
                          <h:outputText value="HH:mm"/>
                        </p:tooltip>
                      </p:column>
                      <p:column style="background-color: white !important; color: #000000 !important; border: none !important;">
                        <p:inputText id="quantidadeItemQuinta" size="3" maxlength="7" value="#{item.quantidadeItem}">
                          <p:ajax event="blur" update="@(#tabelaQuinta)" listener="#{programacaoManualParcelasEntregaAFController.adicionarLinhaQuinta}"/>
                        </p:inputText>
                        <p:tooltip for="quantidadeItemQuinta" mode="ajax" style="word-wrap: break-word;"    direction ="bottom-right" styleClass="tooltip" layout="block">
                          <h:outputText value="Quantidade"/>
                        </p:tooltip>
                      </p:column>
                    </p:dataTable>
                  </td>
                  <td style="vertical-align:top" rowspan="1" colspan="1">
                    <p:dataTable id="tabelaSexta" name="tabelaSexta" rendered="#{not empty programacaoManualParcelasEntregaAFController.filtro.listaHorarioSexta            and programacaoManualParcelasEntregaAFController.filtro.tipoParcela eq 'DE'}" value="#{programacaoManualParcelasEntregaAFController.filtro.listaHorarioSexta}" scrollable="true"
                                 editable="true" editMode="cell" var="item" widgetVar="horaSab">

                      <p:column style="background-color: white !important; color: #000000 !important; border: none !important;">
                        <p:inputMask id="horaSexta" size="4" value="#{item.horario}" mask="99:99">
                          <p:ajax event="blur" update="@(#tabelaSexta)" listener="#{programacaoManualParcelasEntregaAFController.adicionarLinhaSexta}"/>
                          <f:convertDateTime pattern="HH:mm"/>
                        </p:inputMask>
                        <p:tooltip for="horaSexta" mode="ajax" style="word-wrap: break-word;"    direction="bottom- right" styleClass="tooltip" layout="block">
                          <h:outputText value="HH:mm"/>
                        </p:tooltip>
                      </p:column>
                      <p:column style="background-color: white !important; color: #000000 !important; border: none !important;">
                        <p:inputText id="quantidadeItemSexta" size="3" maxlength="7" value="#{item.quantidadeItem}">
                          <p:ajax event="blur" update="@(#tabelaSexta)" listener="#{programacaoManualParcelasEntregaAFController.adicionarLinhaSexta}"/>
                        </p:inputText>
                        <p:tooltip for="quantidadeItemSexta" mode="ajax" style="word-wrap: break-word;"    direction ="bottom-right" styleClass="tooltip" layout="block">
                          <h:outputText value="Quantidade"/>
                        </p:tooltip>
                      </p:column>
                    </p:dataTable>
                  </td>
                </tr>
              </table>

            </aghu:linha>
          </p:outputPanel>
        </aghu:panelGeral>
      </p:outputPanel>
      <aghu:acao>
        <mec:commandButton value="#{messages.LABEL_GERAR_PROGRAMACAO_PROGRAMACAO_MANUAL_AF}" id="bt_gerar" action="#{programacaoManualParcelasEntregaAFController.gerarProgramacao()}" ajax="true" render="panelFields,parcelasForm" styleClass="bt_cinza"/>
        <mec:backButton id="bt_voltar" value="#{messages.LABEL_VOLTAR}" action="#{programacaoManualParcelasEntregaAFController.voltar}"/>
      </aghu:acao>
    </h:form>
    <p:outputPanel id="panelModalAlertaBotaoGerar" layout="inline">
      <p:dialog id="modalAlertaBotaoGerar" width="600" rendered="true" modal="true" resizable="false" widgetVar="modalAlertaBotaoGerarWG">
        <f:facet name="header">
          <h:panelGroup>
            <h:outputText value="#{messages.TITULO_MODAL_PROGRAMACAO}"/>
          </h:panelGroup>
        </f:facet>
        <h:outputFormat value="#{programacaoManualParcelasEntregaAFController.modalAlertaGerarVO.alerta}"/>
        <br clear="none"/>
        <br clear="none"/>
        <br clear="none"/>
        <h:panelGroup>
          <h:form prependId="false" id="formModalAlertaBotaoGerar">
            <mec:commandButton id="bt_sim" value="#{messages.LABEL_SIM}" oncomplete="PF('modalAlertaBotaoGerarWG').hide();" block="true" requestDelay="2000" action="#{programacaoManualParcelasEntregaAFController.pressionarBotaoSimModal}" render="panelFields,parcelasForm" profile="ok"/>
            <mec:commandButton value="#{messages.LABEL_NAO}" oncomplete="PF('modalAlertaBotaoGerarWG').hide();" id="bt_nao" profile="cancel" ajax="true"/>
          </h:form>
        </h:panelGroup>
      </p:dialog>
    </p:outputPanel>
  </ui:define>
</ui:composition>
</html>
