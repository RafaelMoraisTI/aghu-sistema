<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <ui:composition> 
    <p:dialog id="modalAssociarCaracteristicasMicrocomputador" zindex="2" width="482" height="330" modal="true" resizable="false" widgetVar="modalAssociarCaracteristicasMicrocomputadorWG" closable="true"> 
      <f:facet name="header"> 
        <h:panelGroup> 
          <h:outputText value="#{messages.TITLE_ASSOCIAR_CARACTERISTICAS_MICROCOMPUTADOR}"/> 
        </h:panelGroup> 
      </f:facet>  
      <h:form prependId="false" id="formAssociarCaracteristicasMicrocomputador"> 
        <aghu:panelGeral style="padding:10px; width: 440px" legend="#{messages.TITLE_ASSOCIAR_CARACTERISTICAS_MICROCOMPUTADOR}"> 
          <aghu:linha> 
            <mec:inputText id="nomeMicrocomputadorCaract" readonly="true" label="#{messages.LABEL_CARACTERISTICA_NOME_MICROCOMPUTADOR}" size="55" maxlength="50" value="#{microcomputadorPaginatorController.microcomputador.nome}" style="text-transform:uppercase" removerCaratersEspeciais="false"/> 
          </aghu:linha>  
     
            <aghu:linha> 
              <mec:selectOneMenu noSelectionOption="true" items="#{microcomputadorPaginatorController.listarCaractMicrocomputadorNaoAssociadas()}" itemLabel="descricao" label="#{messages.LABEL_CARACTERISTICAS_MICROCOMPUTADOR}" value="#{microcomputadorPaginatorController.dominioCaracteristica}" title="#{messages.TITLE_CARACTERISTICAS_MICROCOMPUTADOR}" id="caracteristica"/>
              
              <div style="margin-top:20px;"> 
                <mec:commandButton id="bt_ok" value="#{messages.LABEL_ADICIONAR}" action="#{microcomputadorPaginatorController.adicionarCaracteristicaMicrocomputador}" profile="ok" ajax="true" render="formAssociarCaracteristicasMicrocomputador" process="formAssociarCaracteristicasMicrocomputador"/> 
              </div> 
            </aghu:linha>   
            <aghu:linha> 
                 <mec:serverDataTable id="tabelaAssociaCaracteristicas" list="#{microcomputadorPaginatorController.caracteristicasMicrocomputador}" scrollable="true" scrollHeight="80"> 
                   <c:set var="_caracteristica" value="#{item}"/>  
                   <p:column width="40"> 
                     <mec:commandLink title="#{messages.LABEL_EXCLUIR}" render="formAssociarCaracteristicasMicrocomputador" action="#{microcomputadorPaginatorController.excluirCaracteristica()}" profile="delete" ajax="true" process="@this">
                     	<f:setPropertyActionListener for="command" target="#{microcomputadorPaginatorController.caracteristicaId}" value="#{_caracteristica.id}"/>
                     </mec:commandLink> 
                   </p:column>  
                   <p:column> 
                     <f:facet name="header"> 
                       <h:outputText value="#{messages.LABEL_CARACTERISTICAS_MICROCOMPUTADOR}"/> 
                     </f:facet>  
                     <h:outputText value="#{_caracteristica.id.caracteristica.descricao}"/> 
                   </p:column> 
                 </mec:serverDataTable> 
           </aghu:linha> 
    
        </aghu:panelGeral> 
        <mec:commandButton value="#{messages.LABEL_FECHAR}" onclick="PF('modalAssociarCaracteristicasMicrocomputadorWG').hide();" immediate="true" profile="cancel"/>
      </h:form> 
    </p:dialog> 
  </ui:composition> 
</html>
