<?xml version="1.0" encoding="UTF-8"?>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <ui:composition> 
    <p:outputPanel id="panelModal" layout="inline"> 
      <p:dialog id="modalEmissaoMapaTrabalho" width="500" height="250" modal="true" resizable="false" widgetVar="modalEmissaoMapaTrabalhoWG" closable="true"> 
        <f:facet name="header"> 
          <h:outputText value="#{messages.LABEL_MAPA_DE_TRABALHO}"/> 
        </f:facet>  
        <p:outputPanel value="#{messages.LABEL_MAPA_DE_TRABALHO}" layout="block" style="width:450px; height:250px; overflow-y:auto;"> 
          <h:form prependId="false" id="modalEmissaoMapaTrabalhoForm"> 
            <p:outputPanel id="erropanel" layout="inline"> 
              <p:messages  id="MessagesModal" ajaxRendered="true" layout="list" globalOnly="true" errorClass="errormsg" fatalClass="errormsg" infoClass="infomsg" warnClass="warnmsg"></p:messages> 
            </p:outputPanel>  
            <aghu:panelGeral id="ffdl_EmissaoMapaTrabalho" legend="#{messages.LABEL_MAPA_DE_TRABALHO}"> 
              <aghu:linha> 
                <mec:inputText id="mapaModal" label="#{messages.LABEL_NOME_DO_MAPA}" value="#{emissaoMapaTrabalhoController.tituloModal}" size="55" maxlength="100" readonly="true"/> 
              </aghu:linha>  
              <aghu:linha> 
                <mec:inputNumero id="nroMapa" required="true" label="#{messages.LABEL_NUMERO_DO_MAPA}" title="#{messages.TITLE_NRO_MAPA_EMISSAO_MAPA}" value="#{emissaoMapaTrabalhoController.nroMapa}" maxlength="8" size="15"/>  
                <mec:inputTextData id="dtPesquisa" required="true" label="#{messages.LABEL_DATA_DO_MAPA}" title="#{messages.TITLE_DATA_MAPA_EMISSAO_MAPA}" value="#{emissaoMapaTrabalhoController.dataMapa}" tipo="data"/> 
              </aghu:linha> 
            </aghu:panelGeral>  
            <aghu:acao> 
              <mec:commandButton id="btVisualizarMapaTrabalhoBioq" value="#{messages.LABEL_VISUALIZAR_IMPRESSAO_RELATORIO}" action="#{emissaoMapaTrabalhoController.reEmitirRelatorio}" onclick="PF('loadDialogWG').show();" rendered="#{emissaoMapaTrabalhoController.mapaSelecionado.report eq 'RelMapaTrabalhoBioqController' or emissaoMapaTrabalhoController.mapaSelecionado.report eq 'RelMapaTrabalhoSoroController'}" profile="view"> 
                <f:setPropertyActionListener target="#{relMapaTrabalhoBioqController.seqMapa}" value="#{emissaoMapaTrabalhoController.seqMapaSelecionado}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoBioqController.tipoImpressao}" value="#{emissaoMapaTrabalhoController.tipoImpressao}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoBioqController.dataMapa}" value="#{emissaoMapaTrabalhoController.dataMapa}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoBioqController.nroMapa}" value="#{emissaoMapaTrabalhoController.nroMapa}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoBioqController.directPrint}" value="#{false}" for="command"/> 
              </mec:commandButton>  
              <mec:commandButton id="btVisualizarMapaTrabalhoBioqEqu" value="#{messages.LABEL_VISUALIZAR_IMPRESSAO_RELATORIO}" action="#{emissaoMapaTrabalhoController.reEmitirRelatorio}" onclick="PF('loadDialogWG').show();" rendered="#{emissaoMapaTrabalhoController.mapaSelecionado.report eq 'RelMapaTrabBioEquController'}" profile="view"> 
                <f:setPropertyActionListener target="#{relMapaTrabBioEquController.seqMapa}" value="#{emissaoMapaTrabalhoController.seqMapaSelecionado}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabBioEquController.tipoImpressao}" value="#{emissaoMapaTrabalhoController.tipoImpressao}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabBioEquController.dataMapa}" value="#{emissaoMapaTrabalhoController.dataMapa}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabBioEquController.nroMapa}" value="#{emissaoMapaTrabalhoController.nroMapa}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabBioEquController.directPrint}" value="#{false}" for="command"/> 
              </mec:commandButton>  
              <mec:commandButton id="btVisualizarMapaTrabalhoHematologiaCD" value="#{messages.LABEL_VISUALIZAR_IMPRESSAO_RELATORIO}" action="#{emissaoMapaTrabalhoController.reEmitirRelatorio}" onclick="PF('loadDialogWG').show();" rendered="#{emissaoMapaTrabalhoController.mapaSelecionado.report eq 'RelMapaTrabHemoCD4Controller'}" profile="view"> 
                <f:setPropertyActionListener target="#{relMapaTrabHemoCD4Controller.seqMapa}" value="#{emissaoMapaTrabalhoController.seqMapaSelecionado}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabHemoCD4Controller.tipoImpressao}" value="#{emissaoMapaTrabalhoController.tipoImpressao}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabHemoCD4Controller.dataMapa}" value="#{emissaoMapaTrabalhoController.dataMapa}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabHemoCD4Controller.nroMapa}" value="#{emissaoMapaTrabalhoController.nroMapa}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabHemoCD4Controller.directPrint}" value="#{false}" for="command"/> 
              </mec:commandButton>  
              <mec:commandButton id="btVisualizarMapaTrabalhoHemocultura" value="#{messages.LABEL_VISUALIZAR_IMPRESSAO_RELATORIO}" action="#{emissaoMapaTrabalhoController.reEmitirRelatorio}" onclick="PF('loadDialogWG').show();" rendered="#{emissaoMapaTrabalhoController.mapaSelecionado.report eq 'RelMapaTrabalhoHemoController'}" profile="view"> 
                <f:setPropertyActionListener target="#{relMapaTrabalhoHemoController.seqMapa}" value="#{emissaoMapaTrabalhoController.seqMapaSelecionado}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoHemoController.tipoImpressao}" value="#{emissaoMapaTrabalhoController.tipoImpressao}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoHemoController.dataMapa}" value="#{emissaoMapaTrabalhoController.dataMapa}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoHemoController.nroMapa}" value="#{emissaoMapaTrabalhoController.nroMapa}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoHemoController.directPrint}" value="#{false}" for="command"/> 
              </mec:commandButton>  
              <mec:commandButton id="btVisualizarMapaTrabalhoHematologia" value="#{messages.LABEL_VISUALIZAR_IMPRESSAO_RELATORIO}" action="#{emissaoMapaTrabalhoController.reEmitirRelatorio}" onclick="PF('loadDialogWG').show();" rendered="#{emissaoMapaTrabalhoController.mapaSelecionado.report eq 'RelMapaTrabalhoHemaController'}" profile="view"> 
                <f:setPropertyActionListener target="#{relMapaTrabalhoHemaController.seqMapa}" value="#{emissaoMapaTrabalhoController.seqMapaSelecionado}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoHemaController.tipoImpressao}" value="#{emissaoMapaTrabalhoController.tipoImpressao}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoHemaController.dataMapa}" value="#{emissaoMapaTrabalhoController.dataMapa}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoHemaController.nroMapa}" value="#{emissaoMapaTrabalhoController.nroMapa}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoHemaController.directPrint}" value="#{false}" for="command"/> 
              </mec:commandButton>  
              <mec:commandButton id="btVisualizarMapaTrabalhoUrocultura" value="#{messages.LABEL_VISUALIZAR_IMPRESSAO_RELATORIO}" action="#{emissaoMapaTrabalhoController.reEmitirRelatorio}" onclick="PF('loadDialogWG').show();" rendered="#{emissaoMapaTrabalhoController.mapaSelecionado.report eq 'RelMapaTrabalhoUroController'}" profile="view"> 
                <f:setPropertyActionListener target="#{relMapaTrabalhoUroController.seqMapa}" value="#{emissaoMapaTrabalhoController.seqMapaSelecionado}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoUroController.tipoImpressao}" value="#{emissaoMapaTrabalhoController.tipoImpressao}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoUroController.dataMapa}" value="#{emissaoMapaTrabalhoController.dataMapa}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoUroController.nroMapa}" value="#{emissaoMapaTrabalhoController.nroMapa}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoUroController.directPrint}" value="#{false}" for="command"/> 
              </mec:commandButton>  
              <mec:commandButton id="btVisualizarMapaTrabalhoEPF" value="#{messages.LABEL_VISUALIZAR_IMPRESSAO_RELATORIO}" action="#{emissaoMapaTrabalhoController.reEmitirRelatorio}" onclick="PF('loadDialogWG').show();" rendered="#{emissaoMapaTrabalhoController.mapaSelecionado.report eq 'RelMapaTrabalhoEPFController'}" profile="view"> 
                <f:setPropertyActionListener target="#{relMapaTrabalhoEPFController.seqMapa}" value="#{emissaoMapaTrabalhoController.seqMapaSelecionado}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoEPFController.tipoImpressao}" value="#{emissaoMapaTrabalhoController.tipoImpressao}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoEPFController.dataMapa}" value="#{emissaoMapaTrabalhoController.dataMapa}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoEPFController.nroMapa}" value="#{emissaoMapaTrabalhoController.nroMapa}" for="command"/>  
                <f:setPropertyActionListener target="#{relMapaTrabalhoEPFController.directPrint}" value="#{false}" for="command"/> 
              </mec:commandButton>  
              <mec:commandButton id="btImprimir" value="#{messages.LABEL_IMPRIMIR}" action="#{emissaoMapaTrabalhoController.reEmitirRelatorioPrinter}" onclick="PF('loadDialogWG').show();" profile="print"/> 
            </aghu:acao>  
            <p:outputPanel id="fecharModal" layout="inline"> 
              <p:outputPanel rendered="#{emissaoMapaTrabalhoController.fecharModal}" layout="inline"> 
                <script xml:space="preserve">
								PF('modalEmissaoMapaTrabalhoWG').hide();
							</script> 
              </p:outputPanel> 
            </p:outputPanel> 
          </h:form> 
        </p:outputPanel> 
      </p:dialog> 
    </p:outputPanel> 
  </ui:composition> 
</html>