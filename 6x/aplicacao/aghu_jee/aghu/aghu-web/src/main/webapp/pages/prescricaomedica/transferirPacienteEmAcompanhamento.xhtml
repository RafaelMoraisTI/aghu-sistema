<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:mec="http://xmlns.jcp.org/jsf/composite/components" xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui/extensions" xmlns:aghu="http://xmlns.jcp.org/jsf/component" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:mf="http://www.mec.gov.br/taglib">  
  <ui:composition template="/WEB-INF/templates/form_template.xhtml"> 
    <ui:define name="head"> 
      <title>#{messages.TITLE_TRANSFERIR_PACIENTES}</title> 
    </ui:define>      
    <ui:define name="metadata"> 
      <f:metadata> 
        <f:viewAction action="#{transferirPacienteEmAcompanhamentoController.inicio}"/> 
      </f:metadata> 
    </ui:define>  
    <ui:define name="body">
    <h:form prependId="false" id="formConsultores">
			<aghu:panelGeral id="panelPesquisa" legend="#{messages.TITLE_TRANSFERIR_PACIENTES_FIELDSET_PESQUISA}"> 
				<aghu:linha> 
 					<mec:suggestionBox id="sbProfisionalDe"
						label="#{messages.LABEL_TRANSFERIR_PACIENTES_DE}"
						title="#{messages.TITLE_TRANSFERIR_PACIENTES_DE}" 
						descricaoInput="matriculaVinculo" descricaoLabel="nome" 
						size="50" width="700" required="true"
						onkeypress="return disableEnterKey(event)" 
						suggestionAction="pesquisarProfissionais"
						controller="#{transferirPacienteEmAcompanhamentoController}"
						value="#{transferirPacienteEmAcompanhamentoController.profissionaisDe}">
 						<p:column>
							<f:facet name="header">
								<b>#{messages.LABEL_TRANSFERIR_PACIENTES_VINCULO}</b>
							</f:facet> #{item.vinculo}
	             			</p:column>
						<p:column>
							<f:facet name="header">
								<b>#{messages.LABEL_TRANSFERIR_PACIENTES_MATRICULA}</b>
							</f:facet> #{item.matricula}
	             			</p:column>
						<p:column>
							<f:facet name="header">
								<b>#{messages.LABEL_TRANSFERIR_PACIENTES_NOME}</b>
							</f:facet> #{item.nome}
	             			</p:column>	    
					</mec:suggestionBox> 
				</aghu:linha>
				<aghu:linha>
 					<mec:suggestionBox id="sbProfisionalPara"
						label="#{messages.LABEL_TRANSFERIR_PACIENTES_PARA}"
						title="#{messages.TITLE_TRANSFERIR_PACIENTES_PARA}"
						descricaoInput="matriculaVinculo" descricaoLabel="nome" 
						size="50" width="450" required="true"
						onkeypress="return disableEnterKey(event)" 
						suggestionAction="pesquisarProfissionais"
						controller="#{transferirPacienteEmAcompanhamentoController}"
						value="#{transferirPacienteEmAcompanhamentoController.profissionaisPara}">
 						<p:column>
							<f:facet name="header">
								<b>#{messages.LABEL_TRANSFERIR_PACIENTES_VINCULO}</b>
							</f:facet> #{item.vinculo}
	             			</p:column>
						<p:column>
							<f:facet name="header">
								<b>#{messages.LABEL_TRANSFERIR_PACIENTES_MATRICULA}</b>
							</f:facet> #{item.matricula}
	             			</p:column>
						<p:column>
							<f:facet name="header">
								<b>#{messages.LABEL_TRANSFERIR_PACIENTES_NOME}</b>
							</f:facet> #{item.nome}
	             			</p:column>	               				             			
					</mec:suggestionBox> 
				</aghu:linha>
			</aghu:panelGeral>
			<aghu:acao> 
				<mec:commandButton id="bt_transferir_paciente" process="@this"
					value="#{messages.LABEL_TRANSFERIR_PACIENTES_TRANSFERIR}" render="panelTransferirPaciente"
					action="#{transferirPacienteEmAcompanhamentoController.modalTransferirPaciente}" />
			</aghu:acao> 
			</h:form>
	   		<p:outputPanel id="panelTransferirPaciente" layout="inline">	
		      
		      <p:dialog id="modalTransferirPaciente" width="400" height="150" modal="true" resizable="false" widgetVar="modalTransferirPacienteWG">
		      
		      <f:facet name="header">
						<h:panelGroup>
							<h:outputText value="#{messages.TITLE_TRANSFERIR_PACIENTES_TRANSFERIR}" />
						</h:panelGroup>
					</f:facet>
		      
						#{transferirPacienteEmAcompanhamentoController.mensagemConfirmacao}
						<br clear="none"/>
						<br clear="none"/>
						<br clear="none"/>
		        <h:panelGroup>
		          <h:form prependId="false" id="formModalTransferirPaciente">
		            <mec:commandButton id="bt_excluir_transferir_paciente" value="#{messages.LABEL_SIM}" action="#{transferirPacienteEmAcompanhamentoController.transferirPaciente}" profile="ok" render="panelPesquisa" />  
		            <mec:commandButton id="bt_cancelar_transferir_paciente_modal" value="#{messages.LABEL_NAO}" onclick="PF('modalTransferirPacienteWG').hide();; return false;" profile="cancel" ajax="true"/> 
		          </h:form>
		        </h:panelGroup>
		      </p:dialog>



				</p:outputPanel>
    </ui:define>
  </ui:composition>
</html>
